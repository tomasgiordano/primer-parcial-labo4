(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return u}));var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),Object(r.e)(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,o=t.options,a=void 0===o?{}:o,u=this.normalizeInstanceIdentifier(void 0===i?s:i);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var l=Object(r.g)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var f=Object(r.e)(h.value,2),d=f[1];u===this.normalizeInstanceIdentifier(f[0])&&d.resolve(c)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return c},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.4.3","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return vo})),n.d(e,"b",(function(){return za})),n.d(e,"c",(function(){return Fa})),n.d(e,"d",(function(){return Ma})),n.d(e,"e",(function(){return Va})),n.d(e,"f",(function(){return Du})),n.d(e,"g",(function(){return Su})),n.d(e,"h",(function(){return Zi})),n.d(e,"i",(function(){return eu})),n.d(e,"j",(function(){return Ts})),n.d(e,"k",(function(){return Ka})),n.d(e,"l",(function(){return Cs})),n.d(e,"m",(function(){return An})),n.d(e,"n",(function(){return _a})),n.d(e,"o",(function(){return tt})),n.d(e,"p",(function(){return v})),n.d(e,"q",(function(){return Z})),n.d(e,"r",(function(){return yo})),n.d(e,"s",(function(){return Gs})),n.d(e,"t",(function(){return Qs})),n.d(e,"u",(function(){return Qa})),n.d(e,"v",(function(){return gt})),n.d(e,"w",(function(){return Cu})),n.d(e,"x",(function(){return pt})),n.d(e,"y",(function(){return bu})),n.d(e,"z",(function(){return iu})),n.d(e,"A",(function(){return b})),n.d(e,"B",(function(){return Ha})),n.d(e,"C",(function(){return Ba})),n.d(e,"D",(function(){return ks})),n.d(e,"E",(function(){return xs})),n.d(e,"F",(function(){return As})),n.d(e,"G",(function(){return Rs})),n.d(e,"H",(function(){return yr})),n.d(e,"I",(function(){return _})),n.d(e,"J",(function(){return Au})),n.d(e,"K",(function(){return Js})),n.d(e,"L",(function(){return fu})),n.d(e,"M",(function(){return eo})),n.d(e,"N",(function(){return Ds})),n.d(e,"O",(function(){return Ns})),n.d(e,"P",(function(){return Ys})),n.d(e,"Q",(function(){return Et})),n.d(e,"R",(function(){return wu})),n.d(e,"S",(function(){return Kn})),n.d(e,"T",(function(){return V})),n.d(e,"U",(function(){return Qn})),n.d(e,"V",(function(){return Ru})),n.d(e,"W",(function(){return gu})),n.d(e,"X",(function(){return Ga})),n.d(e,"Y",(function(){return no})),n.d(e,"Z",(function(){return pa})),n.d(e,"ab",(function(){return gr})),n.d(e,"bb",(function(){return Yn})),n.d(e,"cb",(function(){return Mn})),n.d(e,"db",(function(){return Fn})),n.d(e,"eb",(function(){return Hn})),n.d(e,"fb",(function(){return qn})),n.d(e,"gb",(function(){return Un})),n.d(e,"hb",(function(){return Bn})),n.d(e,"ib",(function(){return la})),n.d(e,"jb",(function(){return ju})),n.d(e,"kb",(function(){return ha})),n.d(e,"lb",(function(){return fa})),n.d(e,"mb",(function(){return Vn})),n.d(e,"nb",(function(){return G})),n.d(e,"ob",(function(){return xo})),n.d(e,"pb",(function(){return Bo})),n.d(e,"qb",(function(){return qo})),n.d(e,"rb",(function(){return ca})),n.d(e,"sb",(function(){return ee})),n.d(e,"tb",(function(){return P})),n.d(e,"ub",(function(){return Ln})),n.d(e,"vb",(function(){return _o})),n.d(e,"wb",(function(){return $t})),n.d(e,"xb",(function(){return Os})),n.d(e,"yb",(function(){return Lr})),n.d(e,"zb",(function(){return jo})),n.d(e,"Ab",(function(){return es})),n.d(e,"Bb",(function(){return ts})),n.d(e,"Cb",(function(){return Na})),n.d(e,"Db",(function(){return It})),n.d(e,"Eb",(function(){return Dt})),n.d(e,"Fb",(function(){return T})),n.d(e,"Gb",(function(){return C})),n.d(e,"Hb",(function(){return jt})),n.d(e,"Ib",(function(){return Pt})),n.d(e,"Jb",(function(){return No})),n.d(e,"Kb",(function(){return Fo})),n.d(e,"Lb",(function(){return Vo})),n.d(e,"Mb",(function(){return Mo})),n.d(e,"Nb",(function(){return Uo})),n.d(e,"Ob",(function(){return Tn})),n.d(e,"Pb",(function(){return ps})),n.d(e,"Qb",(function(){return lt})),n.d(e,"Rb",(function(){return Do})),n.d(e,"Sb",(function(){return La})),n.d(e,"Tb",(function(){return Ho})),n.d(e,"Ub",(function(){return Da})),n.d(e,"Vb",(function(){return Qo})),n.d(e,"Wb",(function(){return Po})),n.d(e,"Xb",(function(){return Ra})),n.d(e,"Yb",(function(){return be})),n.d(e,"Zb",(function(){return vr})),n.d(e,"ac",(function(){return Rt})),n.d(e,"bc",(function(){return Ro})),n.d(e,"cc",(function(){return hs})),n.d(e,"dc",(function(){return fs})),n.d(e,"ec",(function(){return ds}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){return{toString:t}.toString()}const m="__parameters__";function y(t,e,n){return g(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(m)?t[m]:Object.defineProperty(t,m,{value:[]})[m];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const v=y("Inject",t=>({token:t})),b=y("Optional"),w=y("Self"),_=y("SkipSelf");var O=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function E(t){for(let e in t)if(t[e]===E)return e;throw Error("Could not find renamed property on target object.")}function S(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function T(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function C(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function I(t){return x(t,t[k])||x(t,t[N])}function x(t,e){return e&&e.token===t?e:null}function A(t){return t&&(t.hasOwnProperty(j)||t.hasOwnProperty(D))?t[j]:null}const k=E({"\u0275prov":E}),j=E({"\u0275inj":E}),R=E({"\u0275provFallback":E}),N=E({ngInjectableDef:E}),D=E({ngInjectorDef:E});function P(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(P).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function L(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const M=E({__forward_ref__:E});function V(t){return t.__forward_ref__=V,t.toString=function(){return P(this())},t}function F(t){return U(t)?t():t}function U(t){return"function"==typeof t&&t.hasOwnProperty(M)&&t.__forward_ref__===V}const q="undefined"!=typeof globalThis&&globalThis,B="undefined"!=typeof window&&window,H="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,z="undefined"!=typeof global&&global,G=q||z||B||H,Q=E({"\u0275cmp":E}),K=E({"\u0275dir":E}),W=E({"\u0275pipe":E}),$=E({"\u0275mod":E}),J=E({"\u0275loc":E}),X=E({"\u0275fac":E}),Y=E({__NG_ELEMENT_ID__:E});class Z{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=T({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const tt=new Z("INJECTOR",-1),et={},nt=/\n/gm,rt="__source",it=E({provide:String,useValue:E});let ot,st=void 0;function at(t){const e=st;return st=t,e}function ut(t){const e=ot;return ot=t,e}function ct(t,e=O.Default){if(void 0===st)throw new Error("inject() must be called from an injection context");return null===st?ht(t,void 0,e):st.get(t,e&O.Optional?null:void 0,e)}function lt(t,e=O.Default){return(ot||ct)(F(t),e)}function ht(t,e,n){const r=I(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&O.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${P(t)}]`)}function ft(t){const e=[];for(let n=0;n<t.length;n++){const r=F(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=O.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof b||"Optional"===i.ngMetadataName||i===b?n|=O.Optional:i instanceof _||"SkipSelf"===i.ngMetadataName||i===_?n|=O.SkipSelf:i instanceof w||"Self"===i.ngMetadataName||i===w?n|=O.Self:t=i instanceof v||i===v?i.token:i}e.push(lt(t,n))}else e.push(lt(r))}return e}class dt{get(t,e=et){if(e===et){const e=new Error(`NullInjectorError: No provider for ${P(t)}!`);throw e.name="NullInjectorError",e}return e}}class pt{}class gt{}function mt(t,e){t.forEach(t=>Array.isArray(t)?mt(t,e):e(t))}function yt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function vt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bt(t,e,n){let r=_t(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function wt(t,e){const n=_t(t,e);if(n>=0)return t[1|n]}function _t(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}var Ot=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Et=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const St={},Tt=[];let Ct=0;function It(t){return g(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Ot.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Tt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Et.Emulated,id:"c",styles:t.styles||Tt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Ct++,n.inputs=Nt(t.inputs,e),n.outputs=Nt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(xt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(At):null,n})}function xt(t){return Lt(t)||function(t){return t[K]||null}(t)}function At(t){return function(t){return t[W]||null}(t)}const kt={};function jt(t){const e={type:t.type,bootstrap:t.bootstrap||Tt,declarations:t.declarations||Tt,imports:t.imports||Tt,exports:t.exports||Tt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&g(()=>{kt[t.id]=t.type}),e}function Rt(t,e){return g(()=>{const n=Vt(t,!0);n.declarations=e.declarations||Tt,n.imports=e.imports||Tt,n.exports=e.exports||Tt})}function Nt(t,e){if(null==t)return St;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Dt=It;function Pt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Lt(t){return t[Q]||null}function Mt(t,e){return t.hasOwnProperty(X)?t[X]:null}function Vt(t,e){const n=t[$]||null;if(!n&&!0===e)throw new Error(`Type ${P(t)} does not have '\u0275mod' property.`);return n}const Ft=20,Ut=10;function qt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Bt(t){return Array.isArray(t)&&!0===t[1]}function Ht(t){return 0!=(8&t.flags)}function zt(t){return 2==(2&t.flags)}function Gt(t){return 1==(1&t.flags)}function Qt(t){return null!==t.template}function Kt(t){return 0!=(512&t[2])}class Wt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function $t(){return Jt}function Jt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Yt),Xt}function Xt(){const t=Zt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===St)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Yt(t,e,n,r){const i=Zt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:St,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Wt(u&&u.currentValue,e,s===St),t[r]=e}function Zt(t){return t.__ngSimpleChanges__||null}$t.ngInherit=!0;let te=void 0;function ee(t){te=t}function ne(t){return!!t.listen}const re={createRenderer:(t,e)=>void 0!==te?te:"undefined"!=typeof document?document:void 0};function ie(t){for(;Array.isArray(t);)t=t[0];return t}function oe(t,e){return ie(e[t+Ft])}function se(t,e){return ie(e[t.index])}function ae(t,e){return t.data[e+Ft]}function ue(t,e){const n=e[t];return qt(n)?n:n[0]}function ce(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function le(t){return 4==(4&t[2])}function he(t){return 128==(128&t[2])}function fe(t,e){return null===t||null==e?null:t[e]}function de(t){t[18]=0}function pe(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const ge={lFrame:De(null),bindingsEnabled:!0,checkNoChangesMode:!1};function me(){return ge.bindingsEnabled}function ye(){return ge.lFrame.lView}function ve(){return ge.lFrame.tView}function be(t){ge.lFrame.contextLView=t}function we(){return ge.lFrame.currentTNode}function _e(t,e){ge.lFrame.currentTNode=t,ge.lFrame.isParent=e}function Oe(){return ge.lFrame.isParent}function Ee(){return ge.checkNoChangesMode}function Se(t){ge.checkNoChangesMode=t}function Te(){return ge.lFrame.bindingIndex++}function Ce(t){const e=ge.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Ie(t,e){const n=ge.lFrame;n.bindingIndex=n.bindingRootIndex=t,xe(e)}function xe(t){ge.lFrame.currentDirectiveIndex=t}function Ae(){return ge.lFrame.currentQueryIndex}function ke(t){ge.lFrame.currentQueryIndex=t}function je(t,e){const n=Ne();ge.lFrame=n,n.currentTNode=e,n.lView=t}function Re(t){const e=Ne(),n=t[1];ge.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function Ne(){const t=ge.lFrame,e=null===t?null:t.child;return null===e?De(t):e}function De(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Pe(){const t=ge.lFrame;return ge.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Le=Pe;function Me(){const t=Pe();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ve(){return ge.lFrame.selectedIndex}function Fe(t){ge.lFrame.selectedIndex=t}function Ue(){const t=ge.lFrame;return ae(t.tView,t.selectedIndex)}function qe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Be(t,e,n){Ge(t,e,3,n)}function He(t,e,n,r){(3&t[2])===n&&Ge(t,e,n,r)}function ze(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ge(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(Qe(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Qe(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const Ke=-1;class We{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function $e(t,e,n){const r=ne(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Xe(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Je(t){return 3===t||4===t||6===t}function Xe(t){return 64===t.charCodeAt(0)}function Ye(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ze(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ze(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function tn(t){return t!==Ke}function en(t){return 32767&t}function nn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}function rn(t){return"string"==typeof t?t:null==t?"":""+t}function on(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():rn(t)}const sn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(G))();function an(t){return t instanceof Function?t():t}let un=!0;function cn(t){const e=un;return un=t,e}let ln=0;function hn(t,e){const n=dn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,fn(r.data,t),fn(e,null),fn(r.blueprint,null));const i=pn(t,e),o=t.injectorIndex;if(tn(i)){const t=en(i),n=nn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function fn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function dn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function pn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ke;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ke}function gn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=ln++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function mn(t,e,n,r=O.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){je(e,t);try{const t=i();if(null!=t||r&O.Optional)return t;throw new Error(`No provider for ${on(n)}!`)}finally{Le()}}else if("number"==typeof i){if(-1===i)return new En(t,e);let o=null,s=dn(t,e),a=Ke,u=r&O.Host?e[16][6]:null;for((-1===s||r&O.SkipSelf)&&(a=-1===s?pn(t,e):e[s+8],a!==Ke&&On(r,!1)?(o=e[1],s=en(a),e=nn(a,e)):s=-1);-1!==s;){const t=e[1];if(_n(i,s,t.data)){const t=vn(s,e,n,o,r,u);if(t!==yn)return t}a=e[s+8],a!==Ke&&On(r,e[1].data[s+8]===u)&&_n(i,s,e)?(o=t,s=en(a),e=nn(a,e)):s=-1}}}if(r&O.Optional&&void 0===i&&(i=null),0==(r&(O.Self|O.Host))){const t=e[9],o=ut(void 0);try{return t?t.get(n,i,r&O.Optional):ht(n,i,r&O.Optional)}finally{ut(o)}}if(r&O.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${on(n)}]`)}const yn={};function vn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=bn(a,s,n,null==r?zt(a)&&un:r!=s&&2===a.type,i&O.Host&&o===a);return null!==u?wn(e,s,u,a):yn}function bn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&Qt(t)&&t.type===n)return u}return null}function wn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof We){const s=i;if(s.resolving)throw new Error("Circular dep for "+on(o[n]));const a=cn(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?ut(s.injectImpl):null;je(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Jt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&ut(u),cn(a),s.resolving=!1,Le()}}return i}function _n(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function On(t,e){return!(t&O.Self||t&O.Host&&e)}class En{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return mn(this._tNode,this._lView,t,void 0,e)}}function Sn(t){const e=t;if(U(t))return()=>{const t=Sn(F(e));return t?t():null};let n=Mt(e);if(null===n){const t=A(e);n=t&&t.factory}return n||null}function Tn(t){return g(()=>{const e=t.prototype.constructor,n=e[X]||Sn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[X]||Sn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Cn(t){return t.ngDebugContext}function In(t){return t.ngOriginalError}function xn(t,...e){t.error(...e)}class An{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||xn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Cn(t)?Cn(t):this._findContext(In(t)):null}_findOriginalError(t){let e=In(t);for(;e&&In(e);)e=In(e);return e}}class kn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class jn extends kn{getTypeName(){return"HTML"}}class Rn extends kn{getTypeName(){return"Style"}}class Nn extends kn{getTypeName(){return"Script"}}class Dn extends kn{getTypeName(){return"URL"}}class Pn extends kn{getTypeName(){return"ResourceURL"}}function Ln(t){return t instanceof kn?t.changingThisBreaksApplicationSecurity:t}function Mn(t,e){const n=Vn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Vn(t){return t instanceof kn&&t.getTypeName()||null}function Fn(t){return new jn(t)}function Un(t){return new Rn(t)}function qn(t){return new Nn(t)}function Bn(t){return new Dn(t)}function Hn(t){return new Pn(t)}let zn=!0,Gn=!1;function Qn(){return Gn=!0,zn}function Kn(){if(Gn)throw new Error("Cannot enable prod mode after platform setup.");zn=!1}class Wn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class $n{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Jn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Yn(t){return(t=String(t)).match(Jn)||t.match(Xn)?t:(Qn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Zn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function tr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const er=Zn("area,br,col,hr,img,wbr"),nr=Zn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rr=Zn("rp,rt"),ir=tr(rr,nr),or=tr(er,tr(nr,Zn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tr(rr,Zn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ir),sr=Zn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ar=Zn("srcset"),ur=tr(sr,ar,Zn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cr=Zn("script,style,template");class lr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!or.hasOwnProperty(e))return this.sanitizedSomething=!0,!cr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!ur.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;sr[o]&&(s=Yn(s)),ar[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Yn(t.trim())).join(", ")),this.buf.push(" ",e,'="',dr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();or.hasOwnProperty(e)&&!er.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(dr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const hr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fr=/([^\#-~ |!])/g;function dr(t){return t.replace(/&/g,"&amp;").replace(hr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(fr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pr;function gr(t,e){let n=null;try{pr=pr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Wn:new $n(t)}(t);let r=e?String(e):"";n=pr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=pr.getInertBodyElement(r)}while(r!==o);const s=new lr,a=s.sanitizeChildren(mr(n)||n);return Qn()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=mr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function mr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var yr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function vr(t){const e=function(){const t=ye();return t&&t[12]}();return e?e.sanitize(yr.URL,t)||"":Mn(t,"URL")?Ln(t):Yn(rn(t))}function br(t,e){t.__ngContext__=e}function wr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const _r="ng-template";function Or(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==wr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Er(t){return 0===t.type&&t.tagName!==_r}function Sr(t,e,n){return e===(0!==t.type||n?t.tagName:_r)}function Tr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Je(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Sr(t,u,n)||""===u&&1===e.length){if(Cr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Or(t.attrs,c,n)){if(Cr(r))return!1;s=!0}continue}const l=Ir(8&r?"class":u,i,Er(t),n);if(-1===l){if(Cr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==wr(e,c,0)||2&r&&c!==t){if(Cr(r))return!1;s=!0}}}}else{if(!s&&!Cr(r)&&!Cr(u))return!1;if(s&&Cr(u))continue;s=!1,r=u|1&r}}return Cr(r)||s}function Cr(t){return 0==(1&t)}function Ir(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function xr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Tr(t,e[r],n))return!0;return!1}function Ar(t,e){return t?":not("+e.trim()+")":e}function kr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Cr(s)||(e+=Ar(o,i),i=""),r=s,o=o||!Cr(r);n++}return""!==i&&(e+=Ar(o,i)),e}const jr={};function Rr(t){const e=t[3];return Bt(e)?e[3]:e}function Nr(t){return Pr(t[13])}function Dr(t){return Pr(t[4])}function Pr(t){for(;null!==t&&!Bt(t);)t=t[4];return t}function Lr(t){Mr(ve(),ye(),Ve()+t,Ee())}function Mr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Be(e,r,n)}else{const r=t.preOrderHooks;null!==r&&He(e,r,0,n)}Fe(n)}function Vr(t,e){return t<<17|e<<2}function Fr(t){return t>>17&32767}function Ur(t){return 2|t}function qr(t){return(131068&t)>>2}function Br(t,e){return-131069&t|e<<2}function Hr(t){return 1|t}function zr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ke(i),n.contentQueries(2,e[o],o)}}}function Gr(t,e,n){return ne(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Qr(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,de(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Kr(t,e,n,r,i){const o=e+Ft,s=t.data[o]||function(t,e,n,r,i){const o=we(),s=Oe(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s&&null==o.child&&null!==a.parent?o.child=a:s||(o.next=a)),a}(t,o,n,r,i);return _e(s,!0),s}function Wr(t,e,n){Re(e);try{const r=t.viewQuery;null!==r&&Si(1,r,n);const i=t.template;null!==i&&Xr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&zr(t,e),t.staticViewQueries&&Si(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)bi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Me()}}function $r(t,e,n,r){const i=e[2];if(256==(256&i))return;Re(e);const o=Ee();try{de(e),ge.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Xr(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Be(e,n,null)}else{const n=t.preOrderHooks;null!==n&&He(e,n,0,null),ze(e,0)}if(function(t){for(let e=Nr(t);null!==e;e=Dr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&pe(r,1),n[2]|=1024}}}(e),function(t){for(let e=Nr(t);null!==e;e=Dr(e))for(let t=Ut;t<e.length;t++){const n=e[t],r=n[1];he(n)&&$r(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&zr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Be(e,n)}else{const n=t.contentHooks;null!==n&&He(e,n,1),ze(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,Fe(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(Ie(r,i),s(2,e[i])),i++)}}}finally{Fe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)vi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Si(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Be(e,n)}else{const n=t.viewHooks;null!==n&&He(e,n,2),ze(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,pe(e[3],-1))}finally{Me()}}function Jr(t,e,n,r){const i=e[10],o=!Ee(),s=le(e);try{o&&!s&&i.begin&&i.begin(),s&&Wr(t,e,r),$r(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Xr(t,e,n,r,i){const o=Ve();try{Fe(-1),2&r&&e.length>Ft&&Mr(t,e,0,Ee()),n(r,i)}finally{Fe(o)}}function Yr(t,e,n){me()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||hn(n,e),br(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=Qt(r);o&&pi(e,n,r);const u=wn(e,t,a,n);br(u,e),null!==s&&gi(0,a-i,u,r,0,s),o&&(ue(n.index,e)[8]=u)}}(t,e,n,se(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-Ft,u=ge.lFrame.currentDirectiveIndex;try{Fe(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];xe(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?ui(r,i):s&&o.push(null)}}finally{Fe(-1),xe(u)}}(t,e,n))}function Zr(t,e,n=se){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function ti(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ei(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ei(t,e,n,r,i,o,s,a,u,c){const l=Ft+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:jr);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function ni(t,e,n,r){const i=Ci(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function ri(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ii(t,e,n,r,i,o,s,a){const u=se(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(xi(t,n,c,r,i),zt(e)&&function(t,e){const n=ue(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.tagName||"",r):i,ne(o)?o.setProperty(u,r,i):Xe(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function oi(t,e,n,r){let i=!1;if(me()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];xr(n,s.selectors,!1)&&(i||(i=[]),gn(hn(n,e),t,s.type),Qt(s)?(li(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,fi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}ci(t,n,o.length);let a=!1,u=!1;for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Ye(n.mergedAttrs,c.hostAttrs),di(t,e,c),hi(t.data.length-1,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-Ft),a=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-Ft),u=!0),si(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Er(e)?null:mi(n,i);o.push(c),s=ri(n,u,s),a=ri(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),ai(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Ye(n.mergedAttrs,n.attrs),i}function si(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function ai(t,e,n){for(let r=0;r<n;r++)e.push(jr),t.blueprint.push(jr),t.data.push(null)}function ui(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ci(t,e,n){const r=Ft-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function li(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function hi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Qt(e)&&(n[""]=t)}}function fi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function di(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Mt(n.type)),i=new We(r,Qt(n),null);t.blueprint.push(i),e.push(i)}function pi(t,e,n){const r=se(e,t),i=ti(n),o=t[10],s=wi(t,Qr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function gi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function mi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function yi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function vi(t,e){const n=ue(e,t);if(he(n)){const t=n[1];80&n[2]?$r(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Nr(e);null!==r;r=Dr(r))for(let e=Ut;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];$r(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=ue(n[r],e);he(i)&&i[5]>0&&t(i)}}(n)}}function bi(t,e){const n=ue(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Wr(r,n,n[8])}function wi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function _i(t){for(;t;){t[2]|=64;const e=Rr(t);if(Kt(t)&&!e)return t;t=e}return null}function Oi(t,e,n){const r=e[10];r.begin&&r.begin();try{$r(t,e,t.template,n)}catch(i){throw Ii(e,i),i}finally{r.end&&r.end()}}function Ei(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=ce(n),i=r[1];Jr(i,r,i.template,n)}}(t[8])}function Si(t,e,n){ke(0),e(t,n)}const Ti=(()=>Promise.resolve(null))();function Ci(t){return t[7]||(t[7]=[])}function Ii(t,e){const n=t[9],r=n?n.get(An,null):null;r&&r.handleError(e)}function xi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Ai(t,e,n,r,i){if(null!=r){let o,s=!1;Bt(r)?o=r:qt(r)&&(s=!0,r=r[0]);const a=ie(r);0===t&&null!==n?null==i?Pi(e,n,a):Di(e,n,a,i||null):1===t&&null!==n?Di(e,n,a,i||null):2===t?function(t,e,n){const r=Mi(t,e);r&&function(t,e,n,r){ne(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==ie(n)&&Ai(e,t,r,o,i);for(let s=Ut;s<n.length;s++){const i=n[s];Ui(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function ki(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,pe(i,-1)),n.splice(r,1)}function ji(t,e){if(t.length<=Ut)return;const n=Ut+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&ki(o,r),e>0&&(t[n-1][4]=r[4]);const s=vt(t,Ut+e);Ui(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Ri(t,e){if(!(256&e[2])){const n=e[11];ne(n)&&n.destroyNode&&Ui(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ni(t[1],t);for(;e;){let n=null;if(qt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)qt(e)&&Ni(e[1],e),e=e[3];null===e&&(e=t),qt(e)&&Ni(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ni(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof We)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):ie(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&ne(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Bt(e[3])){n!==e[3]&&ki(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Di(t,e,n,r){ne(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Pi(t,e,n){ne(t)?t.appendChild(e,n):e.appendChild(n)}function Li(t,e,n,r){null!==r?Di(t,e,n,r):Pi(t,e,n)}function Mi(t,e){return ne(t)?t.parentNode(e):e.parentNode}function Vi(t,e,n,r){const i=function(t,e,n){let r=e.parent;for(;null!=r&&(3===r.type||4===r.type);)r=(e=r).parent;if(null===r)return n[0];if(e&&4===e.type&&4&e.flags)return se(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==Et.ShadowDom&&n!==Et.Native)return null}return se(r,n)}(t,r,e);if(null!=i){const t=e[11],o=function(t,e){return 3===t.type||4===t.type?se(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Li(t,i,n[e],o);else Li(t,i,n,o)}}function Fi(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;s&&0===e&&(a&&br(ie(a),r),n.flags|=4),64!=(64&n.flags)&&(3===u||4===u?(Fi(t,e,n.child,r,i,o,!1),Ai(e,t,i,a,o)):1===u?qi(t,e,r,n,i,o):Ai(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function Ui(t,e,n,r,i,o){Fi(n,r,t.firstChild,e,i,o,!1)}function qi(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Ai(e,t,i,a[u],o);else Fi(t,e,a,s[3],i,o,!0)}function Bi(t,e,n){ne(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Hi(t,e,n){ne(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class zi{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(ie(s)),Bt(s))for(let e=Ut;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(3===a||4===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6].projection[r.projection];if(Array.isArray(o))i.push(...o);else{const n=Rr(e);t(n[1],n,o,i,!0)}}r=o?r.projectionNext:r.next}return i}(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Ri(this._lView[1],this._lView)}onDestroy(t){ni(this._lView[1],this._lView,null,t)}markForCheck(){_i(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Oi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Se(!0);try{Oi(t,e,n)}finally{Se(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Ui(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Gi extends zi{constructor(t){super(t),this._view=t}detectChanges(){Ei(this._view)}checkNoChanges(){!function(t){Se(!0);try{Ei(t)}finally{Se(!1)}}(this._view)}get context(){return null}}let Qi,Ki,Wi;function $i(t,e,n){return Qi||(Qi=class extends t{}),new Qi(se(e,n))}function Ji(t,e,n,r){return Ki||(Ki=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Qr(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Wr(e,n,t),new zi(n)}}),0===n.type?new Ki(r,n,$i(e,n,r)):null}function Xi(t,e,n,r){let i;Wi||(Wi=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return $i(e,this._hostTNode,this._hostView)}get injector(){return new En(this._hostTNode,this._hostView)}get parentInjector(){const t=pn(this._hostTNode,this._hostView);if(tn(t)){const e=nn(t,this._hostView),n=en(t);return new En(e[1].data[n+8],e)}return new En(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-Ut}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(pt,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Bt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Wi(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=Ut+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-Ut?(e[4]=n[i],yt(n,Ut+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=function t(e,n){const r=Ut+e+1;if(r<n.length){const e=n[r],i=e[1].firstChild;if(null!==i)return function e(n,r){if(null!==r){const i=r.type;if(2===i)return se(r,n);if(0===i)return t(-1,n[r.index]);if(3===i||4===i){const i=r.child;if(null!==i)return e(n,i);{const e=n[r.index];return Bt(e)?t(-1,e):ie(e)}}{const t=n[16],i=t[6],o=Rr(t),s=i.projection[r.projection];return null!=s?e(o,s):e(n,r.next)}}return null}(e,i)}return n[7]}(i,o),a=n[11],u=Mi(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Ui(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(this),yt(o[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=ji(this._lContainer,e);n&&(vt(this._lContainer[8],e),Ri(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=ji(this._lContainer,e);return n&&null!=vt(this._lContainer[8],e)?new zi(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(Bt(o))i=o;else{let t;if(3===n.type)t=ie(o);else if(t=r[11].createComment(""),Kt(r)){const e=r[11],i=se(n,r);Di(e,Mi(e,i),t,function(t,e){return ne(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Vi(r[1],r,t,n);r[n.index]=i=yi(o,r,t,n),wi(r,i)}return new Wi(i,n,r)}function Yi(t=!1){return function(t,e,n){if(!n&&zt(t)){const n=ue(t.index,e);return new zi(n,n)}return 2===t.type||0===t.type||3===t.type||4===t.type?new zi(e[16],e):null}(we(),ye(),t)}let Zi=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>to(),t})();const to=Yi,eo=Function,no=new Z("Set Injector scope."),ro={},io={},oo=[];let so=void 0;function ao(){return void 0===so&&(so=new dt),so}function uo(t,e=null,n=null,r){return new co(t,n,e||ao(),r)}class co{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&mt(e,n=>this.processProvider(n,t,e)),mt([t],t=>this.processInjectorType(t,[],i)),this.records.set(tt,fo(void 0,this));const o=this.records.get(no);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:P(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=et,n=O.Default){this.assertNotDestroyed();const r=at(this);try{if(!(n&O.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Z)&&I(t);e=n&&this.injectableDefInScope(n)?fo(lo(t),ro):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&O.Self?ao():this.parent).get(t,e=n&O.Optional&&e===et?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(P(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[rt]&&i.unshift(e[rt]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=P(e);if(Array.isArray(e))i=e.map(P).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):P(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(nt,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{at(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(P(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=F(t)))return!1;let r=A(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=A(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{mt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];mt(r,t=>this.processProvider(t,n,r||oo))}}this.injectorDefTypes.add(o),this.records.set(o,fo(r.factory,ro));const a=r.providers;if(null!=a&&!s){const e=t;mt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=go(t=F(t))?t:F(t&&t.provide);const i=function(t,e,n){return po(t)?fo(void 0,t.useValue):fo(ho(t),ro)}(t);if(go(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=fo(void 0,ro,!0),e.factory=()=>ft(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ro&&(e.value=io,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function lo(t){const e=I(t),n=null!==e?e.factory:Mt(t);if(null!==n)return n;const r=A(t);if(null!==r)return r.factory;if(t instanceof Z)throw new Error(`Token ${P(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${P(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[k]||t[N]||t[R]&&t[R]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ho(t,e,n){let r=void 0;if(go(t)){const e=F(t);return Mt(e)||lo(e)}if(po(t))r=()=>F(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...ft(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>lt(F(t.useExisting));else{const e=F(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Mt(e)||lo(e);r=()=>new e(...ft(t.deps))}var i;return r}function fo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function po(t){return null!==t&&"object"==typeof t&&it in t}function go(t){return"function"==typeof t}const mo=function(t,e,n){return function(t,e=null,n=null,r){const i=uo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let yo=(()=>{class t{static create(t,e){return Array.isArray(t)?mo(t,e,""):mo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=et,t.NULL=new dt,t.\u0275prov=T({token:t,providedIn:"any",factory:()=>lt(tt)}),t.__NG_ELEMENT_ID__=-1,t})();const vo=new Z("AnalyzeForEntryComponents");function bo(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=L(i,t):2==o&&(r=L(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function wo(t,e){const n=ce(t)[1],r=n.data.length-1;qe(n,{directiveStart:r,directiveEnd:r+1})}function _o(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Qt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Oo(t.inputs),e.declaredInputs=Oo(t.declaredInputs),e.outputs=Oo(t.outputs);const n=i.hostBindings;n&&To(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Eo(t,o),s&&So(t,s),S(t.inputs,i.inputs),S(t.declaredInputs,i.declaredInputs),S(t.outputs,i.outputs),Qt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===_o&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ye(i.hostAttrs,n=Ye(n,i.hostAttrs))}}(r)}function Oo(t){return t===St?{}:t===Tt?[]:t}function Eo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function So(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function To(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Co=null;function Io(){if(!Co){const t=G.Symbol;if(t&&t.iterator)Co=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Co=n)}}}return Co}function xo(t){return!!Ao(t)&&(Array.isArray(t)||!(t instanceof Map)&&Io()in t)}function Ao(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ko(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function jo(t,e,n,r){const i=ye();return ko(i,Te(),e)&&(ve(),function(t,e,n,r,i,o){const s=se(t,e),a=e[11];if(null==r)ne(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?rn(r):i(r,t.tagName||"",n);ne(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}(Ue(),i,t,e,n,r)),jo}function Ro(t,e,n,r,i,o,s,a){const u=ye(),c=ve(),l=t+Ft,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Kr(e,t,0,s||null,fe(c,a));oi(e,n,l,fe(c,u)),qe(e,l);const h=l.tViews=ei(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,s):c.data[l];_e(h,!1);const f=u[11].createComment("");Vi(c,u,f,h),br(f,u),wi(u,u[l]=yi(f,u,f,h)),Gt(h)&&Yr(c,u,h),null!=s&&Zr(u,h,a)}function No(t,e=O.Default){const n=ye();return null===n?lt(t,e):mn(we(),n,F(t),e)}function Do(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Je(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(we(),t)}function Po(t,e,n){const r=ye();return ko(r,Te(),e)&&ii(ve(),Ue(),r,t,e,r[11],n,!1),Po}function Lo(t,e,n,r,i){const o=i?"class":"style";xi(t,n,e.inputs[o],o,r)}function Mo(t,e,n,r){const i=ye(),o=ve(),s=Ft+t,a=i[11],u=i[s]=Gr(e,a,ge.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=Kr(e,t,2,i,fe(a,o));return oi(e,n,u,fe(a,s)),null!==u.attrs&&bo(u,u.attrs,!1),null!==u.mergedAttrs&&bo(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(t,o,i,0,e,n,r):o.data[s];_e(c,!0);const l=c.mergedAttrs;null!==l&&$e(a,u,l);const h=c.classes;null!==h&&Hi(a,u,h);const f=c.styles;null!==f&&Bi(a,u,f),Vi(o,i,u,c),0===ge.lFrame.elementDepthCount&&br(u,i),ge.lFrame.elementDepthCount++,Gt(c)&&(Yr(o,i,c),function(t,e,n){if(Ht(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Zr(i,c)}function Vo(){let t=we();Oe()?ge.lFrame.isParent=!1:(t=t.parent,_e(t,!1));const e=t;ge.lFrame.elementDepthCount--;const n=ve();n.firstCreatePass&&(qe(n,t),Ht(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Lo(n,e,ye(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Lo(n,e,ye(),e.stylesWithoutHost,!1)}function Fo(t,e,n,r){Mo(t,e,n,r),Vo()}function Uo(){return ye()}function qo(t){return!!t&&"function"==typeof t.then}function Bo(t){return!!t&&"function"==typeof t.subscribe}function Ho(t,e,n=!1,r){const i=ye(),o=ve(),s=we();return function(t,e,n,r,i,o,s=!1,a){const u=Gt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Ci(e);let h=!0;if(2===r.type){const f=se(r,e),d=a?a(f):St,p=d.target||f,g=l.length,m=a?t=>a(ie(t[r.index])).target:r.index;if(ne(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Go(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=Go(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Ho}function zo(t,e,n){try{return!1!==e(n)}catch(r){return Ii(t,r),!1}}function Go(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?ue(t.index,e):e;0==(32&e[2])&&_i(s);let a=zo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=zo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Qo(t=1){return function(t){return(ge.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,ge.lFrame.contextLView))[8]}(t)}const Ko=[];function Wo(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Fr(o):qr(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];$o(t[a],e)&&(u=!0,t[a+1]=r?Hr(n):Ur(n)),a=r?Fr(n):qr(n)}u&&(t[n+1]=r?Ur(o):Hr(o))}function $o(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&_t(t,e)>=0}const Jo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Xo(t){return t.substring(Jo.key,Jo.keyEnd)}function Yo(t,e){const n=Jo.textEnd;return n===e?-1:(e=Jo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Jo.key=e,n),Zo(t,e,n))}function Zo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ts(t,e){return function(t,e,n,r){const i=ye(),o=ve(),s=Ce(2);o.firstUpdatePass&&is(o,t,s,true),e!==jr&&ko(i,s,e)&&as(o,o.data[Ve()+Ft],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=P(Ln(t))),t}(e),true,s)}(t,e),ts}function es(t){!function(t,e,n,r){const i=ve(),o=Ce(2);i.firstUpdatePass&&is(i,null,o,r);const s=ye();if(n!==jr&&ko(s,o,n)){const a=i.data[Ve()+Ft];if(ls(a,r)&&!rs(i,o)){let t=a.classesWithoutHost;null!==t&&(n=L(t,n||"")),Lo(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===jr&&(i=Ko);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const s=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0;let d=null,p=void 0;l===h?(u+=2,c+=2,s!==f&&(d=h,p=f)):null===h||null!==l&&l<h?(u+=2,d=l):(c+=2,d=h,p=f),null!==d&&as(t,e,n,r,d,p,true,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return Ko;const r=[],i=Ln(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}}(bt,ns,t,!0)}function ns(t,e){for(let n=function(t){return function(t){Jo.key=0,Jo.keyEnd=0,Jo.value=0,Jo.valueEnd=0,Jo.textEnd=t.length}(t),Yo(t,Zo(t,0,Jo.textEnd))}(e);n>=0;n=Yo(e,n))bt(t,Xo(e),!0)}function rs(t,e){return e>=t.expandoStartIndex}function is(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Ve()+Ft],s=rs(t,n);ls(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=ge.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ss(n=os(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=os(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==qr(r))return t[Fr(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=os(null,t,e,n[1],r),n=ss(n,e.attrs,r),function(t,e,n,r){t[Fr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=ss(r,t[o].hostAttrs,n);return ss(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Fr(s),u=qr(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||_t(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Fr(t[a+1]);t[r+1]=Vr(e,a),0!==e&&(t[e+1]=Br(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Vr(a,0),0!==a&&(t[a+1]=Br(t[a+1],r)),a=r;else t[r+1]=Vr(u,0),0===a?a=r:t[u+1]=Br(t[u+1],r),u=r;l&&(t[r+1]=Ur(t[r+1])),Wo(t,c,r,!0),Wo(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&_t(o,e)>=0&&(n[r+1]=Hr(n[r+1]))}(e,c,t,r,o),s=Vr(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function os(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=ss(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ss(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),bt(t,s,!!n||e[++o]))}return void 0===t?null:t}function as(t,e,n,r,i,o,s,a){if(2!==e.type)return;const u=t.data,c=u[a+1];cs(1==(1&c)?us(u,e,n,i,qr(c),s):void 0)||(cs(o)||2==(2&c)&&(o=us(u,null,n,i,a,s)),function(t,e,n,r,i){const o=ne(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,e):n.style.removeProperty(r):o?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,s,oe(Ve(),n),i,o))}function us(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===jr&&(l=c?Ko:void 0);let h=c?wt(l,r):u===r?l:void 0;if(o&&!cs(h)&&(h=wt(e,r)),cs(h)&&(a=h,s))return a;const f=t[i+1];i=s?Fr(f):qr(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=wt(t,r))}return a}function cs(t){return void 0!==t}function ls(t,e){return 0!=(t.flags&(e?16:32))}function hs(t,e=""){const n=ye(),r=ve(),i=t+Ft,o=r.firstCreatePass?Kr(r,t,2,null,null):r.data[i],s=n[i]=function(t,e){return ne(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Vi(r,n,s,o),_e(o,!1)}function fs(t){return ds("",t,""),fs}function ds(t,e,n){const r=ye(),i=function(t,e,n,r){return ko(t,Te(),n)?e+rn(n)+r:jr}(r,t,e,n);return i!==jr&&function(t,e,n){const r=oe(e,t),i=t[11];ne(i)?i.setValue(r,n):r.textContent=n}(r,Ve(),i),ds}function ps(t,e,n){const r=ye();return ko(r,Te(),e)&&ii(ve(),Ue(),r,t,e,r[11],n,!0),ps}function gs(t,e,n,r,i){if(t=F(t),Array.isArray(t))for(let o=0;o<t.length;o++)gs(t[o],e,n,r,i);else{const o=ve(),s=ye();let a=go(t)?t:F(t.provide),u=ho(t);const c=we(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(go(t)||!t.multi){const r=new We(u,i,No),d=vs(a,e,i?l:l+f,h);-1===d?(gn(hn(c,s),o,a),ms(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=vs(a,e,l+f,h),p=vs(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){gn(hn(c,s),o,a);const l=function(t,e,n,r,i){const o=new We(t,n,No);return o.multi=[],o.index=e,o.componentProviders=0,ys(o,i,r&&!n),o}(i?ws:bs,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),ms(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else ms(o,t,d>-1?d:p,ys(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function ms(t,e,n,r){const i=go(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function ys(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function vs(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function bs(t,e,n,r){return _s(this.multi,[])}function ws(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=wn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),_s(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],_s(i,o);return o}function _s(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Os(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=ve();if(r.firstCreatePass){const i=Qt(t);gs(n,r.data,r.blueprint,i,!0),gs(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Es{}class Ss{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${P(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ts=(()=>{class t{}return t.NULL=new Ss,t})(),Cs=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Is(t),t})();const Is=function(t){return $i(t,we(),ye())};class xs{}var As=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let ks=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>js(),t})();const js=function(){const t=ye(),e=ue(we().index,t);return function(t){const e=t[11];if(ne(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(qt(e)?e:t)};let Rs=(()=>{class t{}return t.\u0275prov=T({token:t,providedIn:"root",factory:()=>null}),t})();class Ns{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ds=new Ns("10.1.6");class Ps{constructor(){}supports(t){return xo(t)}create(t){return new Ms(t)}}const Ls=(t,e)=>e;class Ms{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ls}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<qs(n,r,i)?e:n,s=qs(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!xo(t))throw new Error(`Error trying to diff '${P(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Io()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Vs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Us),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Us),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Vs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Fs{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Us{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Fs,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qs(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Bs{constructor(){}supports(t){return t instanceof Map||Ao(t)}create(){return new Hs}}class Hs{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ao(t)))throw new Error(`Error trying to diff '${P(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new zs(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class zs{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Gs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _,new b]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=T({token:t,providedIn:"root",factory:()=>new t([new Ps])}),t})(),Qs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _,new b]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=T({token:t,providedIn:"root",factory:()=>new t([new Bs])}),t})();const Ks=[new Bs],Ws=new Gs([new Ps]),$s=new Qs(Ks);let Js=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Xs(t,Cs),t})();const Xs=function(t,e){return Ji(t,e,we(),ye())};let Ys=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Zs(t,Cs),t})();const Zs=function(t,e){return Xi(t,e,we(),ye())},ta={};class ea extends Ts{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Lt(t);return new ia(e,this.ngModule)}}function na(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const ra=new Z("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>sn});class ia extends Es{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(kr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return na(this.componentDef.inputs)}get outputs(){return na(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,ta,i);return o!==ta||r===ta?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(xs,re),s=i.get(Rs,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(ne(t))return t.selectRootElement(e,n===Et.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Gr(u,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:sn,clean:Ti,playerHandler:null,flags:0},f=ei(0,null,null,1,0,null,null,null,null,null),d=Qr(null,f,h,l,null,null,o,a,s,i);let p,g;Re(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Kr(s,0,2,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(bo(a,u,!0),null!==t&&($e(i,t,u),null!==a.classes&&Hi(i,t,a.classes),null!==a.styles&&Bi(i,t,a.styles)));const c=r.createRenderer(t,e),l=Qr(n,ti(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(gn(hn(a,n),s,e.type),li(s,a),fi(a,n.length,1)),wi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)$e(a,c,["ng-version",Ds.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Cr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&$e(a,c,t),e&&e.length>0&&Hi(a,c,e.join(" "))}if(g=ae(f,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=we();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ci(t,r,1),di(t,e,n));const i=wn(e,t,e.length-1,r);br(i,e);const o=se(r,e);return o&&br(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=we();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Fe(a.index-Ft);const t=n[1];si(t,e),ai(t,n,e.hostVars),ui(e,s)}return s}(t,this.componentDef,d,h,[wo]),Wr(f,d,null)}finally{Me()}return new oa(this.componentType,p,$i(Cs,g,d),d,g)}}class oa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Gi(r),this.componentType=t}get injector(){return new En(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const sa=void 0;var aa=["en",[["a","p"],["AM","PM"],sa],[["AM","PM"],sa,sa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sa,"{1} 'at' {0}",sa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ua={};function ca(t,e,n){"string"!=typeof e&&(n=e,e=t[pa.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ua[e]=t,n&&(ua[e][pa.ExtraData]=n)}function la(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=da(e);if(n)return n;const r=e.split("-")[0];if(n=da(r),n)return n;if("en"===r)return aa;throw new Error(`Missing locale data for the locale "${t}".`)}function ha(t){return la(t)[pa.CurrencyCode]||null}function fa(t){return la(t)[pa.PluralCase]}function da(t){return t in ua||(ua[t]=G.ng&&G.ng.common&&G.ng.common.locales&&G.ng.common.locales[t]),ua[t]}var pa=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const ga="en-US";let ma=ga;function ya(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ma=t.toLowerCase().replace(/_/g,"-"))}const va=new Map;class ba extends pt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ea(this);const n=Vt(t),r=t[J]||null;r&&ya(r),this._bootstrapComponents=an(n.bootstrap),this._r3Injector=uo(t,e,[{provide:pt,useValue:this},{provide:Ts,useValue:this.componentFactoryResolver}],P(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=yo.THROW_IF_NOT_FOUND,n=O.Default){return t===yo||t===pt||t===tt?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class wa extends gt{constructor(t){super(),this.moduleType=t,null!==Vt(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${P(e)} vs ${P(e.name)}`)})(t,va.get(t),e),va.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new ba(this.moduleType,t)}}const _a=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function Oa(){return this._results[Io()]()}class Ea{constructor(){this.dirty=!0,this._results=[],this.changes=new _a,this.length=0;const t=Io(),e=Ea.prototype;e[t]||(e[t]=Oa)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Sa{constructor(t){this.queryList=t,this.matches=null}clone(){return new Sa(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ta{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ta(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Pa(t,e).matches&&this.queries[e].setDirty()}}class Ca{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Ia{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Ia(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class xa{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new xa(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&3===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Aa(e,i)),this.matchTNodeWithReadOption(t,e,bn(e,t,i,!1,!1))}else n===Js?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,bn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Cs||r===Ys||r===Js&&0===e.type)this.addMatch(e.index,-2);else{const n=bn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Aa(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function ka(t,e,n,r){return-1===n?function(t,e){return 2===t.type||3===t.type?$i(Cs,t,e):0===t.type?Ji(Js,Cs,t,e):null}(e,t):-2===n?function(t,e,n){return n===Cs?$i(Cs,e,t):n===Js?Ji(Js,Cs,e,t):n===Ys?Xi(Ys,Cs,e,t):void 0}(t,e,r):wn(t,t[1],n,e)}function ja(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:ka(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Ra(t){const e=ye(),n=ve(),r=Ae();ke(r+1);const i=Pa(n,r);if(t.dirty&&le(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),s=o.matches;if(null!==s){const a=ja(e,n,o,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)i.push(a[e/2]);else{const o=s[e+1],a=n[-r];for(let e=Ut;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):ja(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Na(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new Ia),t.queries.track(new xa(e,n))}(t,new Ca(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new Ea;ni(t,e,n,n.destroy),null===e[19]&&(e[19]=new Ta),e[19].queries.push(new Sa(n))}(t,e)}(ve(),ye(),e,n,r,0,we(),t)}function Da(){return t=ye(),e=Ae(),t[19].queries[e].queryList;var t,e}function Pa(t,e){return t.queries.getByIndex(e)}function La(t=O.Default){const e=Yi(!0);if(null!=e||t&O.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const Ma=new Z("Application Initializer");let Va=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();qo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(lt(Ma,8))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();const Fa=new Z("AppId"),Ua={provide:Fa,useFactory:function(){return`${qa()}${qa()}${qa()}`},deps:[]};function qa(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ba=new Z("Platform Initializer"),Ha=new Z("Platform ID"),za=new Z("appBootstrapListener");let Ga=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();const Qa=new Z("LocaleId"),Ka=new Z("DefaultCurrencyCode");class Wa{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const $a=function(t){return new wa(t)},Ja=$a,Xa=function(t){return Promise.resolve($a(t))},Ya=function(t){const e=$a(t),n=an(Vt(t).declarations).reduce((t,e)=>{const n=Lt(e);return n&&t.push(new ia(n)),t},[]);return new Wa(e,n)},Za=Ya,tu=function(t){return Promise.resolve(Ya(t))};let eu=(()=>{class t{constructor(){this.compileModuleSync=Ja,this.compileModuleAsync=Xa,this.compileModuleAndAllComponentsSync=Za,this.compileModuleAndAllComponentsAsync=tu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();const nu=(()=>Promise.resolve(0))();function ru(t){"undefined"==typeof Zone?nu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class iu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _a(!1),this.onMicrotaskEmpty=new _a(!1),this.onStable=new _a(!1),this.onError=new _a(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=G.requestAnimationFrame,e=G.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(G,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,uu(t),au(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),uu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return cu(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),lu(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return cu(t),e.invoke(r,i,o,s,a)}finally{lu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,uu(t),au(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!iu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(iu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,su,ou,ou);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function ou(){}const su={};function au(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function uu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function cu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function lu(t){t._nesting--,au(t)}class hu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _a,this.onMicrotaskEmpty=new _a,this.onStable=new _a,this.onError=new _a}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let fu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{iu.assertNotInAngularZone(),ru(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ru(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(lt(iu))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})(),du=(()=>{class t{constructor(){this._applications=new Map,yu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return yu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();class pu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function gu(t){yu=t}let mu,yu=new pu;const vu=new Z("AllowMultipleToken");class bu{constructor(t,e){this.name=t,this.token=e}}function wu(t,e,n=[]){const r="Platform: "+e,i=new Z(r);return(e=[])=>{let o=_u();if(!o||o.injector.get(vu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:no,useValue:"platform"});!function(t){if(mu&&!mu.destroyed&&!mu.injector.get(vu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");mu=t.get(Ou);const e=t.get(Ba,null);e&&e.forEach(t=>t())}(yo.create({providers:t,name:r}))}return function(t){const e=_u();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function _u(){return mu&&!mu.destroyed?mu:null}let Ou=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new hu:("zone.js"===t?void 0:t)||new iu({enableLongStackTrace:Qn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:iu,useValue:n}];return n.run(()=>{const e=yo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(An,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Tu(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return qo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Va);return t.runInitializers(),t.donePromise.then(()=>(ya(i.injector.get(Qa,ga)||ga),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Eu({},e);return function(t,e,n){const r=new wa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Su);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${P(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(lt(yo))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();function Eu(t,e){return Array.isArray(e)?e.reduce(Eu,t):Object.assign(Object.assign({},t),e)}let Su=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Qn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{iu.assertNotInAngularZone(),ru(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{iu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Es?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(pt),i=n.create(yo.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(fu,null);return o&&i.injector.get(du).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Qn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Tu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(za,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Tu(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(lt(iu),lt(Ga),lt(yo),lt(An),lt(Ts),lt(Va))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();function Tu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Cu{}class Iu{}const xu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Au=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||xu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>ku(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>ku(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(lt(eu),lt(Iu,8))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();function ku(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const ju=function(t){return null},Ru=wu(null,"core",[{provide:Ha,useValue:"unknown"},{provide:Ou,deps:[yo]},{provide:du,deps:[]},{provide:Ga,deps:[]}]),Nu=[{provide:Su,useClass:Su,deps:[iu,Ga,yo,An,Ts,Va]},{provide:ra,deps:[iu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Va,useClass:Va,deps:[[new b,Ma]]},{provide:eu,useClass:eu,deps:[]},Ua,{provide:Gs,useFactory:function(){return Ws},deps:[]},{provide:Qs,useFactory:function(){return $s},deps:[]},{provide:Qa,useFactory:function(t){return ya(t=t||"undefined"!=typeof $localize&&$localize.locale||ga),t},deps:[[new v(Qa),new b,new _]]},{provide:Ka,useValue:"USD"}];let Du=(()=>{class t{constructor(t){}}return t.\u0275mod=jt({type:t}),t.\u0275inj=C({factory:function(e){return new(e||t)(lt(Su))},providers:Nu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"g",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return _})),n.d(e,"f",(function(){return i})),n.d(e,"g",(function(){return o})),n.d(e,"h",(function(){return S})),n.d(e,"i",(function(){return a})),n.d(e,"j",(function(){return l})),n.d(e,"k",(function(){return h})),n.d(e,"l",(function(){return d})),n.d(e,"m",(function(){return p})),n.d(e,"n",(function(){return u})),n.d(e,"o",(function(){return c})),n.d(e,"p",(function(){return f})),n.d(e,"q",(function(){return g}));var r=n("mrSG");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,y.prototype.create),o}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?v(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new m(i,a,r);return u},t}();function v(t,e){return t.replace(b,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function E(){}function S(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return C})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return S})),n.d(e,"g",(function(){return _})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return m})),n.d(e,"j",(function(){return O}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),w=new u.O("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:_,deps:[v,u.z,[new u.A,b]]};let C=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Hb({type:t}),t.\u0275inj=u.Gb({factory:function(e){return new(e||t)(u.Qb(u.B))},providers:[T]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.d)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.g)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.g)(e,t)},createSubscribe:s.e,ErrorFactory:s.b,deepExtend:s.g}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.j)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.o)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new y(t)}),"PRIVATE")),t.registerVersion(h,"0.6.20",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function o(){return i}const s=new r.q("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Qb)(l)}const c=new r.q("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(s))},t.\u0275prov=Object(r.Fb)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l(Object(r.Qb)(s))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Qb)(s).location;return new b(Object(r.Qb)(a),e&&e.origin||"")}const v=new r.q("appBaseHref");let b=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(a),r.Qb(v,8))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(a),r.Qb(v,8))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(m),r.Qb(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Fb)({factory:O,token:t,providedIn:"root"}),t})();function O(){return new _(Object(r.Qb)(m),Object(r.Qb)(a))}function E(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const T=r.lb;class C{}let I=(()=>{class t extends C{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(T(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.u))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();function x(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class A{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let k=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.U)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new j(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new j(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.P),r.Jb(r.K),r.Jb(r.s))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class j{constructor(t,e){this.record=t,this.view=e}}let R=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new N,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){D("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){D("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.P),r.Jb(r.K))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class N{constructor(){this.$implicit=null,this.ngIf=null}}function D(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}let P=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[{provide:C,useClass:I}]}),t})(),L=(()=>{class t{}return t.\u0275prov=Object(r.Fb)({token:t,providedIn:"root",factory:()=>new M(Object(r.Qb)(s),window,Object(r.Qb)(r.m))}),t})();class M{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=V(this.window.history)||V(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function V(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class F extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new F,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=q||(q=document.querySelector("base"),q)?q.getAttribute("href"):null;return null==e?null:(n=e,U||(U=document.createElement("a")),U.setAttribute("href",n),"/"===U.pathname.charAt(0)?U.pathname:"/"+U.pathname);var n}resetBaseElement(){q=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return x(document.cookie,t)}}let U,q=null;const B=new r.q("TRANSITION_ID"),H=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[B,s,r.r],multi:!0}];class z{static init(){Object(r.W)(new z)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const G=new r.q("EventManagerPlugins");let Q=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(G),r.Qb(r.z))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class K{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let W=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),$=(()=>{class t extends W{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(s))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const J={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},X=/%COMP%/g;function Y(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Y(t,i,n):(i=i.replace(X,t),n.push(i))}return n}function Z(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let tt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new et(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new nt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.Q.Native:case r.Q.ShadowDom:return new rt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Y(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Q),r.Qb($),r.Qb(r.c))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class et{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(J[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=J[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=J[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Z(n)):this.eventManager.addEventListener(t,e,Z(n))}}class nt extends et{constructor(t,e,n,r){super(t),this.component=n;const i=Y(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(X,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(X,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class rt extends et{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.Q.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=Y(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let it=(()=>{class t extends K{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(s))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const ot=["alt","control","meta","shift"],st={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},at={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ut={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ct=(()=>{class t extends K{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(ot.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&at.hasOwnProperty(e)&&(e=at[e]))}return st[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ot.forEach(r=>{r!=n&&(0,ut[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(s))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const lt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){F.makeCurrent(),z.init()},multi:!0},{provide:s,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],ht=Object(r.R)(r.V,"browser",lt),ft=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:G,useClass:it,multi:!0,deps:[s,r.z,r.B]},{provide:G,useClass:ct,multi:!0,deps:[s]},[],{provide:tt,useClass:tt,deps:[Q,$,r.c]},{provide:r.E,useExisting:tt},{provide:W,useExisting:$},{provide:$,useClass:$,deps:[s]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:Q,useClass:Q,deps:[G,r.z]},[]];let dt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:B,useExisting:r.c},H]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)(r.Qb(t,12))},providers:ft,imports:[P,r.f]}),t})();"undefined"!=typeof window&&window;var pt=n("LRne"),gt=n("Cfvw"),mt=n("XNiG"),yt=n("9ppp");class vt extends mt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new yt.a;return this._value}next(t){super.next(this._value=t)}}var bt=n("z+Ro"),wt=n("DH7j"),_t=n("7o/Q");class Ot extends _t.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Et extends _t.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var St=n("SeVD"),Tt=n("HDdC");function Ct(t,e,n,r,i=new Et(t,n,r)){if(!i.closed)return e instanceof Tt.a?e.subscribe(i):Object(St.a)(e)(i)}var It=n("yCtX");const xt={};class At{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new kt(t,this.resultSelector))}}class kt extends Ot{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(xt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Ct(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===xt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const jt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Rt=n("EY2u");function Nt(t){return new Tt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(gt.a)(n):Object(Rt.b)()).subscribe(e)})}var Dt=n("lJxs"),Pt=n("bHdf");function Lt(){return Object(Pt.a)(1)}function Mt(t,e){return function(n){return n.lift(new Vt(t,e))}}class Vt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ft(t,this.predicate,this.thisArg))}}class Ft extends _t.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Ut=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function qt(t){return function(e){return 0===t?Object(Rt.b)():e.lift(new Bt(t))}}class Bt{constructor(t){if(this.total=t,this.total<0)throw new Ut}call(t,e){return e.subscribe(new Ht(t,this.total))}}class Ht extends _t.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function zt(t=Kt){return e=>e.lift(new Gt(t))}class Gt{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Qt(t,this.errorFactory))}}class Qt extends _t.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Ov){t=Ov}this.destination.error(t)}}}function Kt(){return new jt}function Wt(t=null){return e=>e.lift(new $t(t))}class $t{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Jt(t,this.defaultValue))}}class Jt extends _t.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Xt=n("SpAZ"),Yt=n("zx2A");function Zt(t,e){return"function"==typeof e?n=>n.pipe(Zt((n,r)=>Object(gt.a)(t(n,r)).pipe(Object(Dt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new te(t))}class te{constructor(t){this.project=t}call(t,e){return e.subscribe(new ee(t,this.project))}}class ee extends Yt.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Yt.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Yt.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function ne(t){return e=>0===t?Object(Rt.b)():e.lift(new re(t))}class re{constructor(t){if(this.total=t,this.total<0)throw new Ut}call(t,e){return e.subscribe(new ie(t,this.total))}}class ie extends _t.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function oe(...t){return Lt()(Object(pt.a)(...t))}function se(...t){const e=t[t.length-1];return Object(bt.a)(e)?(t.pop(),n=>oe(t,n,e)):e=>oe(t,e)}function ae(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ue(t,e,n))}}class ue{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ce(t,this.accumulator,this.seed,this.hasSeed))}}class ce extends _t.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function le(t){return function(e){const n=new he(t),r=e.lift(n);return n.caught=r}}class he{constructor(t){this.selector=t}call(t,e){return e.subscribe(new fe(t,this.selector,this.caught))}}class fe extends Yt.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Yt.a(this);this.add(r);const i=Object(Yt.c)(n,r);i!==r&&this.add(i)}}}var de=n("5+tZ");function pe(t,e){return Object(de.a)(t,e,1)}function ge(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Mt((e,n)=>t(e,n,r)):Xt.a,ne(1),n?Wt(e):zt(()=>new jt))}var me=n("vkgz"),ye=n("quSY");class ve{constructor(t){this.callback=t}call(t,e){return e.subscribe(new be(t,this.callback))}}class be extends _t.a{constructor(t,e){super(t),this.add(new ye.a(e))}}class we{constructor(t,e){this.id=t,this.url=e}}class _e extends we{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Oe extends we{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ee extends we{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Se extends we{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Te extends we{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ce extends we{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ie extends we{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xe extends we{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ae extends we{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ke{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class je{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Re{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ne{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class De{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pe{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Le{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Me="primary";class Ve{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Fe(t){return new Ve(t)}function Ue(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function qe(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Be(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!He(t[i],e[i]))return!1;return!0}function He(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function ze(t){return Array.prototype.concat.apply([],t)}function Ge(t){return t.length>0?t[t.length-1]:null}function Qe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ke(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(gt.a)(Promise.resolve(t)):Object(pt.a)(t)}function We(t,e,n){return n?function(t,e){return Be(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Ye(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>He(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Ye(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Ye(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!Ye(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class $e{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fe(this.queryParams)),this._queryParamMap}toString(){return nn.serialize(this)}}class Je{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Qe(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rn(this)}}class Xe{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Fe(this.parameters)),this._parameterMap}toString(){return ln(this)}}function Ye(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Ze(t,e){let n=[];return Qe(t.children,(t,r)=>{r===Me&&(n=n.concat(e(t,r)))}),Qe(t.children,(t,r)=>{r!==Me&&(n=n.concat(e(t,r)))}),n}class tn{}class en{parse(t){const e=new gn(t);return new $e(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return rn(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return Qe(e.children,(e,n)=>{n!==Me&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Ze(e,(n,r)=>r===Me?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${rn(e)}/${n[0]}`:`${rn(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${sn(e)}=${sn(t)}`).join("&"):`${sn(e)}=${sn(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const nn=new en;function rn(t){return t.segments.map(t=>ln(t)).join("/")}function on(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sn(t){return on(t).replace(/%3B/gi,";")}function an(t){return on(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function un(t){return decodeURIComponent(t)}function cn(t){return un(t.replace(/\+/g,"%20"))}function ln(t){return`${an(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${an(t)}=${an(e[t])}`).join("")}`;var e}const hn=/^[^\/()?;=#]+/;function fn(t){const e=t.match(hn);return e?e[0]:""}const dn=/^[^=?&#]+/,pn=/^[^?&#]+/;class gn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Je([],{}):new Je([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Je(t,e)),n}parseSegment(){const t=fn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Xe(un(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=fn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=fn(this.remaining);t&&(n=t,this.capture(n))}t[un(e)]=un(n)}parseQueryParam(t){const e=function(t){const e=t.match(dn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(pn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=cn(e),i=cn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=fn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Me);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Je([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class mn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=yn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=yn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=vn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return vn(t,this._root).map(t=>t.value)}}function yn(t,e){if(t===e.value)return e;for(const n of e.children){const e=yn(t,n);if(e)return e}return null}function vn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=vn(t,n);if(r.length)return r.unshift(e),r}return[]}class bn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function wn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class _n extends mn{constructor(t,e){super(t),this.snapshot=e,In(this,t)}toString(){return this.snapshot.toString()}}function On(t,e){const n=function(t,e){const n=new Tn([],{},{},"",{},Me,e,null,t.root,-1,{});return new Cn("",new bn(n,[]))}(t,e),r=new vt([new Xe("",{})]),i=new vt({}),o=new vt({}),s=new vt({}),a=new vt(""),u=new En(r,i,s,a,o,Me,e,n.root);return u.snapshot=n.root,new _n(new bn(u,[]),n)}class En{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Dt.a)(t=>Fe(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Dt.a)(t=>Fe(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Sn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Tn{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fe(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fe(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cn extends mn{constructor(t,e){super(e),this.url=t,In(this,e)}toString(){return xn(this._root)}}function In(t,e){e.value._routerState=t,e.children.forEach(e=>In(t,e))}function xn(t){const e=t.children.length>0?` { ${t.children.map(xn).join(", ")} } `:"";return`${t.value}${e}`}function An(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Be(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Be(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Be(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Be(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function kn(t,e){return Be(t.params,e.params)&&function(t,e){return Ye(t,e)&&t.every((t,n)=>Be(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||kn(t.parent,e.parent))}function jn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Rn(t,e,n,r,i){let o={};return r&&Qe(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new $e(n.root===t?e:function t(e,n,r){const i={};return Qe(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new Je(e.segments,i)}(n.root,t,e),o,i)}class Nn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&jn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Ge(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Dn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Pn(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function Ln(t,e,n){if(t||(t=new Je([],{})),0===t.segments.length&&t.hasChildren())return Mn(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=Pn(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!qn(s,a,e))return o;r+=2}else{if(!qn(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Je(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Je(t.segments.slice(r.pathIndex),t.children),Mn(e,0,i)}return r.match&&0===i.length?new Je(t.segments,{}):r.match&&!t.hasChildren()?Vn(t,e,n):r.match?Mn(t,0,i):Vn(t,e,n)}function Mn(t,e,n){if(0===n.length)return new Je(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{[Me]:t}}(n),i={};return Qe(r,(n,r)=>{null!==n&&(i[r]=Ln(t.children[r],e,n))}),Qe(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Je(t.segments,i)}}function Vn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=Fn(n[i].outlets);return new Je(r,t)}if(0===i&&jn(n[0])){r.push(new Xe(t.segments[e].path,n[0])),i++;continue}const o=Pn(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&jn(s)?(r.push(new Xe(o,Un(s))),i+=2):(r.push(new Xe(o,{})),i++)}return new Je(r,{})}function Fn(t){const e={};return Qe(t,(t,n)=>{null!==t&&(e[n]=Vn(new Je([],{}),0,t))}),e}function Un(t){const e={};return Qe(t,(t,n)=>e[n]=""+t),e}function qn(t,e,n){return t==n.path&&Be(e,n.parameters)}class Bn{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),An(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=wn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Qe(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=wn(t),i=t.value.component?n.children:e;Qe(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=wn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Pe(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Ne(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(An(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Hn(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Hn(t){An(t.value),t.children.forEach(Hn)}class zn{constructor(t,e){this.routes=t,this.module=e}}function Gn(t){return"function"==typeof t}function Qn(t){return t instanceof $e}const Kn=Symbol("INITIAL_VALUE");function Wn(){return Zt(t=>function(...t){let e=void 0,n=void 0;return Object(bt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(wt.a)(t[0])&&(t=t[0]),Object(It.a)(t,n).lift(new At(e))}(...t.map(t=>t.pipe(ne(1),se(Kn)))).pipe(ae((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Kn)return t;if(r===Kn&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Qn(r))return r}return t},t)},Kn),Mt(t=>t!==Kn),Object(Dt.a)(t=>Qn(t)?t:!0===t),ne(1)))}class $n{constructor(t){this.segmentGroup=t||null}}class Jn{constructor(t){this.urlTree=t}}function Xn(t){return new Tt.a(e=>e.error(new $n(t)))}function Yn(t){return new Tt.a(e=>e.error(new Jn(t)))}function Zn(t){return new Tt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class tr{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Me).pipe(Object(Dt.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(le(t=>{if(t instanceof Jn)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof $n)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Me).pipe(Object(Dt.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(le(t=>{if(t instanceof $n)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Je([],{[Me]:t}):t;return new $e(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Dt.a)(t=>new Je([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(pt.a)({});const n=[],r=[],i={};return Qe(t,(t,o)=>{const s=e(o,t).pipe(Object(Dt.a)(t=>i[o]=t));o===Me?n.push(s):r.push(s)}),pt.a.apply(null,n.concat(r)).pipe(Lt(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Mt((e,n)=>t(e,n,r)):Xt.a,qt(1),n?Wt(e):zt(()=>new jt))}(),Object(Dt.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return Object(pt.a)(...n).pipe(pe(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(le(t=>{if(t instanceof $n)return Object(pt.a)(null);throw t}))),ge(t=>!!t),le((t,n)=>{if(t instanceof jt||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(pt.a)(new Je([],{}));throw new $n(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return ir(r)!==o?Xn(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Xn(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Yn(i):this.lineralizeSegments(n,i).pipe(Object(de.a)(n=>{const i=new Je(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=er(e,r,i);if(!s)return Xn(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Yn(l):this.lineralizeSegments(r,l).pipe(Object(de.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Dt.a)(t=>(n._loadedConfig=t,new Je(r,{})))):Object(pt.a)(new Je(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=er(e,n,r);if(!i)return Xn(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(de.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>rr(t,e,n)&&ir(n)!==Me)}(t,n,r)?{segmentGroup:nr(new Je(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&ir(r)!==Me&&(n[ir(r)]=new Je([],{}));return n}(r,new Je(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>rr(t,e,n))}(t,n,r)?{segmentGroup:nr(new Je(t.segments,function(t,e,n,r){const i={};for(const o of n)rr(t,e,o)&&!r[ir(o)]&&(i[ir(o)]=new Je([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Dt.a)(t=>new Je(o,t))):0===r.length&&0===s.length?Object(pt.a)(new Je(o,{})):this.expandSegment(n,i,r,s,Me,!0).pipe(Object(Dt.a)(t=>new Je(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(pt.a)(new zn(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(pt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(de.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Dt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Tt.a(e=>e.error(Ue(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(pt.a)(new zn([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(pt.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Gn(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Gn(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Ke(o)});return Object(pt.a)(i).pipe(Wn(),Object(me.a)(t=>{if(!Qn(t))return;const e=Ue(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Dt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(pt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Zn(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new $e(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Qe(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Qe(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Je(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function er(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||qe)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function nr(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Je(t.segments.concat(e.segments),e.children)}return t}function rr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function ir(t){return t.outlet||Me}class or{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class sr{constructor(t,e){this.component=t,this.route=e}}function ar(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=wn(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ye(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ye(t.url,e.url)||!Be(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kn(t,e)||!Be(t.queryParams,e.queryParams);case"paramsChange":default:return!kn(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new or(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),c&&u&&u.outlet&&u.outlet.isActivated&&o.canDeactivateChecks.push(new sr(u.outlet.component,a))}else a&&cr(n,u,o),o.canActivateChecks.push(new or(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),Qe(s,(t,e)=>cr(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function ur(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function cr(t,e,n){const r=wn(t),i=t.value;Qe(r,(t,r)=>{cr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new sr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function lr(t,e){return null!==t&&e&&e(new De(t)),Object(pt.a)(!0)}function hr(t,e){return null!==t&&e&&e(new Re(t)),Object(pt.a)(!0)}function fr(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(pt.a)(!0);const i=r.map(r=>Nt(()=>{const i=ur(r,e,n);let o;if(function(t){return t&&Gn(t.canActivate)}(i))o=Ke(i.canActivate(e,t));else{if(!Gn(i))throw new Error("Invalid CanActivate guard");o=Ke(i(e,t))}return o.pipe(ge())}));return Object(pt.a)(i).pipe(Wn())}function dr(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Nt(()=>{const i=e.guards.map(i=>{const o=ur(i,e.node,n);let s;if(function(t){return t&&Gn(t.canActivateChild)}(o))s=Ke(o.canActivateChild(r,t));else{if(!Gn(o))throw new Error("Invalid CanActivateChild guard");s=Ke(o(r,t))}return s.pipe(ge())});return Object(pt.a)(i).pipe(Wn())}));return Object(pt.a)(i).pipe(Wn())}class pr{}class gr{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=vr(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Me),n=new Tn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Me,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new bn(n,e),i=new Cn(this.url,r);return this.inheritParamsAndData(i._root),Object(pt.a)(i)}catch(Ov){return new Tt.a(e=>e.error(Ov))}}inheritParamsAndData(t){const e=t.value,n=Sn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Ze(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===Me?-1:e.value.outlet===Me?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(Ov){if(!(Ov instanceof pr))throw Ov}if(this.noLeftoversInUrl(e,n,r))return[];throw new pr}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new pr;if((t.outlet||Me)!==r)throw new pr;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?Ge(n).parameters:{};i=new Tn(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_r(t),r,t.component,t,mr(e),yr(e)+n.length,Or(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new pr;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||qe)(n,t,e);if(!r)throw new pr;const i={};Qe(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new Tn(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_r(t),r,t.component,t,mr(e),yr(e)+o.length,Or(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=vr(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new bn(i,t)]}if(0===a.length&&0===c.length)return[new bn(i,[])];const l=this.processSegment(a,u,c,Me);return[new bn(i,l)]}}function mr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function yr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function vr(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>br(t,e,n)&&wr(n)!==Me)}(t,n,r)){const i=new Je(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&wr(o)!==Me){const n=new Je([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[wr(o)]=n}return i}(t,e,r,new Je(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>br(t,e,n))}(t,n,r)){const o=new Je(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(br(t,n,a)&&!i[wr(a)]){const n=new Je([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[wr(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Je(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function br(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function wr(t){return t.outlet||Me}function _r(t){return t.data||{}}function Or(t){return t.resolve||{}}function Er(t){return function(e){return e.pipe(Zt(e=>{const n=t(e);return n?Object(gt.a)(n).pipe(Object(Dt.a)(()=>e)):Object(gt.a)([e])}))}}class Sr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}let Tr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Kb(0,"router-outlet")},directives:function(){return[qr]},encapsulation:2}),t})();function Cr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Ir(r,xr(e,r))}}function Ir(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Me)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Cr(t.children,e)}function xr(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Ar(t){const e=t.children&&t.children.map(Ar),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Me&&(n.component=Tr),n}const kr=new r.q("ROUTES");class jr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Dt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new zn(ze(r.injector.get(kr)).map(Ar),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(gt.a)(this.loader.load(t)):Ke(t()).pipe(Object(de.a)(t=>t instanceof r.v?Object(pt.a)(t):Object(gt.a)(this.compiler.compileModuleAsync(t))))}}class Rr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Nr,this.attachRef=null}}class Nr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Rr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Dr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Pr(t){throw t}function Lr(t,e,n){return e.parse("/")}function Mr(t,e){return Object(pt.a)(null)}let Vr=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new mt.a,this.errorHandler=Pr,this.malformedUriErrorHandler=Lr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Mr,afterPreactivation:Mr},this.urlHandlingStrategy=new Dr,this.routeReuseStrategy=new Sr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.x),this.console=o.get(r.X);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new $e(new Je([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new jr(s,a,t=>this.triggerEvent(new ke(t)),t=>this.triggerEvent(new je(t))),this.routerState=On(this.currentUrlTree,this.rootComponentType),this.transitions=new vt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Mt(t=>0!==t.id),Object(Dt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Zt(t=>{let n=!1,r=!1;return Object(pt.a)(t).pipe(Object(me.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Zt(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(pt.a)(t).pipe(Zt(t=>{const n=this.transitions.getValue();return e.next(new _e(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Rt.a:[t]}),Zt(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(Zt(t=>function(t,e,n,r,i){return new tr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Dt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(me.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(de.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new gr(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Dt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(me.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(me.a)(t=>{const n=new Te(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new _e(n,this.serializeUrl(r),i,o);e.next(a);const u=On(r,this.rootComponentType).snapshot;return Object(pt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Rt.a}),Er(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(me.a)(t=>{const e=new Ce(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Dt.a)(t=>Object.assign(Object.assign({},t),{guards:ar(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(de.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(pt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(gt.a)(t).pipe(Object(de.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(pt.a)(!0);const s=o.map(o=>{const s=ur(o,e,i);let a;if(function(t){return t&&Gn(t.canDeactivate)}(s))a=Ke(s.canDeactivate(t,e,n,r));else{if(!Gn(s))throw new Error("Invalid CanDeactivate guard");a=Ke(s(t,e,n,r))}return a.pipe(ge())});return Object(pt.a)(s).pipe(Wn())}(t.component,t.route,n,e,r)),ge(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(de.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(gt.a)(e).pipe(pe(e=>Object(gt.a)([hr(e.route.parent,r),lr(e.route,r),dr(t,e.path,n),fr(t,e.route,n)]).pipe(Lt(),ge(t=>!0!==t,!0))),ge(t=>!0!==t,!0))}(r,o,t,e):Object(pt.a)(n)),Object(Dt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(me.a)(t=>{if(Qn(t.guardsResult)){const e=Ue(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(me.a)(t=>{const e=new Ie(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Mt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Ee(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Er(t=>{if(t.guards.canActivateChecks.length)return Object(pt.a)(t).pipe(Object(me.a)(t=>{const e=new xe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Zt(t=>{let n=!1;return Object(pt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(de.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(pt.a)(t);let o=0;return Object(gt.a)(n).pipe(pe(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(pt.a)({});const o={};return Object(gt.a)(i).pipe(Object(de.a)(i=>function(t,e,n,r){const i=ur(t,e,r);return Ke(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(me.a)(t=>{o[i]=t}))),qt(1),Object(de.a)(()=>Object.keys(o).length===i.length?Object(pt.a)(o):Rt.a))}(t._resolve,t,e,r).pipe(Object(Dt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Sn(t,n).resolve),null)))}(t.route,e,r,i)),Object(me.a)(()=>o++),qt(1),Object(de.a)(e=>o===n.length?Object(pt.a)(t):Rt.a))}))}),Object(me.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Ee(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(me.a)(t=>{const e=new Ae(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Er(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Dt.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new bn(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new En(new vt((i=n.value).url),new vt(i.params),new vt(i.queryParams),new vt(i.fragment),new vt(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new bn(r,o)}}var i}(t,e._root,n?n._root:void 0);return new _n(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(me.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Dt.a)(t=>(new Bn(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(me.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Ee(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new ve(i))),le(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Qn(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Ee(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Se(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Xc){t.reject(Xc)}}var i;return Rt.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Cr(t),this.config=t.map(Ar),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:u}=e;Object(r.U)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return Rn(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Nn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Qe(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Nn(n,e,r)}(n);if(o.toRoot())return Rn(e.root,new Je([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Dn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Dn(t,t===e.root,0)}const r=jn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Dn(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Mn(s.segmentGroup,s.index,o.commands):Ln(s.segmentGroup,s.index,o.commands);return Rn(s.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.U)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Qn(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Ov){e=this.malformedUriErrorHandler(Ov,this.urlSerializer,t)}return e}isActive(t,e){if(Qn(t))return We(this.currentUrlTree,t,e);const n=this.parseUrl(t);return We(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Oe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.M),r.Qb(tn),r.Qb(Nr),r.Qb(_),r.Qb(r.r),r.Qb(r.w),r.Qb(r.i),r.Qb(void 0))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Fr=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new mt.a,this.subscription=t.events.subscribe(t=>{t instanceof Oe&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:Ur(this.skipLocationChange),replaceUrl:Ur(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Ur(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Ur(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Vr),r.Jb(En),r.Jb(m))},t.\u0275dir=r.Eb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Tb("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)})),2&t&&(r.Pb("href",e.href,r.Zb),r.zb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function Ur(t){return""===t||!!t}let qr=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Me,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Br(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Nr),r.Jb(r.P),r.Jb(r.j),r.Rb("name"),r.Jb(r.h))},t.\u0275dir=r.Eb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Br{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===En?this.route:t===Nr?this.childContexts:this.parent.get(t,e)}}class Hr{}class zr{preload(t,e){return Object(pt.a)(null)}}let Gr=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new jr(e,n,e=>t.triggerEvent(new ke(e)),e=>t.triggerEvent(new je(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Mt(t=>t instanceof Oe),pe(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(gt.a)(n).pipe(Object(Pt.a)(),Object(Dt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(de.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Vr),r.Qb(r.w),r.Qb(r.i),r.Qb(r.r),r.Qb(Hr))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Qr=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _e?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Oe&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Le&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Le(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Vr),r.Qb(L),r.Qb(void 0))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const Kr=new r.q("ROUTER_CONFIGURATION"),Wr=new r.q("ROUTER_FORROOT_GUARD"),$r=[_,{provide:tn,useClass:en},{provide:Vr,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new Vr(null,t,e,n,r,i,s,ze(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[tn,Nr,_,r.r,r.w,r.i,kr,Kr,[class{},new r.A],[class{},new r.A]]},Nr,{provide:En,useFactory:function(t){return t.routerState.root},deps:[Vr]},{provide:r.w,useClass:r.J},Gr,zr,class{preload(t,e){return e().pipe(le(()=>Object(pt.a)(null)))}},{provide:Kr,useValue:{enableTracing:!1}}];function Jr(){return new r.y("Router",Vr)}let Xr=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[$r,ei(e),{provide:Wr,useFactory:ti,deps:[[Vr,new r.A,new r.I]]},{provide:Kr,useValue:n||{}},{provide:m,useFactory:Zr,deps:[a,[new r.p(v),new r.A],Kr]},{provide:Qr,useFactory:Yr,deps:[Vr,L,Kr]},{provide:Hr,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:zr},{provide:r.y,multi:!0,useFactory:Jr},[ni,{provide:r.d,multi:!0,useFactory:ri,deps:[ni]},{provide:oi,useFactory:ii,deps:[ni]},{provide:r.b,multi:!0,useExisting:oi}]]}}static forChild(e){return{ngModule:t,providers:[ei(e)]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)(r.Qb(Wr,8),r.Qb(Vr,8))}}),t})();function Yr(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Qr(t,e,n)}function Zr(t,e,n={}){return n.useHash?new w(t,e):new b(t,e)}function ti(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ei(t){return[{provide:r.a,multi:!0,useValue:t},{provide:kr,multi:!0,useValue:t}]}let ni=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new mt.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Vr),r=this.injector.get(Kr);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(pt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Kr),n=this.injector.get(Gr),i=this.injector.get(Qr),o=this.injector.get(Vr),s=this.injector.get(r.g);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.r))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();function ri(t){return t.appInitializer.bind(t)}function ii(t){return t.bootstrapListener.bind(t)}const oi=new r.q("Router Initializer");let si=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-bienvenidos"]],decls:5,vars:0,consts:[["role","main"],[1,"jumbotron"],[1,"container"],[1,"display-3",2,"margin-top","100px"]],template:function(t,e){1&t&&(r.Mb(0,"main",0),r.Mb(1,"div",1),r.Mb(2,"div",2),r.Mb(3,"h1",3),r.cc(4,"Bienvenido!"),r.Lb(),r.Lb(),r.Lb(),r.Lb())},styles:[""]}),t})();var ai=n("mrSG"),ui=n("D0XW");function ci(){return t=>t.lift(new li)}class li{call(t,e){return e.subscribe(new hi(t))}}class hi extends _t.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class fi{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new di(t,this.compare,this.keySelector))}}class di extends _t.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var pi=n("pxpQ"),gi=n("spgP"),mi=n("Jgta"),yi=n("zIRd"),vi=n("qOnz"),bi=n("q/0M"),wi=function(t,e){return(wi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function _i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Oi,Ei="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Si=Si||{},Ti=Ei||self;function Ci(){}function Ii(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function xi(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ai="closure_uid_"+(1e9*Math.random()>>>0),ki=0;function ji(t,e,n){return t.call.apply(t.bind,arguments)}function Ri(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ni(t,e,n){return(Ni=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ji:Ri).apply(null,arguments)}function Di(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Pi(){return Date.now()}function Li(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Mi(){this.j=this.j,this.i=this.i}Mi.prototype.j=!1,Mi.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Ai)&&t[Ai]||(t[Ai]=++ki)}(this)},Mi.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Vi=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Fi=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Ui(t){return Array.prototype.concat.apply([],arguments)}function qi(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Bi(t){return/^[\s\xa0]*$/.test(t)}var Hi,zi=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Gi(t,e){return-1!=t.indexOf(e)}function Qi(t,e){return t<e?-1:t>e?1:0}t:{var Ki=Ti.navigator;if(Ki){var Wi=Ki.userAgent;if(Wi){Hi=Wi;break t}}Hi=""}function $i(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ji(t){var e={};for(var n in t)e[n]=t[n];return e}var Xi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yi(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Xi.length;o++)n=Xi[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Zi(t){return Zi[" "](t),t}Zi[" "]=Ci;var to,eo,no=Gi(Hi,"Opera"),ro=Gi(Hi,"Trident")||Gi(Hi,"MSIE"),io=Gi(Hi,"Edge"),oo=io||ro,so=Gi(Hi,"Gecko")&&!(Gi(Hi.toLowerCase(),"webkit")&&!Gi(Hi,"Edge"))&&!(Gi(Hi,"Trident")||Gi(Hi,"MSIE"))&&!Gi(Hi,"Edge"),ao=Gi(Hi.toLowerCase(),"webkit")&&!Gi(Hi,"Edge");function uo(){var t=Ti.document;return t?t.documentMode:void 0}t:{var co="",lo=(eo=Hi,so?/rv:([^\);]+)(\)|;)/.exec(eo):io?/Edge\/([\d\.]+)/.exec(eo):ro?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(eo):ao?/WebKit\/(\S+)/.exec(eo):no?/(?:Version)[ \/]?(\S+)/.exec(eo):void 0);if(lo&&(co=lo?lo[1]:""),ro){var ho=uo();if(null!=ho&&ho>parseFloat(co)){to=String(ho);break t}}to=co}var fo={};function po(t){return function(t,e){var n=fo;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=zi(String(to)).split("."),r=zi(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Qi(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Qi(0==s[2].length,0==a[2].length)||Qi(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var go=Ti.document&&ro&&(uo()||parseInt(to,10))||void 0,mo=!ro||9<=Number(go),yo=ro&&!po("9"),vo=function(){if(!Ti.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ti.addEventListener("test",Ci,e),Ti.removeEventListener("test",Ci,e)}catch(n){}return t}();function bo(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function wo(t,e){if(bo.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(so){t:{try{Zi(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:_o[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}bo.prototype.b=function(){this.defaultPrevented=!0},Li(wo,bo);var _o={2:"touch",3:"pen",4:"mouse"};wo.prototype.b=function(){wo.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,yo)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Oo="closure_listenable_"+(1e6*Math.random()|0),Eo=0;function So(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Eo,this.Y=this.Z=!1}function To(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Co(t){this.src=t,this.a={},this.b=0}function Io(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Vi(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(To(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function xo(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Co.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=xo(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new So(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Ao="closure_lm_"+(1e6*Math.random()|0),ko={};function jo(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Fo(r),e&&e[Oo]?e.wa(n,r,xi(i)?!!i.capture:!!i,o):Ro(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)jo(t,e[o],n,r,i);return null}return n=Fo(n),t&&t[Oo]?t.va(e,n,xi(r)?!!r.capture:!!r,i):Ro(t,e,n,!1,r,i)}function Ro(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=xi(i)?!!i.capture:!!i;if(s&&!mo)return null;var a=Mo(t);if(a||(t[Ao]=a=new Co(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Lo,e=mo?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)vo||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Do(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function No(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Oo])Io(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Do(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Mo(e))?(Io(n,t),0==n.b&&(n.src=null,e[Ao]=null)):To(t)}}}function Do(t){return t in ko?ko[t]:ko[t]="on"+t}function Po(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&No(t),n.call(r,e)}function Lo(t,e){if(t.Y)return!0;if(!mo){if(!e)t:{e=["window","event"];for(var n=Ti,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Po(t,e=new wo(e,this))}return Po(t,new wo(e,this))}function Mo(t){return(t=t[Ao])instanceof Co?t:null}var Vo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fo(t){return"function"==typeof t?t:(t[Vo]||(t[Vo]=function(e){return t.handleEvent(e)}),t[Vo])}function Uo(){Mi.call(this),this.c=new Co(this),this.J=this,this.C=null}function qo(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new bo(e,t);else if(e instanceof bo)e.target=e.target||t;else{var i=e;Yi(e=new bo(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Bo(s,r,!0,e)&&i}if(i=Bo(s=e.a=t,r,!0,e)&&i,i=Bo(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Bo(s=e.a=n[o],r,!1,e)&&i}function Bo(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Io(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Li(Uo,Mi),Uo.prototype[Oo]=!0,(Oi=Uo.prototype).addEventListener=function(t,e,n,r){jo(this,t,e,n,r)},Oi.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=xi(i)?!!i.capture:!!i,r=Fo(r),e&&e[Oo]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=xo(s=e.a[n],r,i,o))&&(To(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=Mo(e))&&(n=e.a[n.toString()],e=-1,n&&(e=xo(n,r,i,o)),(r=-1<e?n[e]:null)&&No(r))}(this,t,e,n,r)},Oi.G=function(){if(Uo.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)To(n[r]);delete e.a[t],e.b--}}this.C=null},Oi.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Oi.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ho=Ti.JSON.stringify;function zo(){this.b=this.a=null}var Go,Qo=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Wo}),(function(t){t.reset()}));function Ko(){var t=Yo,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Wo(){this.next=this.b=this.a=null}function $o(t){Ti.setTimeout((function(){throw t}),0)}function Jo(t,e){Go||function(){var t=Ti.Promise.resolve(void 0);Go=function(){t.then(Zo)}}(),Xo||(Go(),Xo=!0),Yo.add(t,e)}zo.prototype.add=function(t,e){var n=Qo.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Wo.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Wo.prototype.reset=function(){this.next=this.b=this.a=null};var Xo=!1,Yo=new zo;function Zo(){for(var t;t=Ko();){try{t.a.call(t.b)}catch(n){$o(n)}var e=Qo;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Xo=!1}function ts(t,e){Uo.call(this),this.b=t||1,this.a=e||Ti,this.f=Ni(this.Za,this),this.g=Pi()}function es(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ns(t,e,n){if("function"==typeof t)n&&(t=Ni(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ni(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ti.setTimeout(t,e||0)}function rs(t){t.a=ns((function(){t.a=null,t.c&&(t.c=!1,rs(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Li(ts,Uo),(Oi=ts.prototype).aa=!1,Oi.M=null,Oi.Za=function(){if(this.aa){var t=Pi()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),qo(this,"tick"),this.aa&&(es(this),this.start()))}},Oi.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Pi())},Oi.G=function(){ts.X.G.call(this),es(this),delete this.a};var is=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}wi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:rs(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Ti.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Mi);function os(t){Mi.call(this),this.b=t,this.a={}}Li(os,Mi);var ss=[];function as(t,e,n,r){Array.isArray(n)||(n&&(ss[0]=n.toString()),n=ss);for(var i=0;i<n.length;i++){var o=jo(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function us(t){$i(t.a,(function(t,e){this.a.hasOwnProperty(e)&&No(t)}),t),t.a={}}function cs(){this.a=!0}function ls(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ho(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}os.prototype.G=function(){os.X.G.call(this),us(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cs.prototype.info=function(){};var hs={},fs=null;function ds(){return fs=fs||new Uo}function ps(t){bo.call(this,hs.Fa,t)}function gs(t){var e=ds();qo(e,new ps(e,t))}function ms(t,e){bo.call(this,hs.STAT_EVENT,t),this.stat=e}function ys(t){var e=ds();qo(e,new ms(e,t))}function vs(t){bo.call(this,hs.Ga,t)}function bs(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ti.setTimeout((function(){t()}),e)}hs.Fa="serverreachability",Li(ps,bo),hs.STAT_EVENT="statevent",Li(ms,bo),hs.Ga="timingevent",Li(vs,bo);var ws={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},_s={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Os(){}function Es(){}Os.prototype.a=null;var Ss,Ts={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Cs(){bo.call(this,"d")}function Is(){bo.call(this,"c")}function xs(){}function As(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new os(this),this.P=ks,this.R=new ts(t=oo?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Li(Cs,bo),Li(Is,bo),Li(xs,Os),Ss=new xs;var ks=45e3,js={},Rs={};function Ns(t,e,n){t.H=1,t.i=ea($s(e)),t.j=n,t.I=!0,Ds(t,null)}function Ds(t,e){t.u=Pi(),Ms(t),t.l=$s(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),pa(n.b,"t",r),t.D=0,t.a=uu(t.g,t.g.C?e:null),0<t.O&&(t.F=new is(Ni(t.Ca,t,t.a),t.O)),as(t.J,t.a,"readystatechange",t.Xa),e=t.B?Ji(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),gs(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Ps(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ls(t,n);if(i==Rs){4==e&&(t.h=4,ys(14),r=!1),ls(t.c,t.f,null,"[Incomplete Response]");break}if(i==js){t.h=4,ys(15),ls(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}ls(t.c,t.f,i,null),Bs(t,i)}4==e&&0==n.length&&(t.h=1,ys(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),tu(e),e.F=!0,ys(11))):(ls(t.c,t.f,n,"[Invalid Chunked Response]"),qs(t),Us(t))}function Ls(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Rs:(n=Number(e.substring(n,r)),isNaN(n)?js:(r+=1)+n>e.length?Rs:(e=e.substr(r,n),t.D=r+n,e))}function Ms(t){t.T=Pi()+t.P,Vs(t,t.P)}function Vs(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=bs(Ni(t.Va,t),e)}function Fs(t){t.o&&(Ti.clearTimeout(t.o),t.o=null)}function Us(t){0==t.g.v||t.A||ru(t.g,t)}function qs(t){Fs(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,es(t.R),us(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Bs(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||_a(n.b,t)))if(n.I=t.N,!t.C&&_a(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(qy){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;nu(n),Ga(n)}Za(n),ys(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=bs(Ni(n.Sa,n),6e3));if(1>=wa(n.b)&&n.ea){try{n.ea()}catch(qy){}n.ea=void 0}}else ou(n,11)}else if((t.C||n.a==t)&&nu(n),!Bi(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Gi(l,"spdy")||Gi(l,"quic")||Gi(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Oa(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,ta(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Pi()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=au(u,u.C?u.ga:null,u.fa),d.C){Ea(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Fs(p),Ms(p)),u.a=d}else Ya(u);0<n.g.length&&Wa(n)}else"stop"!=i[0]&&"close"!=i[0]||ou(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?ou(n,7):za(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);gs(4)}catch(qy){}}function Hs(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ii(t)||"string"==typeof t)Fi(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Ii(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Ii(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function zs(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof zs)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Gs(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Qs(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Qs(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Qs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Oi=As.prototype).setTimeout=function(t){this.P=t},Oi.Xa=function(t){t=t.target;var e=this.F;e&&3==Ua(t)?e.f():this.Ca(t)},Oi.Ca=function(t){try{if(t==this.a)t:{var e=Ua(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!oo&&!this.a.$())){this.A||4!=e||7==n||gs(8==n||0>=r?3:2),Fs(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bi(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,ys(12),qs(this),Us(this);break t}ls(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Bs(this,u)}this.I?(Ps(this,e,o),oo&&this.b&&3==e&&(as(this.J,this.R,"tick",this.Wa),this.R.start())):(ls(this.c,this.f,o,null),Bs(this,o)),4==e&&qs(this),this.b&&!this.A&&(4==e?ru(this.g,this):(this.b=!1,Ms(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ys(12)):(this.h=0,ys(13)),qs(this),Us(this)}}}catch(c){}},Oi.Wa=function(){if(this.a){var t=Ua(this.a),e=this.a.$();this.D<e.length&&(Fs(this),Ps(this,t,e),this.b&&4!=t&&Ms(this))}},Oi.cancel=function(){this.A=!0,qs(this)},Oi.Va=function(){this.o=null;var t=Pi();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(gs(3),ys(17)),qs(this),this.h=2,Us(this)):Vs(this,this.T-t)},(Oi=zs.prototype).K=function(){Gs(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Oi.L=function(){return Gs(this),this.a.concat()},Oi.get=function(t,e){return Qs(this.b,t)?this.b[t]:e},Oi.set=function(t,e){Qs(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Oi.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ks=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ws(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ws){this.a=void 0!==e?e:t.a,Js(this,t.f),this.j=t.j,Xs(this,t.c),Ys(this,t.h),this.g=t.g,e=t.b;var n=new la;n.c=e.c,e.a&&(n.a=new zs(e.a),n.b=e.b),Zs(this,n),this.i=t.i}else t&&(n=String(t).match(Ks))?(this.a=!!e,Js(this,n[1]||"",!0),this.j=na(n[2]||""),Xs(this,n[3]||"",!0),Ys(this,n[4]),this.g=na(n[5]||"",!0),Zs(this,n[6]||"",!0),this.i=na(n[7]||"")):(this.a=!!e,this.b=new la(null,this.a))}function $s(t){return new Ws(t)}function Js(t,e,n){t.f=n?na(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Xs(t,e,n){t.c=n?na(e,!0):e}function Ys(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Zs(t,e,n){e instanceof la?(t.b=e,function(t,e){e&&!t.f&&(ha(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(fa(this,e),pa(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=ra(e,ua)),t.b=new la(e,t.a))}function ta(t,e,n){t.b.set(e,n)}function ea(t){return ta(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Pi()).toString(36)),t}function na(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ra(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ia),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ia(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ws.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ra(e,oa,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ra(e,oa,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(ra(n,"/"==n.charAt(0)?aa:sa,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",ra(n,ca)),t.join("")};var oa=/[#\/\?@]/g,sa=/[#\?:]/g,aa=/[#\?]/g,ua=/[#\?@]/g,ca=/#/g;function la(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ha(t){t.a||(t.a=new zs,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function fa(t,e){ha(t),e=ga(t,e),Qs(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Qs((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Gs(t)))}function da(t,e){return ha(t),e=ga(t,e),Qs(t.a.b,e)}function pa(t,e,n){fa(t,e),0<n.length&&(t.c=null,t.a.set(ga(t,e),qi(n)),t.b+=n.length)}function ga(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Oi=la.prototype).add=function(t,e){ha(this),this.c=null,t=ga(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Oi.forEach=function(t,e){ha(this),this.a.forEach((function(n,r){Fi(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Oi.L=function(){ha(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Oi.K=function(t){ha(this);var e=[];if("string"==typeof t)da(this,t)&&(e=Ui(e,this.a.get(ga(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ui(e,t[n])}return e},Oi.set=function(t,e){return ha(this),this.c=null,da(this,t=ga(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Oi.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Oi.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var ma=function(){return function(t,e){this.b=t,this.a=e}}();function ya(t){this.g=t||va,t=Ti.PerformanceNavigationTiming?0<(t=Ti.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ti.ia&&Ti.ia.ya&&Ti.ia.ya()&&Ti.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var va=10;function ba(t){return!!t.b||!!t.a&&t.a.size>=t.f}function wa(t){return t.b?1:t.a?t.a.size:0}function _a(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Oa(t,e){t.a?t.a.add(e):t.b=e}function Ea(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Sa(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=_i(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return qi(t.c)}function Ta(){}function Ca(){this.a=new Ta}function Ia(t,e,n){var r=n||"";try{Hs(t,(function(t,n){var i=t;xi(t)&&(i=Ho(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(Ov){throw e.push(r+"type="+encodeURIComponent("_badmap")),Ov}}function xa(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}ya.prototype.cancel=function(){var t,e;if(this.c=Sa(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=_i(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Ta.prototype.stringify=function(t){return Ti.JSON.stringify(t,void 0)},Ta.prototype.parse=function(t){return Ti.JSON.parse(t,void 0)};var Aa=Ti.JSON.parse;function ka(t){Uo.call(this),this.headers=new zs,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=ja,this.D=this.F=!1}Li(ka,Uo);var ja="",Ra=/^https?$/i,Na=["POST","PUT"];function Da(t){return"content-type"==t.toLowerCase()}function Pa(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,La(t),Va(t)}function La(t){t.u||(t.u=!0,qo(t,"complete"),qo(t,"error"))}function Ma(t){if(t.b&&void 0!==Si&&(!t.s[1]||4!=Ua(t)||2!=t.W()))if(t.l&&4==Ua(t))ns(t.za,0,t);else if(qo(t,"readystatechange"),4==Ua(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Ks)[1]||null;if(!o&&Ti.self&&Ti.self.location){var s=Ti.self.location.protocol;o=s.substr(0,s.length-1)}i=!Ra.test(o?o.toLowerCase():"")}e=i}if(e)qo(t,"complete"),qo(t,"success");else{t.h=6;try{var a=2<Ua(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",La(t)}}finally{Va(t)}}}function Va(t,e){if(t.a){Fa(t);var n=t.a,r=t.s[0]?Ci:null;t.a=null,t.s=null,e||qo(t,"ready");try{n.onreadystatechange=r}catch(Ov){}}}function Fa(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Ti.clearTimeout(t.m),t.m=null)}function Ua(t){return t.a?t.a.readyState:0}function qa(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return $i(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ta(t,e,n))}function Ba(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ha(t){this.pa=0,this.g=[],this.c=new cs,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Ba("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Ba("baseRetryDelayMs",5e3,t),this.Ra=Ba("retryDelaySeedMs",1e4,t),this.Ma=Ba("forwardChannelMaxRetries",2,t),this.ma=Ba("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new ya(t&&t.concurrentRequestLimit),this.ka=new Ca,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function za(t){if(Qa(t),3==t.v){var e=t.R++,n=$s(t.B);ta(n,"SID",t.J),ta(n,"RID",e),ta(n,"TYPE","terminate"),Ja(t,n),(e=new As(t,t.c,e,void 0)).H=2,e.i=ea($s(n)),n=!1,Ti.navigator&&Ti.navigator.sendBeacon&&(n=Ti.navigator.sendBeacon(e.i.toString(),"")),!n&&Ti.Image&&((new Image).src=e.i,n=!0),n||(e.a=uu(e.g,null),e.a.ba(e.i)),e.u=Pi(),Ms(e)}su(t)}function Ga(t){t.a&&(tu(t),t.a.cancel(),t.a=null)}function Qa(t){Ga(t),t.j&&(Ti.clearTimeout(t.j),t.j=null),nu(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Ti.clearTimeout(t.h),t.h=null)}function Ka(t,e){t.g.push(new ma(t.Oa++,e)),3==t.v&&Wa(t)}function Wa(t){ba(t.b)||t.h||(t.h=!0,Jo(t.Ba,t),t.u=0)}function $a(t,e){var n;n=e?e.f:t.R++;var r=$s(t.B);ta(r,"SID",t.J),ta(r,"RID",n),ta(r,"AID",t.P),Ja(t,r),t.i&&t.l&&qa(r,t.i,t.l),n=new As(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Xa(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Oa(t.b,n),Ns(n,r,e)}function Ja(t,e){t.f&&Hs({},(function(t,n){ta(e,n,t)}))}function Xa(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ni(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Ia(l,s,"req"+c+"_")}catch(Fu){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Ya(t){t.a||t.j||(t.T=1,Jo(t.Aa,t),t.o=0)}function Za(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=bs(Ni(t.Aa,t),iu(t,t.o)),t.o++,0))}function tu(t){null!=t.s&&(Ti.clearTimeout(t.s),t.s=null)}function eu(t){t.a=new As(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=$s(t.la);ta(e,"RID","rpc"),ta(e,"SID",t.J),ta(e,"CI",t.H?"0":"1"),ta(e,"AID",t.P),Ja(t,e),ta(e,"TYPE","xmlhttp"),t.i&&t.l&&qa(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=ea($s(e)),n.j=null,n.I=!0,Ds(n,t)}function nu(t){null!=t.m&&(Ti.clearTimeout(t.m),t.m=null)}function ru(t,e){var n=null;if(t.a==e){nu(t),tu(t),t.a=null;var r=2}else{if(!_a(t.b,e))return;n=e.s,Ea(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Pi()-e.u;var i=t.u;qo(r=ds(),new vs(r,n,e,i)),Wa(t)}else Ya(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(wa(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=bs(Ni(t.Ba,t,e),iu(t,t.u)),t.u++,0)))}(t,e)||2==r&&Za(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:ou(t,5);break;case 4:ou(t,10);break;case 3:ou(t,6);break;default:ou(t,2)}}function iu(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function ou(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Ni(t.Ya,t);n||(n=new Ws("//www.google.com/images/cleardot.gif"),Ti.location&&"http"==Ti.location.protocol||Js(n,"https"),ea(n)),function(t,e){var n=new cs;if(Ti.Image){var r=new Image;r.onload=Di(xa,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Di(xa,n,r,"TestLoadImage: error",!1,e),r.onabort=Di(xa,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Di(xa,n,r,"TestLoadImage: timeout",!1,e),Ti.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ys(2);t.v=0,t.f&&t.f.ra(e),su(t),Qa(t)}function su(t){t.v=0,t.I=-1,t.f&&(0==Sa(t.b).length&&0==t.g.length||(t.b.c.length=0,qi(t.g),t.g.length=0),t.f.qa())}function au(t,e,n){var r=function(t){return t instanceof Ws?$s(t):new Ws(t,void 0)}(n);if(""!=r.c)e&&Xs(r,e+"."+r.c),Ys(r,r.h);else{var i=Ti.location;r=function(t,e,n,r){var i=new Ws(null,void 0);return t&&Js(i,t),e&&Xs(i,e),n&&Ys(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&$i(t.V,(function(t,e){ta(r,e,t)})),n=t.na,(e=t.A)&&n&&ta(r,e,n),ta(r,"VER",t.ha),Ja(t,r),r}function uu(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ka(t.Na)).F=t.C,e}function cu(){}function lu(){if(ro&&!(10<=Number(go)))throw Error("Environmental error: no available transport.")}function hu(t,e){Uo.call(this),this.a=new Ha(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Bi(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bi(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new pu(this)}function fu(t){Cs.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function du(){Is.call(this),this.status=1}function pu(t){this.a=t}(Oi=ka.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Ss),this.a.onreadystatechange=Ni(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Pa(this,o)}t=n||"";var i=new zs(this.headers);r&&Hs(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Da,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Ti.FormData&&t instanceof Ti.FormData,!(0<=Vi(Na,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Fa(this),0<this.o&&((this.D=function(t){return ro&&po(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ni(this.xa,this)):this.m=ns(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Pa(this,o)}},Oi.xa=function(){void 0!==Si&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,qo(this,"timeout"),this.abort(8))},Oi.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,qo(this,"complete"),qo(this,"abort"),Va(this))},Oi.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Va(this,!0)),ka.X.G.call(this)},Oi.za=function(){this.j||(this.A||this.l||this.g?Ma(this):this.Ua())},Oi.Ua=function(){Ma(this)},Oi.W=function(){try{return 2<Ua(this)?this.a.status:-1}catch(eo){return-1}},Oi.$=function(){try{return this.a?this.a.responseText:""}catch(eo){return""}},Oi.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Aa(e)}},Oi.ua=function(){return this.h},Oi.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Oi=Ha.prototype).ha=8,Oi.v=1,Oi.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new As(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Yi(r=Ji(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Xa(this,n,e),ta(i=$s(this.B),"RID",t),ta(i,"CVER",22),this.A&&ta(i,"X-HTTP-Session-Id",this.A),Ja(this,i),this.i&&r&&qa(i,this.i,r),Oa(this.b,n),this.Ia&&ta(i,"TYPE","init"),this.da?(ta(i,"$req",e),ta(i,"SID","null"),n.U=!0,Ns(n,i,null)):Ns(n,i,e),this.v=2}}else 3==this.v&&(t?$a(this,t):0==this.g.length||ba(this.b)||$a(this))},Oi.Aa=function(){if(this.j=null,eu(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=bs(Ni(this.Ta,this),t)}},Oi.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ys(10),Ga(this),eu(this))},Oi.Sa=function(){null!=this.m&&(this.m=null,Ga(this),Za(this),ys(19))},Oi.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),ys(2)):(this.c.info("Failed to ping google.com"),ys(1))},(Oi=cu.prototype).ta=function(){},Oi.sa=function(){},Oi.ra=function(){},Oi.qa=function(){},Oi.Ja=function(){},lu.prototype.a=function(t,e){return new hu(t,e)},Li(hu,Uo),hu.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;ys(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=au(t,null,t.fa),Wa(t)},hu.prototype.close=function(){za(this.a)},hu.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Ka(this.a,e)}else this.l?((e={}).__data__=Ho(t),Ka(this.a,e)):Ka(this.a,t)},hu.prototype.G=function(){this.a.f=null,delete this.f,za(this.a),delete this.a,hu.X.G.call(this)},Li(fu,Cs),Li(du,Is),Li(pu,cu),pu.prototype.ta=function(){qo(this.a,"a")},pu.prototype.sa=function(t){qo(this.a,new fu(t))},pu.prototype.ra=function(t){qo(this.a,new du(t))},pu.prototype.qa=function(){qo(this.a,"b")},lu.prototype.createWebChannel=lu.prototype.a,hu.prototype.send=hu.prototype.h,hu.prototype.open=hu.prototype.g,hu.prototype.close=hu.prototype.close,ws.NO_ERROR=0,ws.TIMEOUT=8,ws.HTTP_ERROR=6,_s.COMPLETE="complete",Es.EventType=Ts,Ts.OPEN="a",Ts.CLOSE="b",Ts.ERROR="c",Ts.MESSAGE="d",Uo.prototype.listen=Uo.prototype.va,ka.prototype.listenOnce=ka.prototype.wa,ka.prototype.getLastError=ka.prototype.Qa,ka.prototype.getLastErrorCode=ka.prototype.ua,ka.prototype.getStatus=ka.prototype.W,ka.prototype.getResponseJson=ka.prototype.Pa,ka.prototype.getResponseText=ka.prototype.$,ka.prototype.send=ka.prototype.ba;var gu=ws,mu=_s,yu=hs,vu=Es,bu=ka,wu=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();wu.o=-1;var _u={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ou=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(ai.c)(e,t),e}(Error),Eu=new bi.b("@firebase/firestore");function Su(){return Eu.logLevel}function Tu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Eu.logLevel<=bi.a.DEBUG){var r=e.map(xu);Eu.debug.apply(Eu,Object(ai.f)(["Firestore (8.4.2): "+t],r))}}function Cu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Eu.logLevel<=bi.a.ERROR){var r=e.map(xu);Eu.error.apply(Eu,Object(ai.f)(["Firestore (8.4.2): "+t],r))}}function Iu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Eu.logLevel<=bi.a.WARN){var r=e.map(xu);Eu.warn.apply(Eu,Object(ai.f)(["Firestore (8.4.2): "+t],r))}}function xu(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Ov){return t}}function Au(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.4.2) INTERNAL ASSERTION FAILED: "+t;throw Cu(e),new Error(e)}function ku(t,e){t||Au()}function ju(t,e){return t}function Ru(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Nu=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ru(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Du(t,e){return t<e?-1:t>e?1:0}function Pu(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Lu(t){return t+"\0"}var Mu=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ou(_u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ou(_u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ou(_u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ou(_u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Du(this.nanoseconds,t.nanoseconds):Du(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Vu=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Mu(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Fu(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Uu(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qu(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Bu=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Au(),void 0===n?n=t.length-e:n>t.length-e&&Au(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Hu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ai.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Ou(_u.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Bu),zu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Gu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ai.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return zu.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Ou(_u.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Ou(_u.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ou(_u.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Ou(_u.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Bu),Qu=function(){function t(t){this.fields=t,t.sort(Gu.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Pu(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Ku=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Du(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Ku.EMPTY_BYTE_STRING=new Ku("");var Wu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $u(t){if(ku(!!t),"string"==typeof t){var e=0,n=Wu.exec(t);if(ku(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ju(t.seconds),nanos:Ju(t.nanos)}}function Ju(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Xu(t){return"string"==typeof t?Ku.fromBase64String(t):Ku.fromUint8Array(t)}function Yu(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Zu(t){var e=$u(t.mapValue.fields.__local_write_time__.timestampValue);return new Mu(e.seconds,e.nanos)}function tc(t){return null==t}function ec(t){return 0===t&&1/t==-1/0}function nc(t){return"number"==typeof t&&Number.isInteger(t)&&!ec(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var rc=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Hu.fromString(e))},t.fromName=function(e){return new t(Hu.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Hu.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Hu.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Hu(e.slice()))},t}();function ic(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yu(t)?4:10:Au()}function oc(t,e){var n=ic(t);if(n!==ic(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zu(t).isEqual(Zu(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=$u(t.timestampValue),r=$u(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Xu(t.bytesValue).isEqual(Xu(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ju(t.geoPointValue.latitude)===Ju(e.geoPointValue.latitude)&&Ju(t.geoPointValue.longitude)===Ju(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ju(t.integerValue)===Ju(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ju(t.doubleValue),r=Ju(e.doubleValue);return n===r?ec(n)===ec(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Pu(t.arrayValue.values||[],e.arrayValue.values||[],oc);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Fu(n)!==Fu(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!oc(n[i],r[i])))return!1;return!0}(t,e);default:return Au()}}function sc(t,e){return void 0!==(t.values||[]).find((function(t){return oc(t,e)}))}function ac(t,e){var n=ic(t),r=ic(e);if(n!==r)return Du(n,r);switch(n){case 0:return 0;case 1:return Du(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ju(t.integerValue||t.doubleValue),r=Ju(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return uc(t.timestampValue,e.timestampValue);case 4:return uc(Zu(t),Zu(e));case 5:return Du(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Xu(t),r=Xu(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Du(n[i],r[i]);if(0!==o)return o}return Du(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Du(Ju(t.latitude),Ju(e.latitude));return 0!==n?n:Du(Ju(t.longitude),Ju(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ac(n[i],r[i]);if(o)return o}return Du(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Du(r[s],o[s]);if(0!==a)return a;var u=ac(n[r[s]],i[o[s]]);if(0!==u)return u}return Du(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Au()}}function uc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Du(t,e);var n=$u(t),r=$u(e),i=Du(n.seconds,r.seconds);return 0!==i?i:Du(n.nanos,r.nanos)}function cc(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=$u(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Xu(e.bytesValue).toBase64():"referenceValue"in e?rc.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):Au();var n}(t)}function lc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function hc(t){return!!t&&"integerValue"in t}function fc(t){return!!t&&"arrayValue"in t}function dc(t){return!!t&&"nullValue"in t}function pc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gc(t){return!!t&&"mapValue"in t}var mc=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(Gu.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach((function(t,n){t?e.set(n,t):e.delete(n)}))},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return oc(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===ic(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),s=gc(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(s[n]=o,i=!0)}else null!==t?(s[n]=t,i=!0):s.hasOwnProperty(n)&&(delete s[n],i=!0)})),i?{mapValue:{fields:s}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(Gu.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!gc(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function yc(t){var e=[];return Uu(t.fields||{},(function(t,n){var r=new Gu([t]);if(gc(n)){var i=yc(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new Qu(e)}var vc=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Vu.min(),mc.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,mc.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,mc.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=mc.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=mc.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),bc=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function wc(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new bc(t,e,n,r,i,o,s)}function _c(t){var e=ju(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+cc(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),tc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Dc(e.startAt)),e.endAt&&(n+="|ub:",n+=Dc(e.endAt)),e.h=n}return e.h}function Oc(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Lc(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!oc(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Vc(t.startAt,e.startAt)&&Vc(t.endAt,e.endAt)}function Ec(t){return rc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Sc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(ai.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Tc(t,n,r):"array-contains"===n?new Ac(t,r):"in"===n?new kc(t,r):"not-in"===n?new jc(t,r):"array-contains-any"===n?new Rc(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Cc(t,n):new Ic(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(ac(e,this.value)):null!==e&&ic(this.value)===ic(e)&&this.m(ac(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Au()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Tc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=rc.fromName(r.referenceValue),i}return Object(ai.c)(e,t),e.prototype.matches=function(t){var e=rc.comparator(t.key,this.key);return this.m(e)},e}(Sc),Cc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=xc(0,n),r}return Object(ai.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Sc),Ic=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=xc(0,n),r}return Object(ai.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Sc);function xc(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return rc.fromName(t.referenceValue)}))}var Ac=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(ai.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return fc(e)&&sc(e.arrayValue,this.value)},e}(Sc),kc=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(ai.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&sc(this.value.arrayValue,e)},e}(Sc),jc=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(ai.c)(e,t),e.prototype.matches=function(t){if(sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!sc(this.value.arrayValue,e)},e}(Sc),Rc=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(ai.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!fc(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return sc(e.value.arrayValue,t)}))},e}(Sc),Nc=function(t,e){this.position=t,this.before=e};function Dc(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return cc(t)})).join(",")}var Pc=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Lc(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Mc(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?rc.comparator(rc.fromName(s.referenceValue),n.key):ac(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Vc(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!oc(t.position[n],e.position[n]))return!1;return!0}var Fc=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Uc(t,e,n,r,i,o,s,a){return new Fc(t,e,n,r,i,o,s,a)}function qc(t){return new Fc(t)}function Bc(t){return!tc(t.limit)&&"F"===t.limitType}function Hc(t){return!tc(t.limit)&&"L"===t.limitType}function zc(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Gc(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Qc(t){return null!==t.collectionGroup}function Kc(t){var e=ju(t);if(null===e.p){e.p=[];var n=Gc(e),r=zc(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Pc(n)),e.p.push(new Pc(Gu.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Pc(Gu.keyField(),u))}}}return e.p}function Wc(t){var e=ju(t);if(!e.T)if("F"===e.limitType)e.T=wc(e.path,e.collectionGroup,Kc(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Kc(e);r<i.length;r++){var o=i[r];n.push(new Pc(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Nc(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Nc(e.startAt.position,!e.startAt.before):null;e.T=wc(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function $c(t,e,n){return new Fc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jc(t,e){return Oc(Wc(t),Wc(e))&&t.limitType===e.limitType}function Xc(t){return _c(Wc(t))+"|lt:"+t.limitType}function Yc(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+cc(e.value);var e})).join(", ")+"]"),tc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Dc(t.startAt)),t.endAt&&(e+=", endAt: "+Dc(t.endAt)),"Target("+e+")"}(Wc(t))+"; limitType="+t.limitType+")"}function Zc(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):rc.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Mc(t.startAt,Kc(t),e)||t.endAt&&Mc(t.endAt,Kc(t),e))}(t,e)}function tl(t){return function(e,n){for(var r=!1,i=0,o=Kc(t);i<o.length;i++){var s=o[i],a=el(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function el(t,e,n){var r=t.field.isKeyField()?rc.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?ac(r,i):Au()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Au()}}function nl(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ec(e)?"-0":e}}function rl(t){return{integerValue:""+t}}function il(t,e){return nc(e)?rl(e):nl(t,e)}var ol=function(){this._=void 0};function sl(t,e,n){return t instanceof cl?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ll?hl(t,e):t instanceof fl?dl(t,e):function(t,e){var n=ul(t,e),r=gl(n)+gl(t.A);return hc(n)&&hc(t.A)?rl(r):nl(t.R,r)}(t,e)}function al(t,e,n){return t instanceof ll?hl(t,e):t instanceof fl?dl(t,e):n}function ul(t,e){return t instanceof pl?hc(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var cl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ai.c)(e,t),e}(ol),ll=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ai.c)(e,t),e}(ol);function hl(t,e){for(var n=ml(e),r=function(t){n.some((function(e){return oc(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var fl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ai.c)(e,t),e}(ol);function dl(t,e){for(var n=ml(e),r=function(t){n=n.filter((function(e){return!oc(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var pl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(ai.c)(e,t),e}(ol);function gl(t){return Ju(t.integerValue||t.doubleValue)}function ml(t){return fc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var yl=function(t,e){this.field=t,this.transform=e},vl=function(t,e){this.version=t,this.transformResults=e},bl=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function wl(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var _l=function(){};function Ol(t,e,n){t instanceof Il?function(t,e,n){var r=t.value.clone(),i=kl(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof xl?function(t,e,n){if(wl(t.precondition,e)){var r=kl(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Al(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function El(t,e,n){t instanceof Il?function(t,e,n){if(wl(t.precondition,e)){var r=t.value.clone(),i=jl(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Cl(e),r).setHasLocalMutations()}}(t,e,n):t instanceof xl?function(t,e,n){if(wl(t.precondition,e)){var r=jl(t.fieldTransforms,n,e),i=e.data;i.setAll(Al(t)),i.setAll(r),e.convertToFoundDocument(Cl(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){wl(t.precondition,e)&&e.convertToNoDocument(Vu.min())}(t,e)}function Sl(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=ul(o.transform,s||null);null!=a&&(null==n&&(n=mc.empty()),n.set(o.field,a))}return n||null}function Tl(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Pu(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ll&&e instanceof ll||t instanceof fl&&e instanceof fl?Pu(t.elements,e.elements,oc):t instanceof pl&&e instanceof pl?oc(t.A,e.A):t instanceof cl&&e instanceof cl}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Cl(t){return t.isFoundDocument()?t.version:Vu.min()}var Il=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(ai.c)(e,t),e}(_l),xl=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(ai.c)(e,t),e}(_l);function Al(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function kl(t,e,n){var r=new Map;ku(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,al(s,a,n[i]))}return r}function jl(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,sl(a,u,e))}return r}var Rl,Nl,Dl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(ai.c)(e,t),e}(_l),Pl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(ai.c)(e,t),e}(_l),Ll=function(t){this.count=t};function Ml(t){switch(t){case _u.OK:return Au();case _u.CANCELLED:case _u.UNKNOWN:case _u.DEADLINE_EXCEEDED:case _u.RESOURCE_EXHAUSTED:case _u.INTERNAL:case _u.UNAVAILABLE:case _u.UNAUTHENTICATED:return!1;case _u.INVALID_ARGUMENT:case _u.NOT_FOUND:case _u.ALREADY_EXISTS:case _u.PERMISSION_DENIED:case _u.FAILED_PRECONDITION:case _u.ABORTED:case _u.OUT_OF_RANGE:case _u.UNIMPLEMENTED:case _u.DATA_LOSS:return!0;default:return Au()}}function Vl(t){if(void 0===t)return Cu("GRPC error has no .code"),_u.UNKNOWN;switch(t){case Rl.OK:return _u.OK;case Rl.CANCELLED:return _u.CANCELLED;case Rl.UNKNOWN:return _u.UNKNOWN;case Rl.DEADLINE_EXCEEDED:return _u.DEADLINE_EXCEEDED;case Rl.RESOURCE_EXHAUSTED:return _u.RESOURCE_EXHAUSTED;case Rl.INTERNAL:return _u.INTERNAL;case Rl.UNAVAILABLE:return _u.UNAVAILABLE;case Rl.UNAUTHENTICATED:return _u.UNAUTHENTICATED;case Rl.INVALID_ARGUMENT:return _u.INVALID_ARGUMENT;case Rl.NOT_FOUND:return _u.NOT_FOUND;case Rl.ALREADY_EXISTS:return _u.ALREADY_EXISTS;case Rl.PERMISSION_DENIED:return _u.PERMISSION_DENIED;case Rl.FAILED_PRECONDITION:return _u.FAILED_PRECONDITION;case Rl.ABORTED:return _u.ABORTED;case Rl.OUT_OF_RANGE:return _u.OUT_OF_RANGE;case Rl.UNIMPLEMENTED:return _u.UNIMPLEMENTED;case Rl.DATA_LOSS:return _u.DATA_LOSS;default:return Au()}}(Nl=Rl||(Rl={}))[Nl.OK=0]="OK",Nl[Nl.CANCELLED=1]="CANCELLED",Nl[Nl.UNKNOWN=2]="UNKNOWN",Nl[Nl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nl[Nl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nl[Nl.NOT_FOUND=5]="NOT_FOUND",Nl[Nl.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nl[Nl.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nl[Nl.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nl[Nl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nl[Nl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nl[Nl.ABORTED=10]="ABORTED",Nl[Nl.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nl[Nl.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nl[Nl.INTERNAL=13]="INTERNAL",Nl[Nl.UNAVAILABLE=14]="UNAVAILABLE",Nl[Nl.DATA_LOSS=15]="DATA_LOSS";var Fl=function(){function t(t,e){this.comparator=t,this.root=e||ql.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ql.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ql.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Ul(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Ul(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Ul(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Ul(this.root,t,this.comparator,!0)},t}(),Ul=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),ql=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Au();if(this.right.isRed())throw Au();var t=this.left.check();if(t!==this.right.check())throw Au();return t+(this.isRed()?0:1)},t}();ql.EMPTY=null,ql.RED=!0,ql.BLACK=!1,ql.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Au()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Au()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Au()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Au()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Au()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new ql(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Bl=function(){function t(t){this.comparator=t,this.data=new Fl(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Hl(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Hl(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Hl=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),zl=new Fl(rc.comparator);function Gl(){return zl}var Ql=new Fl(rc.comparator);function Kl(){return Ql}var Wl=new Fl(rc.comparator);function $l(){return Wl}var Jl=new Bl(rc.comparator);function Xl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Jl,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Yl=new Bl(Du);function Zl(){return Yl}var th=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,eh.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Vu.min(),r,Zl(),Gl(),Xl())},t}(),eh=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Ku.EMPTY_BYTE_STRING,n,Xl(),Xl(),Xl())},t}(),nh=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},rh=function(t,e){this.targetId=t,this.V=e},ih=function(t,e,n,r){void 0===n&&(n=Ku.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},oh=function(){function t(){this.S=0,this.D=uh(),this.C=Ku.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Xl(),e=Xl(),n=Xl();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Au()}})),new eh(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=uh()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),sh=function(){function t(t){this.W=t,this.G=new Map,this.H=Gl(),this.J=ah(),this.Y=new Bl(Du)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:Au()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Ec(i))if(0===n){var o=new rc(i.path);this.tt(e,o,vc.newNoDocument(o,Vu.min()))}else ku(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&Ec(o.target)){var s=new rc(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,vc.newNoDocument(s,t))}r.O&&(n.set(i,r.M()),r.L())}}));var r=Xl();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new th(t,n,this.Y,this.H,r);return this.H=Gl(),this.J=ah(),this.Y=new Bl(Du),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new oh,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Bl(Du),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Tu("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new oh),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function ah(){return new Fl(rc.comparator)}function uh(){return new Fl(rc.comparator)}var ch={asc:"ASCENDING",desc:"DESCENDING"},lh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hh=function(t,e){this.databaseId=t,this.I=e};function fh(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function dh(t,e){return t.I?e.toBase64():e.toUint8Array()}function ph(t,e){return fh(t,e.toTimestamp())}function gh(t){return ku(!!t),Vu.fromTimestamp(function(t){var e=$u(t);return new Mu(e.seconds,e.nanos)}(t))}function mh(t,e){return function(t){return new Hu(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function yh(t){var e=Hu.fromString(t);return ku(Uh(e)),e}function vh(t,e){return mh(t.databaseId,e.path)}function bh(t,e){var n=yh(e);if(n.get(1)!==t.databaseId.projectId)throw new Ou(_u.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ou(_u.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new rc(Eh(n))}function wh(t,e){return mh(t.databaseId,e)}function _h(t){var e=yh(t);return 4===e.length?Hu.emptyPath():Eh(e)}function Oh(t){return new Hu(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Eh(t){return ku(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Sh(t,e,n){return{name:vh(t,e),fields:n.toProto().mapValue.fields}}function Th(t,e,n){var r=bh(t,e.name),i=gh(e.updateTime),o=new mc({mapValue:{fields:e.fields}}),s=vc.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Ch(t,e){var n;if(e instanceof Il)n={update:Sh(t,e.key,e.value)};else if(e instanceof Dl)n={delete:vh(t,e.key)};else if(e instanceof xl)n={update:Sh(t,e.key,e.data),updateMask:Fh(e.fieldMask)};else{if(!(e instanceof Pl))return Au();n={verify:vh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof cl)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ll)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof fl)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof pl)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Au()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ph(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Au()}(t,e.precondition)),n}function Ih(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?bl.updateTime(gh(t.updateTime)):void 0!==t.exists?bl.exists(t.exists):bl.none()}(e.currentDocument):bl.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(ku("REQUEST_TIME"===e.setToServerValue),n=new cl):"appendMissingElements"in e?n=new ll(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new fl(e.removeAllFromArray.values||[]):"increment"in e?n=new pl(t,e.increment):Au();var r=Gu.fromServerFormat(e.fieldPath);return new yl(r,n)}(t,e)})):[];if(e.update){var i=bh(t,e.update.name),o=new mc({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Qu((t.fieldPaths||[]).map((function(t){return Gu.fromServerFormat(t)})))}(e.updateMask);return new xl(i,o,s,n,r)}return new Il(i,o,n,r)}if(e.delete){var a=bh(t,e.delete);return new Dl(a,n)}if(e.verify){var u=bh(t,e.verify);return new Pl(u,n)}return Au()}function xh(t,e){return{documents:[wh(t,e.path)]}}function Ah(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=wh(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=wh(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(pc(t.value))return{unaryFilter:{field:Ph(t.field),op:"IS_NAN"}};if(dc(t.value))return{unaryFilter:{field:Ph(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(pc(t.value))return{unaryFilter:{field:Ph(t.field),op:"IS_NOT_NAN"}};if(dc(t.value))return{unaryFilter:{field:Ph(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ph(t.field),op:Dh(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Ph(t.field),direction:Nh(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||tc(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=jh(e.startAt)),e.endAt&&(n.structuredQuery.endAt=jh(e.endAt)),n}function kh(t){var e=_h(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ku(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[Vh(e)]:void 0!==e.fieldFilter?[Mh(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Au():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Pc(Lh(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return tc(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Rh(n.startAt));var l=null;return n.endAt&&(l=Rh(n.endAt)),Uc(e,i,a,s,u,"F",c,l)}function jh(t){return{before:t.before,values:t.position}}function Rh(t){return new Nc(t.values||[],!!t.before)}function Nh(t){return ch[t]}function Dh(t){return lh[t]}function Ph(t){return{fieldPath:t.canonicalString()}}function Lh(t){return Gu.fromServerFormat(t.fieldPath)}function Mh(t){return Sc.create(Lh(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Au()}}(t.fieldFilter.op),t.fieldFilter.value)}function Vh(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Lh(t.unaryFilter.field);return Sc.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Lh(t.unaryFilter.field);return Sc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Lh(t.unaryFilter.field);return Sc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Lh(t.unaryFilter.field);return Sc.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Au()}}function Fh(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Uh(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function qh(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Hh(e)),e=Bh(t.get(n),e);return Hh(e)}function Bh(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Hh(t){return t+"\x01\x01"}function zh(t){var e=t.length;if(ku(e>=2),2===e)return ku("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Hu.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Au(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Au()}o=s+2}return new Hu(r)}var Gh=function(t,e){this.seconds=t,this.nanoseconds=e},Qh=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Qh.store="owner",Qh.key="owner";var Kh=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Kh.store="mutationQueues",Kh.keyPath="userId";var Wh=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Wh.store="mutations",Wh.keyPath="batchId",Wh.userMutationsIndex="userMutationsIndex",Wh.userMutationsKeyPath=["userId","batchId"];var $h=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,qh(e)]},t.key=function(t,e,n){return[t,qh(e),n]},t}();$h.store="documentMutations",$h.PLACEHOLDER=new $h;var Jh=function(t,e){this.path=t,this.readTime=e},Xh=function(t,e){this.path=t,this.version=e},Yh=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Yh.store="remoteDocuments",Yh.readTimeIndex="readTimeIndex",Yh.readTimeIndexPath="readTime",Yh.collectionReadTimeIndex="collectionReadTimeIndex",Yh.collectionReadTimeIndexPath=["parentPath","readTime"];var Zh=function(t){this.byteSize=t};Zh.store="remoteDocumentGlobal",Zh.key="remoteDocumentGlobalKey";var tf=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};tf.store="targets",tf.keyPath="targetId",tf.queryTargetsIndexName="queryTargetsIndex",tf.queryTargetsKeyPath=["canonicalId","targetId"];var ef=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ef.store="targetDocuments",ef.keyPath=["targetId","path"],ef.documentTargetsIndex="documentTargetsIndex",ef.documentTargetsKeyPath=["path","targetId"];var nf=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};nf.key="targetGlobalKey",nf.store="targetGlobal";var rf=function(t,e){this.collectionId=t,this.parent=e};rf.store="collectionParents",rf.keyPath=["collectionId","parent"];var of=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};of.store="clientMetadata",of.keyPath="clientId";var sf=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};sf.store="bundles",sf.keyPath="bundleId";var af=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};af.store="namedQueries",af.keyPath="name";var uf=Object(ai.f)(Object(ai.f)([],Object(ai.f)(Object(ai.f)([],Object(ai.f)(Object(ai.f)([],Object(ai.f)(Object(ai.f)([],[Kh.store,Wh.store,$h.store,Yh.store,tf.store,Qh.store,nf.store,ef.store]),[of.store])),[Zh.store])),[rf.store])),[sf.store,af.store]),cf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",lf=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),hf=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},ff=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Au(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),df=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new hf,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new mf(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=_f(e.target.error);n.ft.reject(new mf(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new mf(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Tu("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new vf(e)},t}(),pf=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(vi.i)())&&Cu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Tu("SimpleDb","Removing database:",t),bf(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(vi.i)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(ai.b)(this,void 0,void 0,(function(){var e,n=this;return Object(ai.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Tu("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new mf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Ou(_u.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new mf(t,n))},i.onupgradeneeded=function(t){Tu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Tu("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(ai.b)(this,void 0,void 0,(function(){var i,o,s,a,u;return Object(ai.d)(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(ai.d)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=df.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),ff.reject(t)})).toPromise(),u={},s.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Tu("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),gf=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return bf(this.Pt.delete())},t}(),mf=function(t){function e(e,n){var r=this;return(r=t.call(this,_u.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(ai.c)(e,t),e}(Ou);function yf(t){return"IndexedDbTransactionError"===t.name}var vf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Tu("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Tu("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),bf(n)},t.prototype.add=function(t){return Tu("SimpleDb","ADD",this.store.name,t,t),bf(this.store.add(t))},t.prototype.get=function(t){var e=this;return bf(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Tu("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Tu("SimpleDb","DELETE",this.store.name,t),bf(this.store.delete(t))},t.prototype.count=function(){return Tu("SimpleDb","COUNT",this.store.name),bf(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){Tu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new ff((function(n,r){e.onerror=function(t){var e=_f(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new ff((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new gf(i),s=e(i.primaryKey,i.value,o);if(s instanceof ff){var a=s.catch((function(t){return o.done(),ff.reject(t)}));n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return ff.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function bf(t){return new ff((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=_f(t.target.error);n(e)}}))}var wf=!1;function _f(t){var e=pf._t(Object(vi.i)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Ou("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return wf||(wf=!0,setTimeout((function(){throw r}),0)),r}}return t}var Of=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(ai.c)(e,t),e}(lf);function Ef(t,e){var n=ju(t);return pf.It(n.Mt,e)}var Sf=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Ol(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&El(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&El(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Vu.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Xl())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Pu(this.mutations,t.mutations,(function(t,e){return Tl(t,e)}))&&Pu(this.baseMutations,t.baseMutations,(function(t,e){return Tl(t,e)}))},t}(),Tf=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){ku(e.mutations.length===r.length);for(var i=$l(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Cf=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Vu.min()),void 0===o&&(o=Vu.min()),void 0===s&&(s=Ku.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),If=function(t){this.Lt=t};function xf(t,e){if(e.document)return Th(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=rc.fromSegments(e.noDocument.path),r=Nf(e.noDocument.readTime),i=vc.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=rc.fromSegments(e.unknownDocument.path);return r=Nf(e.unknownDocument.version),vc.newUnknownDocument(o,r)}return Au()}function Af(t,e,n){var r=kf(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:vh(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:fh(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new Yh(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Rf(e.version);return s=e.hasCommittedMutations,new Yh(null,new Jh(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Rf(e.version);return new Yh(new Xh(c,l),null,null,!0,r,i)}return Au()}function kf(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function jf(t){var e=new Mu(t[0],t[1]);return Vu.fromTimestamp(e)}function Rf(t){var e=t.toTimestamp();return new Gh(e.seconds,e.nanoseconds)}function Nf(t){var e=new Mu(t.seconds,t.nanoseconds);return Vu.fromTimestamp(e)}function Df(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Ih(t.Lt,e)})),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map((function(e){return Ih(t.Lt,e)})),o=Mu.fromMillis(e.localWriteTimeMs);return new Sf(e.batchId,o,n,i)}function Pf(t){var e,n,r=Nf(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Nf(t.lastLimboFreeSnapshotVersion):Vu.min();return void 0!==t.query.documents?(ku(1===(n=t.query).documents.length),e=Wc(qc(_h(n.documents[0])))):e=function(t){return Wc(kh(t))}(t.query),new Cf(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Ku.fromBase64String(t.resumeToken))}function Lf(t,e){var n,r=Rf(e.snapshotVersion),i=Rf(e.lastLimboFreeSnapshotVersion);n=Ec(e.target)?xh(t.Lt,e.target):Ah(t.Lt,e.target);var o=e.resumeToken.toBase64();return new tf(e.targetId,_c(e.target),r,o,e.sequenceNumber,i,n)}function Mf(t){var e=kh({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?$c(e,e.limit,"L"):e}var Vf=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Ff(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Nf(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Ff(t).put({bundleId:(n=e).id,createTime:Rf(gh(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Uf(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Mf(e.bundledQuery),readTime:Nf(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return Uf(t).put(function(t){return{name:t.name,readTime:Rf(gh(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Ff(t){return Ef(t,sf.store)}function Uf(t){return Ef(t,af.store)}var qf=function(){function t(){this.Bt=new Bf}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),ff.resolve()},t.prototype.getCollectionParents=function(t,e){return ff.resolve(this.Bt.getEntries(e))},t}(),Bf=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Bl(Hu.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Bl(Hu.comparator)).toArray()},t}(),Hf=function(){function t(){this.qt=new Bf}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:qh(i)};return zf(t).put(o)}return ff.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Lu(e),""],!1,!0);return zf(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(zh(o.parent))}return n}))},t}();function zf(t){return Ef(t,rf.store)}var Gf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qf=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Kf(t,e,n){var r=t.store(Wh.store),i=t.store($h.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ot({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){ku(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=$h.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return ff.waitFor(o).next((function(){return c}))}function Wf(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Au();e=t.noDocument}return JSON.stringify(e).length}Qf.DEFAULT_COLLECTION_PERCENTILE=10,Qf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qf.DEFAULT=new Qf(41943040,Qf.DEFAULT_COLLECTION_PERCENTILE,Qf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qf.DISABLED=new Qf(-1,0,0);var $f=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return ku(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xf(t).Ot({index:Wh.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Yf(t),s=Xf(t);return s.add({}).next((function(a){ku("number"==typeof a);for(var u=new Sf(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Ch(t.Lt,e)})),i=n.mutations.map((function(e){return Ch(t.Lt,e)}));return new Wh(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Bl((function(t,e){return Du(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],g=$h.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,$h.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Qt[a]=u.keys()})),ff.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Xf(t).get(e).next((function(t){return t?(ku(t.userId===n.userId),Df(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?ff.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Xf(t).Ot({index:Wh.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(ku(e.batchId>=r),o=Df(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Xf(t).Ot({index:Wh.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xf(t).Nt(Wh.userMutationsIndex,n).next((function(t){return t.map((function(t){return Df(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=$h.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Yf(t).Ot({range:i},(function(r,i,s){var a=r[0],u=r[2],c=zh(r[1]);if(a===n.userId&&e.path.isEqual(c))return Xf(t).get(u).next((function(t){if(!t)throw Au();ku(t.userId===n.userId),o.push(Df(n.R,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Bl(Du),i=[];return e.forEach((function(e){var o=$h.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Yf(t).Ot({range:s},(function(t,i,o){var s=t[0],a=t[2],u=zh(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),ff.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=$h.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Bl(Du);return Yf(t).Ot({range:s},(function(t,e,o){var s=t[0],u=t[2],c=zh(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.Wt(t,a)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Xf(t).get(e).next((function(t){if(null===t)throw Au();ku(t.userId===n.userId),r.push(Df(n.R,t))})))})),ff.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Kf(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),ff.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return ff.resolve();var r=IDBKeyRange.lowerBound($h.prefixForUser(e.userId)),i=[];return Yf(t).Ot({range:r},(function(t,n,r){if(t[0]===e.userId){var o=zh(t[1]);i.push(o)}else r.done()})).next((function(){ku(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return Jf(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Zf(t).get(this.userId).next((function(t){return t||new Kh(e.userId,-1,"")}))},t}();function Jf(t,e,n){var r=$h.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Yf(t).Ot({range:o,kt:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function Xf(t){return Ef(t,Wh.store)}function Yf(t){return Ef(t,$h.store)}function Zf(t){return Ef(t,Kh.store)}var td=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),ed=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new td(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Vu.fromTimestamp(new Mu(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return nd(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return ku(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return nd(t).Ot((function(s,a){var u=Pf(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return ff.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return nd(t).Ot((function(t,n){var r=Pf(n);e(r)}))},t.prototype.Xt=function(t){return rd(t).get(nf.key).next((function(t){return ku(null!==t),t}))},t.prototype.Zt=function(t,e){return rd(t).put(nf.key,e)},t.prototype.te=function(t,e){return nd(t).put(Lf(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=_c(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return nd(t).Ot({range:r,index:tf.queryTargetsIndexName},(function(t,n,r){var o=Pf(n);Oc(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=id(t);return e.forEach((function(e){var s=qh(e.path);i.push(o.put(new ef(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))})),ff.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=id(t);return ff.forEach(e,(function(e){var o=qh(e.path);return ff.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=id(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=id(t),i=Xl();return r.Ot({range:n,kt:!0},(function(t,e,n){var r=zh(t[1]),o=new rc(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=qh(e.path),r=IDBKeyRange.bound([n],[Lu(n)],!1,!0),i=0;return id(t).Ot({index:ef.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return nd(t).get(e).next((function(t){return t?Pf(t):null}))},t}();function nd(t){return Ef(t,tf.store)}function rd(t){return Ef(t,nf.store)}function id(t){return Ef(t,ef.store)}function od(t){return Object(ai.b)(this,void 0,void 0,(function(){return Object(ai.d)(this,(function(e){if(t.code!==_u.FAILED_PRECONDITION||t.message!==cf)throw t;return Tu("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function sd(t,e){var n=t[1],r=e[1],i=Du(t[0],e[0]);return 0===i?Du(n,r):i}var ad=function(){function t(t){this.ne=t,this.buffer=new Bl(sd),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();sd(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ud=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Tu("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Object(ai.b)(e,void 0,void 0,(function(){var e;return Object(ai.d)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return yf(e=n.sent())?(Tu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,od(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),cd=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return ff.resolve(wu.o);var r=new ad(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Tu("LruGarbageCollector","Garbage collection skipped; disabled"),ff.resolve(Gf)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Tu("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Gf):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(Tu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),Su()<=bi.a.DEBUG&&Tu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),ff.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),ld=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new cd(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return hd(t,n)},t.prototype.removeReference=function(t,e,n){return hd(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return hd(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Zf(t).$t((function(r){return Jf(t,r,e).next((function(t){return t&&(n=!0),ff.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(s,a){if(a<=e){var u=n._e(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),id(t).delete([0,qh(s.path)])}))}));i.push(u)}})).next((function(){return ff.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return hd(t,e)},t.prototype.we=function(t,e){var n,r=id(t),i=wu.o;return r.Ot({index:ef.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==wu.o&&e(new rc(zh(n)),i),i=s,n=o):i=wu.o})).next((function(){i!==wu.o&&e(new rc(zh(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function hd(t,e){return id(t).put(function(t,e){return new ef(0,qh(t.path),e)}(e,t.currentSequenceNumber))}var fd=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Uu(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.isEmpty=function(){return qu(this.inner)},t}(),dd=function(){function t(){this.changes=new fd((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Vu.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:vc.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?ff.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),pd=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return yd(t).put(vd(e),n)},t.prototype.removeEntry=function(t,e){var n=yd(t),r=vd(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return yd(t).get(vd(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return yd(t).get(vd(e)).next((function(t){return{document:n.ye(e,t),size:Wf(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=Gl();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=Gl(),i=new Fl(rc.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Wf(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return ff.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return yd(t).Ot({range:r},(function(t,e,r){for(var s=rc.fromSegments(t);o&&rc.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Gl(),o=e.path.length+1,s={};if(n.isEqual(Vu.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=kf(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Yh.collectionReadTimeIndex}return yd(t).Ot(s,(function(t,n,s){if(t.length===o){var a=xf(r.R,n);e.path.isPrefixOf(a.key.path)?Zc(e,a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new gd(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return md(t).get(Zh.key).next((function(t){return ku(!!t),t}))},t.prototype.me=function(t,e){return md(t).put(Zh.key,e)},t.prototype.ye=function(t,e){if(e){var n=xf(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Vu.min()))return n}return vc.newInvalidDocument(t)},t}(),gd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new fd((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(ai.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Bl((function(t,e){return Du(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=Af(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Wf(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=Af(e.Ie.R,vc.newNoDocument(o,Vu.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),ff.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(dd);function md(t){return Ef(t,Zh.store)}function yd(t){return Ef(t,Yh.store)}function vd(t){return t.path.toArray()}var bd=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;ku(n<r&&n>=0&&r<=11);var o=new df("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Qh.store)}(t),function(t){t.createObjectStore(Kh.store,{keyPath:Kh.keyPath}),t.createObjectStore(Wh.store,{keyPath:Wh.keyPath,autoIncrement:!0}).createIndex(Wh.userMutationsIndex,Wh.userMutationsKeyPath,{unique:!0}),t.createObjectStore($h.store)}(t),wd(t),function(t){t.createObjectStore(Yh.store)}(t));var s=ff.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ef.store),t.deleteObjectStore(tf.store),t.deleteObjectStore(nf.store)}(t),wd(t)),s=s.next((function(){return function(t){var e=t.store(nf.store),n=new nf(0,0,Vu.min().toTimestamp(),0);return e.put(nf.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Wh.store).Nt().next((function(n){t.deleteObjectStore(Wh.store),t.createObjectStore(Wh.store,{keyPath:Wh.keyPath,autoIncrement:!0}).createIndex(Wh.userMutationsIndex,Wh.userMutationsKeyPath,{unique:!0});var r=e.store(Wh.store),i=n.map((function(t){return r.put(t)}));return ff.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(of.store,{keyPath:of.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Re(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Zh.store)}(t),i.be(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ve(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Yh.store);e.createIndex(Yh.readTimeIndex,Yh.readTimeIndexPath,{unique:!1}),e.createIndex(Yh.collectionReadTimeIndex,Yh.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(sf.store,{keyPath:sf.keyPath})}(t),function(t){t.createObjectStore(af.store,{keyPath:af.keyPath})}(t)}))),s},t.prototype.be=function(t){var e=0;return t.store(Yh.store).Ot((function(t,n){e+=Wf(n)})).next((function(){var n=new Zh(e);return t.store(Zh.store).put(Zh.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Kh.store),r=t.store(Wh.store);return n.Nt().next((function(n){return ff.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Wh.userMutationsIndex,i).next((function(r){return ff.forEach(r,(function(r){ku(r.userId===n.userId);var i=Df(e.R,r);return Kf(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(ef.store),n=t.store(Yh.store);return t.store(nf.store).get(nf.key).next((function(t){var r=[];return n.Ot((function(n,i){var o=new Hu(n),s=function(t){return[0,qh(t)]}(o);r.push(e.get(s).next((function(n){return n?ff.resolve():function(n){return e.put(new ef(0,qh(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return ff.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(rf.store,{keyPath:rf.keyPath});var n=e.store(rf.store),r=new Bf,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:qh(i)})}};return e.store(Yh.store).Ot({kt:!0},(function(t,e){var n=new Hu(t);return i(n.popLast())})).next((function(){return e.store($h.store).Ot({kt:!0},(function(t,e){var n=zh(t[1]);return i(n.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(tf.store);return n.Ot((function(t,r){var i=Pf(r),o=Lf(e.R,i);return n.put(o)}))},t}();function wd(t){t.createObjectStore(ef.store,{keyPath:ef.keyPath}).createIndex(ef.documentTargetsIndex,ef.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(tf.store,{keyPath:tf.keyPath}).createIndex(tf.queryTargetsIndexName,tf.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(nf.store)}var _d="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Od=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Ou(_u.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ld(this,i),this.Le=n+"main",this.R=new If(u),this.Be=new pf(this.Le,11,new bd(this.R)),this.qe=new ed(this.referenceDelegate,this.R),this.Ut=new Hf,this.Ue=function(t,e){return new pd(t,e)}(this.R,this.Ut),this.Qe=new Vf,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Cu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Ou(_u.FAILED_PRECONDITION,_d);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new wu(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(ai.b)(e,void 0,void 0,(function(){return Object(ai.d)(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return Object(ai.b)(e,void 0,void 0,(function(){return Object(ai.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return Object(ai.b)(e,void 0,void 0,(function(){return Object(ai.d)(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Sd(e).put(new of(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(yf(e))return Tu("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Tu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return Ed(t).get(Qh.key).next((function(t){return ff.resolve(e.tn(t))}))},t.prototype.en=function(t){return Sd(t).delete(this.clientId)},t.prototype.nn=function(){return Object(ai.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(ai.d)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Ef(t,of.store);return e.Nt().next((function(t){var n=r.rn(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return ff.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?ff.resolve(!0):Ed(t).get(Qh.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Ou(_u.FAILED_PRECONDITION,_d);return!1}}return!(!e.networkEnabled||!e.inForeground)||Sd(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Tu("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Object(ai.b)(this,void 0,void 0,(function(){var t=this;return Object(ai.d)(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Qh.store,of.store],(function(e){var n=new Of(e,wu.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Sd(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return $f.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Tu("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",uf,(function(o){return r=new Of(o,i.Ne?i.Ne.next():wu.o),"readwrite-primary"===e?i.Je(r).next((function(t){return!!t||i.Ye(r)})).next((function(e){if(!e)throw Cu("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new Ou(_u.FAILED_PRECONDITION,cf);return n(r)})).next((function(t){return i.Ze(r).next((function(){return t}))})):i.dn(r).next((function(){return n(r)}))})).then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return Ed(t).get(Qh.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Ou(_u.FAILED_PRECONDITION,_d)}))},t.prototype.Ze=function(t){var e=new Qh(this.clientId,this.allowTabSynchronization,Date.now());return Ed(t).put(Qh.key,e)},t.yt=function(){return pf.yt()},t.prototype.Xe=function(t){var e=this,n=Ed(t);return n.get(Qh.key).next((function(t){return e.tn(t)?(Tu("IndexedDbPersistence","Releasing primary lease."),n.delete(Qh.key)):ff.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Cu("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Tu("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Cu("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Cu("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Ed(t){return Ef(t,Qh.store)}function Sd(t){return Ef(t,of.store)}function Td(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Cd=function(t,e){this.progress=t,this.wn=e},Id=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return rc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Qc(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new rc(e)).next((function(t){var e=Kl();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Kl();return this.Ut.getCollectionParents(t,i).next((function(s){return ff.forEach(s,(function(s){var a=function(t,e){return new Fc(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return o.Rn(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=vc.newInvalidDocument(c),r=r.insert(c,l)),El(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){Zc(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=Xl(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof xl&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),xd=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Xl(),i=Xl(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Ad=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Vu.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var s=i.Cn(e,o);return(Bc(e)||Hc(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Su()<=bi.a.DEBUG&&Tu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Yc(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Bl(tl(t));return e.forEach((function(e,r){Zc(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Su()<=bi.a.DEBUG&&Tu("QueryEngine","Using full collection scan to execute query:",Yc(e)),this.Sn.getDocumentsMatchingQuery(t,e,Vu.min())},t}(),kd=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Fl(Du),this.kn=new fd((function(t){return _c(t)}),Oc),this.On=Vu.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Id(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();function jd(t,e,n,r){return new kd(t,e,n,r)}function Rd(t,e){return Object(ai.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(ai.d)(this,(function(s){switch(s.label){case 0:return n=ju(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Id(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],s=Xl(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Nd(t,e){var n=ju(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=ff.resolve();return o.forEach((function(t){s=s.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);ku(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),s.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function Dd(t){var e=ju(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Pd(t,e){var n=ju(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return ku(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}}));var a=Gl();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(Ld(t,o,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(Vu.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));s.push(u)}return ff.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,a)})).next((function(){return a}))})).then((function(t){return n.Fn=i,t}))}function Ld(t,e,n,r,i){var o=Xl();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Gl();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Vu.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):Tu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function Md(t,e){var n=ju(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Vd(t,e){var n=ju(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?ff.resolve(r=i):n.qe.allocateTargetId(t).next((function(i){return r=new Cf(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function Fd(t,e,n){return Object(ai.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(ai.d)(this,(function(a){switch(a.label){case 0:r=ju(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!yf(s=a.sent()))throw s;return Tu("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function Ud(t,e,n){var r=ju(t),i=Vu.min(),o=Xl();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=ju(t),i=r.kn.get(n);return void 0!==i?ff.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Wc(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Vu.min(),n?o:Xl())})).next((function(t){return{documents:t,Bn:o}}))}))}function qd(t,e){var n=ju(t),r=ju(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function Bd(t){var e=ju(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=ju(t),i=Gl(),o=kf(n),s=yd(e),a=IDBKeyRange.lowerBound(o,!0);return s.Ot({index:Yh.readTimeIndex,range:a},(function(t,e){var n=xf(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:jf(o)}}))}(e.$n,t,e.On)})).then((function(t){var n=t.wn;return e.On=t.readTime,n}))}function Hd(t){return Object(ai.b)(this,void 0,void 0,(function(){var e;return Object(ai.d)(this,(function(n){return[2,(e=ju(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=yd(t),n=Vu.min();return e.Ot({index:Yh.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=jf(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.On=t}))]}))}))}function zd(t,e,n,r){return Object(ai.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,h,f,d;return Object(ai.d)(this,(function(p){switch(p.label){case 0:for(i=ju(t),o=Xl(),s=Gl(),a=$l(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return f=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Vd(i,function(t){return Wc(qc(Hu.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Ld(t,f,s,Vu.min(),a).next((function(e){return f.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next((function(){return i.qe.addMatchingKeys(t,o,d.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function Gd(t,e,n){return void 0===n&&(n=Xl()),Object(ai.b)(this,void 0,void 0,(function(){var r,i;return Object(ai.d)(this,(function(o){switch(o.label){case 0:return[4,Vd(t,Wc(Mf(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=ju(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=gh(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(Ku.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(t,e)}))}))]}}))}))}var Qd=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return ff.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:gh(n.createTime)}),ff.resolve()},t.prototype.getNamedQuery=function(t,e){return ff.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Mf(t.bundledQuery),readTime:gh(t.readTime)}}(e)),ff.resolve()},t}(),Kd=function(){function t(){this.Wn=new Bl(Wd.Gn),this.zn=new Bl(Wd.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Wd(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new Wd(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new rc(new Hu([])),r=new Wd(n,t),i=new Wd(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new rc(new Hu([])),n=new Wd(e,t),r=new Wd(e,t+1),i=Xl();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Wd(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Wd=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return rc.comparator(t.key,e.key)||Du(t.ns,e.ns)},t.Hn=function(t,e){return Du(t.ns,e.ns)||rc.comparator(t.key,e.key)},t}(),$d=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Bl(Wd.Gn)}return t.prototype.checkEmpty=function(t){return ff.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Sf(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new Wd(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return ff.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return ff.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return ff.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return ff.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return ff.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Wd(e,0),i=new Wd(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),ff.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Bl(Du);return e.forEach((function(t){var e=new Wd(t,0),i=new Wd(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),ff.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;rc.isDocumentKey(i)||(i=i.child(""));var o=new Wd(new rc(i),0),s=new Bl(Du);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)}),o),ff.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;ku(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return ff.forEach(e.mutations,(function(i){var o=new Wd(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Wd(e,0),r=this.rs.firstAfterOrEqual(n);return ff.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return ff.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Jd=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Fl(rc.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return ff.resolve(n?n.document.clone():vc.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Gl();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():vc.newInvalidDocument(t))})),ff.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Gl(),i=new rc(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||Zc(e,u)&&(r=r.insert(u.key,u.clone()))}return ff.resolve(r)},t.prototype.fs=function(t,e){return ff.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new Xd(this)},t.prototype.getSize=function(t){return ff.resolve(this.size)},t}(),Xd=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(ai.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),ff.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(dd),Yd=function(){function t(t){this.persistence=t,this.ds=new fd((function(t){return _c(t)}),Oc),this.lastRemoteSnapshotVersion=Vu.min(),this.highestTargetId=0,this.ws=0,this._s=new Kd,this.targetCount=0,this.ys=td.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),ff.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return ff.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return ff.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),ff.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),ff.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new td(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,ff.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),ff.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,ff.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),ff.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return ff.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return ff.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),ff.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),ff.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),ff.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return ff.resolve(n)},t.prototype.containsKey=function(t,e){return ff.resolve(this._s.containsKey(e))},t}(),Zd=function(){function t(t,e){var n=this;this.gs={},this.Ne=new wu(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Yd(this),this.Ut=new qf,this.Ue=function(t,e){return new Jd(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new If(e),this.Qe=new Qd(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new $d(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Tu("MemoryPersistence","Starting transaction:",t);var i=new tp(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return ff.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),tp=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(ai.c)(e,t),e}(lf),ep=function(){function t(t){this.persistence=t,this.As=new Kd,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Au()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),ff.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),ff.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),ff.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ff.forEach(this.vs,(function(r){var i=rc.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return ff.or([function(){return ff.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),np=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function rp(t,e){return"firestore_clients_"+t+"_"+e}function ip(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function op(t,e){return"firestore_targets_"+t+"_"+e}np.UNAUTHENTICATED=new np(null),np.GOOGLE_CREDENTIALS=new np("google-credentials-uid"),np.FIRST_PARTY=new np("first-party-uid");var sp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Ou(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Cu("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ap=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ou(i.error.code,i.error.message)),o?new t(e,i.state,r):(Cu("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),up=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Zl(),s=0;i&&s<r.activeTargetIds.length;++s)i=nc(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Cu("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),cp=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Cu("SharedClientState","Failed to parse online state: "+e),null)},t}(),lp=function(){function t(){this.activeTargetIds=Zl()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),hp=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Fl(Du),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=rp(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new lp),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(ai.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(ai.d)(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(rp(this.persistenceKey,r)))&&(o=up.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)this.Fs(c[u]);return this.Os=[],this.window.addEventListener("unload",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(op(this.persistenceKey,t));if(n){var r=ap.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(op(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Tu("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Tu("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Tu("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Tu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void Cu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Object(ai.b)(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Object(ai.d)(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=wu.o;if(null!=t)try{var n=JSON.parse(t);ku("number"==typeof n),e=n}catch(t){Cu("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==wu.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new sp(this.currentUser,t,e,n),i=ip(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=ip(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=op(this.persistenceKey,t),i=new ap(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return up.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return sp.Vs(new np(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return ap.Vs(r,e)},t.prototype.js=function(t){return cp.Vs(t)},t.prototype.ii=function(t){return Object(ai.b)(this,void 0,void 0,(function(){return Object(ai.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Tu("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.syncEngine.hi(s,a).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Zl();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),fp=function(){function t(){this.li=new lp,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new lp,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),dp=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),pp=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Tu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Tu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),gp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},mp=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),yp=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(ai.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var s=new bu;s.listenOnce(mu.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case gu.NO_ERROR:var e=s.getResponseJson();Tu("Connection","XHR received:",JSON.stringify(e)),i(e);break;case gu.TIMEOUT:Tu("Connection",'RPC "'+t+'" timed out'),o(new Ou(_u.DEADLINE_EXCEEDED,"Request time out"));break;case gu.HTTP_ERROR:var n=s.getStatus();if(Tu("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(_u).indexOf(e)>=0?e:_u.UNKNOWN}(r.status);o(new Ou(a,r.message))}else o(new Ou(_u.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Ou(_u.UNAVAILABLE,"Connection failed."));break;default:Au()}}finally{Tu("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new lu,i=ds(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,e),Object(vi.n)()||Object(vi.p)()||Object(vi.l)()||Object(vi.m)()||Object(vi.q)()||Object(vi.k)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Tu("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new mp({Ei:function(t){c?Tu("Connection","Not sending because WebChannel is closed:",t):(u||(Tu("Connection","Opening WebChannel transport."),a.open(),u=!0),Tu("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,vu.EventType.OPEN,(function(){c||Tu("Connection","WebChannel transport opened.")})),h(a,vu.EventType.CLOSE,(function(){c||(c=!0,Tu("Connection","WebChannel transport closed"),l.Vi())})),h(a,vu.EventType.ERROR,(function(t){c||(c=!0,Iu("Connection","WebChannel transport errored:",t),l.Vi(new Ou(_u.UNAVAILABLE,"The operation could not be completed")))})),h(a,vu.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];ku(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Tu("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Rl[t];if(void 0!==e)return Vl(e)}(i),s=r.message;void 0===o&&(o=_u.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Ou(o,s)),a.close()}else Tu("Connection","WebChannel received:",n),l.Si(n)}})),h(i,yu.STAT_EVENT,(function(t){10===t.stat?Tu("Connection","Detected buffering proxy"):11===t.stat&&Tu("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Tu("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return Tu("RestConnection","Received: ",t),t}),(function(e){throw Iu("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.4.2",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+gp[t]},t}());function vp(){return"undefined"!=typeof window?window:null}function bp(){return"undefined"!=typeof document?document:null}function wp(t){return new hh(t,!0)}var _p=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Tu("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Qi=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Op=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new _p(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(ai.b)(this,void 0,void 0,(function(){return Object(ai.d)(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(ai.b)(this,void 0,void 0,(function(){return Object(ai.d)(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(ai.b)(this,void 0,void 0,(function(){return Object(ai.d)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===_u.RESOURCE_EXHAUSTED?(Cu(e.toString()),Cu("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===_u.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new Ou(_u.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return Object(ai.b)(t,void 0,void 0,(function(){return Object(ai.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return Tu("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(Tu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Ep=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(ai.c)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Au()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(ku(void 0===e||"string"==typeof e),Ku.fromBase64String(e||"")):(ku(void 0===e||e instanceof Uint8Array),Ku.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?_u.UNKNOWN:Vl(t.code);return new Ou(e,t.message||"")}(a);n=new ih(r,i,o,s||null)}else if("documentChange"in e){i=bh(t,(r=e.documentChange).document.name),o=gh(r.document.updateTime);var a=new mc({mapValue:{fields:r.document.fields}}),u=(s=vc.newFoundDocument(i,o,a),r.targetIds||[]);n=new nh(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=bh(t,(r=e.documentDelete).document),o=r.readTime?gh(r.readTime):Vu.min(),a=vc.newNoDocument(i,o),n=new nh([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=bh(t,(r=e.documentRemove).document),n=new nh([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Au();var c=e.filter;i=new Ll(r=c.count||0),n=new rh(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Vu.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Vu.min():e.readTime?gh(e.readTime):Vu.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Oh(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Ec(r)?{documents:xh(t,r)}:{query:Ah(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=dh(t,e.resumeToken):e.snapshotVersion.compareTo(Vu.min())>0&&(n.readTime=fh(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Au()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Oh(this.R),e.removeTarget=t,this.cr(e)},e}(Op),Sp=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(ai.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(ku(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(ku(void 0!==e),t.map((function(t){return function(t,e){var n=gh(t.updateTime?t.updateTime:e);return n.isEqual(Vu.min())&&(n=gh(e)),new vl(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=gh(t.commitTime);return this.listener.Tr(n,e)}return ku(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Oh(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Ch(e.R,t)}))};this.cr(n)},e}(Op),Tp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(ai.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new Ou(_u.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===_u.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Ou(_u.UNKNOWN,t.toString())}))},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===_u.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Ou(_u.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),Cp=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Cu(e),this.Vr=!1):Tu("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Ip=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return Object(ai.b)(o,void 0,void 0,(function(){return Object(ai.d)(this,(function(t){switch(t.label){case 0:return Lp(this)?(Tu("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(ai.b)(this,void 0,void 0,(function(){var e;return Object(ai.d)(this,(function(n){switch(n.label){case 0:return(e=ju(t)).$r.add(4),[4,Ap(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,xp(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new Cp(n,r)};function xp(t){return Object(ai.b)(this,void 0,void 0,(function(){var e,n;return Object(ai.d)(this,(function(r){switch(r.label){case 0:if(!Lp(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Ap(t){return Object(ai.b)(this,void 0,void 0,(function(){var e,n;return Object(ai.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function kp(t,e){var n=ju(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Pp(n)?Dp(n):Xp(n).er()&&Rp(n,e))}function jp(t,e){var n=ju(t),r=Xp(n);n.Or.delete(e),r.er()&&Np(n,e),0===n.Or.size&&(r.er()?r.ir():Lp(n)&&n.Br.set("Unknown"))}function Rp(t,e){t.qr.U(e.targetId),Xp(t).mr(e)}function Np(t,e){t.qr.U(e),Xp(t).yr(e)}function Dp(t){t.qr=new sh({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),Xp(t).start(),t.Br.Sr()}function Pp(t){return Lp(t)&&!Xp(t).tr()&&t.Or.size>0}function Lp(t){return 0===ju(t).$r.size}function Mp(t){t.qr=void 0}function Vp(t){return Object(ai.b)(this,void 0,void 0,(function(){return Object(ai.d)(this,(function(e){return t.Or.forEach((function(e,n){Rp(t,e)})),[2]}))}))}function Fp(t,e){return Object(ai.b)(this,void 0,void 0,(function(){return Object(ai.d)(this,(function(n){return Mp(t),Pp(t)?(t.Br.Nr(e),Dp(t)):t.Br.set("Unknown"),[2]}))}))}function Up(t,e,n){return Object(ai.b)(this,void 0,void 0,(function(){var r,i,o;return Object(ai.d)(this,(function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof ih&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(ai.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(ai.d)(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Or.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Or.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Tu("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,qp(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof nh?t.qr.X(e):e instanceof rh?t.qr.rt(e):t.qr.et(e),n.isEqual(Vu.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Dd(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(Ku.EMPTY_BYTE_STRING,n.snapshotVersion)),Np(t,e);var r=new Cf(n.target,e,1,n.sequenceNumber);Rp(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Tu("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,qp(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function qp(t,e,n){return Object(ai.b)(this,void 0,void 0,(function(){var r=this;return Object(ai.d)(this,(function(i){switch(i.label){case 0:if(!yf(e))throw e;return t.$r.add(1),[4,Ap(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Dd(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Object(ai.b)(r,void 0,void 0,(function(){return Object(ai.d)(this,(function(e){switch(e.label){case 0:return Tu("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,xp(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Bp(t,e){return e().catch((function(n){return qp(t,n,e)}))}function Hp(t){return Object(ai.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(ai.d)(this,(function(s){switch(s.label){case 0:e=ju(t),n=Yp(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Lp(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Md(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Yp(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,qp(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return zp(e)&&Gp(e),[2]}}))}))}function zp(t){return Lp(t)&&!Yp(t).tr()&&t.kr.length>0}function Gp(t){Yp(t).start()}function Qp(t){return Object(ai.b)(this,void 0,void 0,(function(){return Object(ai.d)(this,(function(e){return Yp(t).Ar(),[2]}))}))}function Kp(t){return Object(ai.b)(this,void 0,void 0,(function(){var e,n,r;return Object(ai.d)(this,(function(i){for(e=Yp(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]}))}))}function Wp(t,e,n){return Object(ai.b)(this,void 0,void 0,(function(){var r,i;return Object(ai.d)(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Tf.from(r,e,n),[4,Bp(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Hp(t)];case 2:return o.sent(),[2]}}))}))}function $p(t,e){return Object(ai.b)(this,void 0,void 0,(function(){return Object(ai.d)(this,(function(n){switch(n.label){case 0:return e&&Yp(t).pr?[4,function(t,e){return Object(ai.b)(this,void 0,void 0,(function(){var n,r;return Object(ai.d)(this,(function(i){switch(i.label){case 0:return Ml(r=e.code)&&r!==_u.ABORTED?(n=t.kr.shift(),Yp(t).sr(),[4,Bp(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Hp(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return zp(t)&&Gp(t),[2]}}))}))}function Jp(t,e){return Object(ai.b)(this,void 0,void 0,(function(){var n;return Object(ai.d)(this,(function(r){switch(r.label){case 0:return n=ju(t),e?(n.$r.delete(2),[4,xp(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,Ap(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Xp(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=ju(t);return r.br(),new Ep(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Vp.bind(null,t),Ri:Fp.bind(null,t),_r:Up.bind(null,t)}),t.Mr.push((function(n){return Object(ai.b)(e,void 0,void 0,(function(){return Object(ai.d)(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Pp(t)?Dp(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Mp(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function Yp(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=ju(t);return r.br(),new Sp(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Qp.bind(null,t),Ri:$p.bind(null,t),Ir:Kp.bind(null,t),Tr:Wp.bind(null,t)}),t.Mr.push((function(n){return Object(ai.b)(e,void 0,void 0,(function(){return Object(ai.d)(this,(function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,Hp(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(Tu("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qr}var Zp=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new hf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ou(_u.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function tg(t,e){if(Cu("AsyncQueue",e+": "+t),yf(t))return new Ou(_u.UNAVAILABLE,e+": "+t);throw t}var eg=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||rc.comparator(e.key,n.key)}:function(t,e){return rc.comparator(t.key,e.key)},this.keyedMap=Kl(),this.sortedSet=new Fl(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),ng=function(){function t(){this.Kr=new Fl(rc.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Au():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),rg=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,eg.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Jc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),ig=function(){this.Wr=void 0,this.listeners=[]},og=function(){this.queries=new fd((function(t){return Xc(t)}),Jc),this.onlineState="Unknown",this.Gr=new Set};function sg(t,e){return Object(ai.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Object(ai.d)(this,(function(c){switch(c.label){case 0:if(n=ju(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new ig),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=tg(a,"Initialization of query '"+Yc(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&lg(n),[2]}}))}))}function ag(t,e){return Object(ai.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(ai.d)(this,(function(a){return n=ju(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function ug(t,e){for(var n=ju(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&lg(n)}function cg(t,e,n){var r=ju(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function lg(t){t.Gr.forEach((function(t){t.next()}))}var hg=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new rg(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=rg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),fg=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),dg=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return bh(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Th(this.R,t.document,!1):vc.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return gh(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new dg(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Xl()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(ai.b)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(ai.d)(this,(function(o){switch(o.label){case 0:return[4,zd(this.localStore,new dg(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Gd(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Cd(Object.assign({},this.progress),t))]}}))}))}}();var pg=function(t){this.key=t},gg=function(t){this.key=t},mg=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Xl(),this.mutatedKeys=Xl(),this.lo=tl(t),this.fo=new eg(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new ng,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=Bc(this.query)&&i.size===this.query.limit?i.last():null,c=Hc(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=Zc(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Bc(this.query)||Hc(this.query))for(;s.size>this.query.limit;){var l=Bc(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Au()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new rg(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new ng,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Xl(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new gg(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new pg(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Xl();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return rg.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),yg=function(t,e,n){this.query=t,this.targetId=e,this.view=n},vg=function(t){this.key=t,this.bo=!1},bg=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new fd((function(t){return Xc(t)}),Jc),this.Vo=new Map,this.So=new Set,this.Do=new Fl(rc.comparator),this.Co=new Map,this.No=new Kd,this.xo={},this.Fo=new Map,this.ko=td.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function wg(t,e){return Object(ai.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(ai.d)(this,(function(a){switch(a.label){case 0:return n=$g(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Vd(n.localStore,Wc(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,_g(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&kp(n.remoteStore,o),a.label=4;case 4:return[2,r]}}))}))}function _g(t,e,n,r){return Object(ai.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Object(ai.d)(this,(function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Object(ai.b)(this,void 0,void 0,(function(){var i,o,s;return Object(ai.d)(this,(function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Ud(t.localStore,e.query,!1).then((function(t){return e.view._o(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Dg(t,e.targetId,s.To),s.snapshot)]}}))}))}(t,e,n,r)},[4,Ud(t.localStore,e,!0)];case 1:return i=l.sent(),o=new mg(e,i.Bn),s=o._o(i.documents),a=eh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),Dg(t,n,u.To),c=new yg(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function Og(t,e){return Object(ai.b)(this,void 0,void 0,(function(){var n,r,i;return Object(ai.d)(this,(function(o){switch(o.label){case 0:return n=ju(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!Jc(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Fd(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),jp(n.remoteStore,r.targetId),Rg(n,r.targetId)})).catch(od)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Rg(n,r.targetId),[4,Fd(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Eg(t,e,n){return Object(ai.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(ai.d)(this,(function(a){switch(a.label){case 0:r=Jg(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=ju(t),i=Mu.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Xl());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Sl(c,n.get(c.key));null!=l&&s.push(new xl(c.key,l,yc(l.toProto().mapValue),bl.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Fl(Du)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Mg(r,i.changes)];case 3:return a.sent(),[4,Hp(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=tg(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Sg(t,e){return Object(ai.b)(this,void 0,void 0,(function(){var n,r;return Object(ai.d)(this,(function(i){switch(i.label){case 0:n=ju(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Pd(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(ku(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?ku(r.bo):t.removedDocuments.size>0&&(ku(r.bo),r.bo=!1))})),[4,Mg(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,od(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Tg(t,e,n){var r=ju(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=ju(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&lg(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Cg(t,e,n){return Object(ai.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u;return Object(ai.d)(this,(function(c){switch(c.label){case 0:return(r=ju(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new Fl(rc.comparator)).insert(o,vc.newNoDocument(o,Vu.min())),a=Xl().add(o),u=new th(Vu.min(),new Map,new Bl(Du),s,a),[4,Sg(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Lg(r),[3,4];case 2:return[4,Fd(r.localStore,e,!1).then((function(){return Rg(r,e,n)})).catch(od)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Ig(t,e){return Object(ai.b)(this,void 0,void 0,(function(){var n,r,i;return Object(ai.d)(this,(function(o){switch(o.label){case 0:n=ju(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Nd(n.localStore,e)];case 2:return i=o.sent(),jg(n,r,null),kg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Mg(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,od(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function xg(t,e,n){return Object(ai.b)(this,void 0,void 0,(function(){var r,i;return Object(ai.d)(this,(function(o){switch(o.label){case 0:r=ju(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=ju(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return ku(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),jg(r,e,n),kg(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Mg(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,od(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Ag(t,e){return Object(ai.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(ai.d)(this,(function(a){switch(a.label){case 0:Lp((n=ju(t)).remoteStore)||Tu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=ju(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=tg(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function kg(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function jg(t,e,n){var r=ju(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Rg(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||Ng(t,e)}))}function Ng(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(jp(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Lg(t))}function Dg(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof pg?(t.No.addReference(o.key,e),Pg(t,o)):o instanceof gg?(Tu("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Ng(t,o.key)):Au()}}function Pg(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Tu("SyncEngine","New document in limbo: "+n),t.So.add(r),Lg(t))}function Lg(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new rc(Hu.fromString(e)),r=t.ko.next();t.Co.set(r,new vg(n)),t.Do=t.Do.insert(n,r),kp(t.remoteStore,new Cf(Wc(qc(n.path)),r,2,wu.o))}}function Mg(t,e,n){return Object(ai.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(ai.d)(this,(function(a){switch(a.label){case 0:return r=ju(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,a){s.push(r.$o(a,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=xd.Pn(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(ai.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Object(ai.d)(this,(function(l){switch(l.label){case 0:n=ju(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return ff.forEach(e,(function(e){return ff.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return ff.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!yf(r=l.sent()))throw r;return Tu("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}}))}))}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Vg(t,e){return Object(ai.b)(this,void 0,void 0,(function(){var n,r;return Object(ai.d)(this,(function(i){switch(i.label){case 0:return(n=ju(t)).currentUser.isEqual(e)?[3,3]:(Tu("SyncEngine","User change. New user:",e.toKey()),[4,Rd(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach((function(t){t.forEach((function(t){t.reject(new Ou(_u.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Mg(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Fg(t,e){var n=ju(t),r=n.Co.get(e);if(r&&r.bo)return Xl().add(r.key);var i=Xl(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function Ug(t,e){return Object(ai.b)(this,void 0,void 0,(function(){var n,r,i;return Object(ai.d)(this,(function(o){switch(o.label){case 0:return[4,Ud((n=ju(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Dg(n,e.targetId,i.To),i)]}}))}))}function qg(t){return Object(ai.b)(this,void 0,void 0,(function(){var e;return Object(ai.d)(this,(function(n){return[2,Bd((e=ju(t)).localStore).then((function(t){return Mg(e,t)}))]}))}))}function Bg(t,e,n,r){return Object(ai.b)(this,void 0,void 0,(function(){var i,o;return Object(ai.d)(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=ju(t),r=ju(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):ff.resolve(null)}))}))}((i=ju(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Hp(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(jg(i,e,r||null),kg(i,e),function(t,e){ju(ju(t)._n).Gt(e)}(i.localStore,e)):Au(),s.label=4;case 4:return[4,Mg(i,o)];case 5:return s.sent(),[3,7];case 6:Tu("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function Hg(t,e){return Object(ai.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Object(ai.d)(this,(function(c){switch(c.label){case 0:return $g(n=ju(t)),Jg(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,zg(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,Jp(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)kp(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then((function(){return Rg(n,e),Fd(n.localStore,e,!0)})),jp(n.remoteStore,e)})),[4,u]);case 4:return c.sent(),[4,zg(n,a)];case 5:return c.sent(),function(t){var e=ju(t);e.Co.forEach((function(t,n){jp(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new Fl(rc.comparator)}(n),n.Oo=!1,[4,Jp(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function zg(t,e,n){return Object(ai.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(ai.d)(this,(function(g){switch(g.label){case 0:n=ju(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,Vd(n.localStore,Wc(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,Ug(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,qd(n.localStore,a)];case 8:return p=g.sent(),[4,Vd(n.localStore,p)];case 9:return u=g.sent(),[4,_g(n,Gg(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Gg(t){return Uc(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Qg(t){var e=ju(t);return ju(ju(e.localStore).persistence).fn()}function Kg(t,e,n,r){return Object(ai.b)(this,void 0,void 0,(function(){var i,o,s;return Object(ai.d)(this,(function(a){switch(a.label){case 0:return(i=ju(t)).Oo?(Tu("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Bd(i.localStore)];case 3:return o=a.sent(),s=th.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Mg(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Fd(i.localStore,e,!0)];case 6:return a.sent(),Rg(i,e,r),[3,8];case 7:Au(),a.label=8;case 8:return[2]}}))}))}function Wg(t,e,n){return Object(ai.b)(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h;return Object(ai.d)(this,(function(f){switch(f.label){case 0:if(!(r=$g(t)).Oo)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(Tu("SyncEngine","Adding an already active target "+s),[3,5]):[4,qd(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,Vd(r.localStore,a)];case 3:return u=f.sent(),[4,_g(r,Gg(a),u.targetId,!1)];case 4:f.sent(),kp(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(ai.d)(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Fd(r.localStore,t,!1).then((function(){jp(r.remoteStore,t),Rg(r,t)})).catch(od)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function $g(t){var e=ju(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cg.bind(null,e),e.vo._r=ug.bind(null,e.eventManager),e.vo.Mo=cg.bind(null,e.eventManager),e}function Jg(t){var e=ju(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ig.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xg.bind(null,e),e}var Xg=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(ai.b)(this,void 0,void 0,(function(){return Object(ai.d)(this,(function(e){switch(e.label){case 0:return this.R=wp(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return jd(this.persistence,new Ad,t.initialUser,this.R)},t.prototype.qo=function(t){return new Zd(ep.bs,this.R)},t.prototype.Bo=function(t){return new fp},t.prototype.terminate=function(){return Object(ai.b)(this,void 0,void 0,(function(){return Object(ai.d)(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),Yg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(ai.c)(e,t),e.prototype.initialize=function(e){return Object(ai.b)(this,void 0,void 0,(function(){return Object(ai.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Hd(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Jg(this.Ko.syncEngine)];case 4:return n.sent(),[4,Hp(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Qo=function(t){return jd(this.persistence,new Ad,t.initialUser,this.R)},e.prototype.Uo=function(t){return new ud(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Td(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Qf.withCacheSize(this.cacheSizeBytes):Qf.DEFAULT;return new Od(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,vp(),bp(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new fp},e}(Xg),Zg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(ai.c)(e,t),e.prototype.initialize=function(e){return Object(ai.b)(this,void 0,void 0,(function(){var n,r=this;return Object(ai.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof hp?(this.sharedClientState.syncEngine={ui:Bg.bind(null,n),ai:Kg.bind(null,n),hi:Wg.bind(null,n),fn:Qg.bind(null,n),ci:qg.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return Object(ai.b)(r,void 0,void 0,(function(){return Object(ai.d)(this,(function(e){switch(e.label){case 0:return[4,Hg(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=vp();if(!hp.yt(e))throw new Ou(_u.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Td(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new hp(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Yg),tm=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(ai.b)(this,void 0,void 0,(function(){var n=this;return Object(ai.d)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Tg(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Vg.bind(null,this.syncEngine),[4,Jp(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new og},t.prototype.createDatastore=function(t){var e=wp(t.databaseInfo.databaseId),n=new yp(t.databaseInfo);return function(t,e,n){return new Tp(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Tg(s.syncEngine,t,0)},o=pp.yt()?new pp:new dp,new Ip(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new bg(t,e,n,r,i,o);return s&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(ai.b)(this,void 0,void 0,(function(){var e;return Object(ai.d)(this,(function(n){switch(n.label){case 0:return e=ju(t),Tu("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Ap(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),em=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),nm=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new hf,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(ai.b)(this,void 0,void 0,(function(){return Object(ai.d)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return Object(ai.b)(this,void 0,void 0,(function(){return Object(ai.d)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return Object(ai.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object(ai.d)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new fg(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return Object(ai.b)(this,void 0,void 0,(function(){var t,e;return Object(ai.d)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return Object(ai.b)(this,void 0,void 0,(function(){var e;return Object(ai.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(ai.b)(this,void 0,void 0,(function(){var t,e;return Object(ai.d)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(ai.b)(this,void 0,void 0,(function(){var e,n=this;return Object(ai.d)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ou(_u.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(ai.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Object(ai.d)(this,(function(u){switch(u.label){case 0:return n=ju(t),r=Oh(n.R)+"/documents",i={documents:e.map((function(t){return vh(n.R,t)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){ku(!!e.found);var n=bh(t,e.found.name),r=gh(e.found.updateTime),i=new mc({mapValue:{fields:e.found.fields}});return vc.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){ku(!!e.missing),ku(!!e.readTime);var n=bh(t,e.missing),r=gh(e.readTime);return vc.newNoDocument(n,r)}(t,e):Au()}(n.R,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());ku(!!e),a.push(e)})),a)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Dl(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(ai.b)(this,void 0,void 0,(function(){var t,e=this;return Object(ai.d)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=rc.fromPath(n);e.mutations.push(new Pl(r,e.precondition(r)))})),[4,function(t,e){return Object(ai.b)(this,void 0,void 0,(function(){var n,r,i;return Object(ai.d)(this,(function(o){switch(o.label){case 0:return n=ju(t),r=Oh(n.R)+"/documents",i={writes:e.map((function(t){return Ch(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Au();e=Vu.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ou(_u.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?bl.updateTime(e):bl.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Vu.min()))throw new Ou(_u.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bl.updateTime(e)}return bl.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),rm=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new _p(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return Object(ai.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(ai.d)(this,(function(r){return t=new nm(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!tc(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ml(e)}return!1},t}(),im=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=np.UNAUTHENTICATED,this.clientId=Nu.u(),this.credentialListener=function(){},this.receivedInitialUser=new hf,this.credentials.setChangeListener((function(t){Tu("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()}))}return t.prototype.getConfiguration=function(){return Object(ai.b)(this,void 0,void 0,(function(){return Object(ai.d)(this,(function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then((function(){return e.credentialListener(e.user)}))},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ou(_u.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new hf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Object(ai.b)(t,void 0,void 0,(function(){var t,n;return Object(ai.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=tg(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function om(t,e){return Object(ai.b)(this,void 0,void 0,(function(){var n,r,i=this;return Object(ai.d)(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Tu("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable((function(){return Object(ai.b)(i,void 0,void 0,(function(){return Object(ai.d)(this,(function(t){switch(t.label){case 0:return[4,Rd(e.localStore,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function sm(t,e){return Object(ai.b)(this,void 0,void 0,(function(){var n,r;return Object(ai.d)(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,am(t)];case 1:return n=i.sent(),Tu("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(n){return t.asyncQueue.enqueueRetryable((function(){return function(t,e){return Object(ai.b)(this,void 0,void 0,(function(){var n,r;return Object(ai.d)(this,(function(i){switch(i.label){case 0:return(n=ju(t)).asyncQueue.verifyOperationInProgress(),Tu("RemoteStore","RemoteStore received new credentials"),r=Lp(n),n.$r.add(3),[4,Ap(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,xp(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,n)}))})),t.onlineComponents=e,[2]}}))}))}function am(t){return Object(ai.b)(this,void 0,void 0,(function(){return Object(ai.d)(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Tu("FirestoreClient","Using default OfflineComponentProvider"),[4,om(t,new Xg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function um(t){return Object(ai.b)(this,void 0,void 0,(function(){return Object(ai.d)(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Tu("FirestoreClient","Using default OnlineComponentProvider"),[4,sm(t,new tm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function cm(t){return am(t).then((function(t){return t.persistence}))}function lm(t){return am(t).then((function(t){return t.localStore}))}function hm(t){return um(t).then((function(t){return t.remoteStore}))}function fm(t){return um(t).then((function(t){return t.syncEngine}))}function dm(t){return Object(ai.b)(this,void 0,void 0,(function(){var e,n;return Object(ai.d)(this,(function(r){switch(r.label){case 0:return[4,um(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=wg.bind(null,e.syncEngine),n.onUnlisten=Og.bind(null,e.syncEngine),n)]}}))}))}function pm(t,e,n){var r=this;void 0===n&&(n={});var i=new hf;return t.asyncQueue.enqueueAndForget((function(){return Object(ai.b)(r,void 0,void 0,(function(){var r;return Object(ai.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new em({next:function(o){e.enqueueAndForget((function(){return ag(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Ou(_u.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Ou(_u.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new hg(qc(n.path),o,{includeMetadataChanges:!0,so:!0});return sg(t,s)},[4,dm(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function gm(t,e,n){var r=this;void 0===n&&(n={});var i=new hf;return t.asyncQueue.enqueueAndForget((function(){return Object(ai.b)(r,void 0,void 0,(function(){var r;return Object(ai.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new em({next:function(n){e.enqueueAndForget((function(){return ag(t,s)})),n.fromCache&&"server"===r.source?i.reject(new Ou(_u.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new hg(n,o,{includeMetadataChanges:!0,so:!0});return sg(t,s)},[4,dm(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var mm=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},ym=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),vm=new Map,bm=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},wm=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(np.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),_m=function(){function t(t){var e=this;this.oc=null,this.currentUser=np.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then((function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(Tu("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(ku("string"==typeof n.accessToken),new bm(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return ku(null===t||"string"==typeof t),new np(t)},t}(),Om=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=np.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),Em=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new Om(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(np.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Sm(t,e,n){if(!n)throw new Ou(_u.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Tm(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ou(_u.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Cm(t,e,n,r){if(!0===e&&!0===r)throw new Ou(_u.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Im(t){if(!rc.isDocumentKey(t))throw new Ou(_u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function xm(t){if(rc.isDocumentKey(t))throw new Ou(_u.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Am(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Au()}function km(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ou(_u.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Am(t);throw new Ou(_u.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function jm(t,e){if(e<=0)throw new Ou(_u.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Rm=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ou(_u.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ou(_u.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Cm("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Nm=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new Rm({}),this._settingsFrozen=!1,t instanceof ym?(this._databaseId=t,this._credentials=new wm):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ou(_u.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ym(t.options.projectId)}(t),this._credentials=new _m(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Ou(_u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Ou(_u.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rm(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new wm;switch(t.type){case"gapi":var e=t.client;return ku(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Em(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ou(_u.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=vm.get(this))&&(Tu("ComponentProvider","Removing Datastore"),vm.delete(this),t.terminate()),Promise.resolve();var t},t}(),Dm=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Lm(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Pm=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Lm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,qc(r))||this)._path=r,i.type="collection",i}return Object(ai.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Dm(this.firestore,null,new rc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Pm);function Mm(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(vi.h)(t),Sm("collection","path",e),t instanceof Nm)return xm(n=Hu.fromString.apply(Hu,Object(ai.f)([e],r))),new Lm(t,null,n);if(!(t instanceof Dm||t instanceof Lm))throw new Ou(_u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return xm(n=Hu.fromString.apply(Hu,Object(ai.f)([t.path],r)).child(Hu.fromString(e))),new Lm(t.firestore,null,n)}function Vm(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(vi.h)(t),1===arguments.length&&(e=Nu.u()),Sm("doc","path",e),t instanceof Nm)return Im(n=Hu.fromString.apply(Hu,Object(ai.f)([e],r))),new Dm(t,null,new rc(n));if(!(t instanceof Dm||t instanceof Lm))throw new Ou(_u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Im(n=t._path.child(Hu.fromString.apply(Hu,Object(ai.f)([e],r)))),new Dm(t.firestore,t instanceof Lm?t._converter:null,new rc(n))}function Fm(t,e){return t=Object(vi.h)(t),e=Object(vi.h)(e),(t instanceof Dm||t instanceof Lm)&&(e instanceof Dm||e instanceof Lm)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function Um(t,e){return t=Object(vi.h)(t),e=Object(vi.h)(e),t instanceof Pm&&e instanceof Pm&&t.firestore===e.firestore&&Jc(t._query,e._query)&&t._converter===e._converter}var qm=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new _p(this,"async_queue_retry"),this.Ec=function(){var e=bp();e&&Tu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=bp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=bp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise((function(t){})):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.dc.push(t),e.Ac()}))},t.prototype.Ac=function(){return Object(ai.b)(this,void 0,void 0,(function(){var t,e=this;return Object(ai.d)(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!yf(t=n.sent()))throw t;return Tu("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji((function(){return e.Ac()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ic=function(t){var e=this,n=this.fc.then((function(){return e.yc=!0,t().catch((function(t){throw e.mc=t,e.yc=!1,Cu("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.yc=!1,t}))}));return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=Zp.createAndSchedule(this,t,e,n,(function(t){return r.Rc(t)}));return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&Au()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Object(ai.b)(this,void 0,void 0,(function(){var t;return Object(ai.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then((function(){e._c.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()}))},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function Bm(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new hf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Hm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new qm,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(ai.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Gm(this),this._firestoreClient.terminate()},e}(Nm);function zm(t){return t._firestoreClient||Gm(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Gm(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new mm(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new im(t._credentials,t._queue,r)}function Qm(t,e,n){var r=this,i=new hf;return t.asyncQueue.enqueue((function(){return Object(ai.b)(r,void 0,void 0,(function(){var r;return Object(ai.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,om(t,n)];case 1:return o.sent(),[4,sm(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===_u.FAILED_PRECONDITION||t.code===_u.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Km(t){if(t._initialized||t._terminated)throw new Ou(_u.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Wm=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Ou(_u.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gu(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),$m=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Ku.fromBase64String(e))}catch(e){throw new Ou(_u.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Ku.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Jm=function(t){this._methodName=t},Xm=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ou(_u.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ou(_u.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Du(this._lat,t._lat)||Du(this._long,t._long)},t}(),Ym=/^__.*__$/,Zm=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new xl(t,this.data,this.fieldMask,e,this.fieldTransforms):new Il(t,this.data,e,this.fieldTransforms)},t}(),ty=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new xl(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function ey(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Au()}}var ny=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return Oy(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(ey(this.Dc)&&Ym.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),ry=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||wp(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new ny({Dc:t,methodName:e,Lc:n,path:Gu.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function iy(t){var e=t._freezeSettings(),n=wp(t._databaseId);return new ry(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oy(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);vy("Data must be an object, but it was:",s,r);var a,u,c=my(r,s);if(o.merge)a=new Qu(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=by(e,f[h],n);if(!s.contains(d))throw new Ou(_u.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Ey(l,d)||l.push(d)}a=new Qu(l),u=s.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,u=s.fieldTransforms;return new Zm(new mc(c),a,u)}var sy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ai.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Jm);function ay(t,e,n){return new ny({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var uy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ai.c)(e,t),e.prototype._toFieldTransform=function(t){return new yl(t.path,new cl)},e.prototype.isEqual=function(t){return t instanceof e},e}(Jm),cy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(ai.c)(e,t),e.prototype._toFieldTransform=function(t){var e=ay(this,t,!0),n=this.qc.map((function(t){return gy(t,e)})),r=new ll(n);return new yl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Jm),ly=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(ai.c)(e,t),e.prototype._toFieldTransform=function(t){var e=ay(this,t,!0),n=this.qc.map((function(t){return gy(t,e)})),r=new fl(n);return new yl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Jm),hy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(ai.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new pl(t.R,il(t.R,this.Uc));return new yl(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Jm);function fy(t,e,n,r){var i=t.Bc(1,e,n);vy("Data must be an object, but it was:",i,r);var o=[],s=mc.empty();Uu(r,(function(t,r){var a=_y(e,t,n);r=Object(vi.h)(r);var u=i.kc(a);if(r instanceof sy)o.push(a);else{var c=gy(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Qu(o);return new ty(s,a,i.fieldTransforms)}function dy(t,e,n,r,i,o){var s=t.Bc(1,e,n),a=[by(e,r,n)],u=[i];if(o.length%2!=0)throw new Ou(_u.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(by(e,o[c])),u.push(o[c+1]);for(var l=[],h=mc.empty(),f=a.length-1;f>=0;--f)if(!Ey(l,a[f])){var d=a[f],p=u[f];p=Object(vi.h)(p);var g=s.kc(d);if(p instanceof sy)l.push(d);else{var m=gy(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new Qu(l);return new ty(h,y,s.fieldTransforms)}function py(t,e,n,r){return void 0===r&&(r=!1),gy(n,t.Bc(r?4:3,e))}function gy(t,e){if(yy(t=Object(vi.h)(t)))return vy("Unsupported field value:",e,t),my(t,e);if(t instanceof Jm)return function(t,e){if(!ey(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=gy(o[i],e.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(vi.h)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return il(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Mu.fromDate(t);return{timestampValue:fh(e.R,n)}}if(t instanceof Mu)return n=new Mu(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:fh(e.R,n)};if(t instanceof Xm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof $m)return{bytesValue:dh(e.R,t._byteString)};if(t instanceof Dm){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:mh(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+Am(t))}(t,e)}function my(t,e){var n={};return qu(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uu(t,(function(t,r){var i=gy(r,e.Nc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function yy(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Mu||t instanceof Xm||t instanceof $m||t instanceof Dm||t instanceof Jm)}function vy(t,e,n){if(!yy(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Am(n);throw e.$c("an object"===r?t+" a custom object":t+" "+r)}}function by(t,e,n){if((e=Object(vi.h)(e))instanceof Wm)return e._internalPath;if("string"==typeof e)return _y(t,e);throw Oy("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var wy=new RegExp("[~\\*/\\[\\]]");function _y(t,e,n){if(e.search(wy)>=0)throw Oy("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Wm.bind.apply(Wm,Object(ai.f)([void 0],e.split(".")))))._internalPath}catch(r){throw Oy("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Oy(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Ou(_u.INVALID_ARGUMENT,(a+=". ")+t+u)}function Ey(t,e){return t.some((function(t){return t.isEqual(e)}))}var Sy=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Dm(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Ty(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Cy("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Ty=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ai.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Sy);function Cy(t,e){return"string"==typeof e?_y(t,e):e instanceof Wm?e._internalPath:e._delegate._internalPath}var Iy=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),xy=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(ai.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Ay(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Cy("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Sy),Ay=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ai.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(xy),ky=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Iy(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new Ay(n._firestore,n._userDataWriter,r.key,r,new Iy(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ou(_u.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new Ay(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Iy(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Ay(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Iy(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:jy(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function jy(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Au()}}function Ry(t,e){return t instanceof xy&&e instanceof xy?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ky&&e instanceof ky&&t._firestore===e._firestore&&Um(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Ny(t){if(Hc(t)&&0===t.explicitOrderBy.length)throw new Ou(_u.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Dy=function(){};function Py(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Ly=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return Object(ai.c)(e,t),e.prototype._apply=function(t){var e=iy(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Ou(_u.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Hy(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(By(r,t,l[c]));a={arrayValue:{values:u}}}else a=By(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Hy(s,o),a=py(n,"where",s,"in"===o||"not-in"===o);var h=Sc.create(i,o,a);return function(t,e){if(e.g()){var n=Gc(t);if(null!==n&&!n.isEqual(e.field))throw new Ou(_u.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=zc(t);null!==r&&zy(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Ou(_u.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Pm(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new Fc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Dy),My=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return Object(ai.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Ou(_u.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ou(_u.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Pc(e,n);return function(t,e){if(null===zc(t)){var n=Gc(t);null!==n&&zy(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new Pm(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Fc(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Dy),Vy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return Object(ai.c)(e,t),e.prototype._apply=function(t){return new Pm(t.firestore,t._converter,$c(t._query,this.Gc,this.zc))},e}(Dy),Fy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(ai.c)(e,t),e.prototype._apply=function(t){var e=qy(t,this.type,this.Hc,this.Jc);return new Pm(t.firestore,t._converter,function(t,e){return new Fc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Dy),Uy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(ai.c)(e,t),e.prototype._apply=function(t){var e=qy(t,this.type,this.Hc,this.Jc);return new Pm(t.firestore,t._converter,function(t,e){return new Fc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Dy);function qy(t,e,n,r){if(n[0]=Object(vi.h)(n[0]),n[0]instanceof Sy)return function(t,e,n,r,i){if(!r)throw new Ou(_u.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Kc(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(lc(e,r.key));else{var c=r.data.field(u.field);if(Yu(c))throw new Ou(_u.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Ou(_u.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Nc(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=iy(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Ou(_u.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Ou(_u.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Qc(t)&&-1!==c.indexOf("/"))throw new Ou(_u.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Hu.fromString(c));if(!rc.isDocumentKey(l))throw new Ou(_u.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new rc(l);a.push(lc(e,h))}else{var f=py(n,r,c);a.push(f)}}return new Nc(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function By(t,e,n){if("string"==typeof(n=Object(vi.h)(n))){if(""===n)throw new Ou(_u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qc(e)&&-1!==n.indexOf("/"))throw new Ou(_u.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Hu.fromString(n));if(!rc.isDocumentKey(r))throw new Ou(_u.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return lc(t,new rc(r))}if(n instanceof Dm)return lc(t,n._key);throw new Ou(_u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Am(n)+".")}function Hy(t,e){if(!Array.isArray(t)||0===t.length)throw new Ou(_u.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Ou(_u.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function zy(t,e,n){if(!n.isEqual(e))throw new Ou(_u.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Gy=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),ic(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ju(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Xu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Au()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Uu(t.fields||{},(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new Xm(Ju(t.latitude),Ju(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return Yu(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Zu(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=$u(t);return new Mu(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Hu.fromString(t);ku(Uh(n));var r=new ym(n.get(1),n.get(3)),i=new rc(n.popFirst(5));return r.isEqual(e)||Cu("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Qy(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Ky=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ai.c)(e,t),e.prototype.convertBytes=function(t){return new $m(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Dm(this.firestore,null,e)},e}(Gy),Wy=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=iy(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=$y(t,this._firestore),i=Qy(r._converter,e,n),o=oy(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,bl.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=$y(t,this._firestore);return o="string"==typeof(e=Object(vi.h)(e))||e instanceof Wm?dy(this._dataReader,"WriteBatch.update",s._key,e,n,r):fy(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,bl.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=$y(t,this._firestore);return this._mutations=this._mutations.concat(new Dl(e._key,bl.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ou(_u.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function $y(t,e){if((t=Object(vi.h)(t)).firestore!==e)throw new Ou(_u.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Jy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ai.c)(e,t),e.prototype.convertBytes=function(t){return new $m(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Dm(this.firestore,null,e)},e}(Gy);function Xy(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=km(t,Dm);var o=km(t.firestore,Hm),s=iy(o);return Zy(o,[("string"==typeof(e=Object(vi.h)(e))||e instanceof Wm?dy(s,"updateDoc",t._key,e,n,r):fy(s,"updateDoc",t._key,e)).toMutation(t._key,bl.exists(!0))])}function Yy(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(vi.h)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Bm(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Bm(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Dm)c=km(t.firestore,Hm),l=qc(t._key.path),u={next:function(e){i[a]&&i[a](tv(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=km(t,Pm);c=km(d.firestore,Hm),l=d._query;var p=new Jy(c);u={next:function(t){i[a]&&i[a](new ky(c,p,d,t))},error:i[a+1],complete:i[a+2]},Ny(t._query)}return function(t,e,n,r){var i=this,o=new em(r),s=new hg(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return Object(ai.b)(i,void 0,void 0,(function(){var e;return Object(ai.d)(this,(function(n){switch(n.label){case 0:return e=sg,[4,dm(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return Object(ai.b)(i,void 0,void 0,(function(){var e;return Object(ai.d)(this,(function(n){switch(n.label){case 0:return e=ag,[4,dm(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(zm(c),l,h,u)}function Zy(t,e){return function(t,e){var n=this,r=new hf;return t.asyncQueue.enqueueAndForget((function(){return Object(ai.b)(n,void 0,void 0,(function(){var n;return Object(ai.d)(this,(function(i){switch(i.label){case 0:return n=Eg,[4,fm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(zm(t),e)}function tv(t,e,n){var r=n.docs.get(e._key),i=new Jy(t);return new xy(t,i,e._key,r,new Iy(n.hasPendingWrites,n.fromCache),e._converter)}var ev=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(ai.c)(e,t),e.prototype.get=function(e){var n=this,r=$y(e,this._firestore),i=new Jy(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new xy(n._firestore,i,r._key,t._document,new Iy(!1,!1),r._converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=iy(t)}return t.prototype.get=function(t){var e=this,n=$y(t,this._firestore),r=new Ky(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Au();var i=t[0];if(i.isFoundDocument())return new Sy(e._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new Sy(e._firestore,r,n._key,null,n._converter);throw Au()}))},t.prototype.set=function(t,e,n){var r=$y(t,this._firestore),i=Qy(r._converter,e,n),o=oy(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=$y(t,this._firestore);return o="string"==typeof(e=Object(vi.h)(e))||e instanceof Wm?dy(this._dataReader,"Transaction.update",s._key,e,n,r):fy(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=$y(t,this._firestore);return this._transaction.delete(e._key),this},t}());function nv(){if("undefined"==typeof Uint8Array)throw new Ou(_u.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function rv(){if("undefined"==typeof atob)throw new Ou(_u.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var iv=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return rv(),new t($m.fromBase64String(e))},t.fromUint8Array=function(e){return nv(),new t($m.fromUint8Array(e))},t.prototype.toBase64=function(){return rv(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return nv(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),ov=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Km(t=km(t,Hm));var n=zm(t),r=t._freezeSettings(),i=new tm;return Qm(n,i,new Yg(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Km(t=km(t,Hm));var e=zm(t),n=t._freezeSettings(),r=new tm;return Qm(e,r,new Zg(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Ou(_u.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new hf;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Object(ai.b)(e,void 0,void 0,(function(){var e;return Object(ai.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(ai.b)(this,void 0,void 0,(function(){return Object(ai.d)(this,(function(e){switch(e.label){case 0:return pf.yt()?[4,pf.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Td(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),sv=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof ym||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=km(t,Nm))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&Iu("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Object(ai.b)(e,void 0,void 0,(function(){var e,n;return Object(ai.d)(this,(function(r){switch(r.label){case 0:return[4,cm(t)];case 1:return e=r.sent(),[4,hm(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=ju(t);return e.$r.delete(0),xp(e)}(n))]}}))}))}))}(zm(km(this._delegate,Hm)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Object(ai.b)(e,void 0,void 0,(function(){var e,n;return Object(ai.d)(this,(function(r){switch(r.label){case 0:return[4,cm(t)];case 1:return e=r.sent(),[4,hm(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(ai.b)(this,void 0,void 0,(function(){var e;return Object(ai.d)(this,(function(n){switch(n.label){case 0:return(e=ju(t)).$r.add(0),[4,Ap(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(zm(km(this._delegate,Hm)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Cm("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new hf;return t.asyncQueue.enqueueAndForget((function(){return Object(ai.b)(e,void 0,void 0,(function(){var e;return Object(ai.d)(this,(function(r){switch(r.label){case 0:return e=Ag,[4,fm(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(zm(km(this._delegate,Hm)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new em(e);return t.asyncQueue.enqueueAndForget((function(){return Object(ai.b)(n,void 0,void 0,(function(){var e;return Object(ai.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){ju(t).Gr.add(e),e.next()},[4,dm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return Object(ai.b)(n,void 0,void 0,(function(){var e;return Object(ai.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){ju(t).Gr.delete(e)},[4,dm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(zm(t=km(t,Hm)),Bm(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new Ou(_u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new wv(this,Mm(this._delegate,t))}catch(t){throw fv(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new hv(this,Vm(this._delegate,t))}catch(t){throw fv(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new yv(this,function(t,e){if(t=km(t,Nm),Sm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ou(_u.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Pm(t,null,function(t){return new Fc(Hu.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw fv(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new hf;return t.asyncQueue.enqueueAndForget((function(){return Object(ai.b)(n,void 0,void 0,(function(){var n;return Object(ai.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return um(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new rm(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(zm(t),(function(n){return e(new ev(t,n))}))}(this._delegate,(function(n){return t(new uv(e,n))}))},t.prototype.batch=function(){var t=this;return zm(this._delegate),new cv(new Wy(this._delegate,(function(e){return Zy(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new Ou(_u.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Ou(_u.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),av=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ai.c)(e,t),e.prototype.convertBytes=function(t){return new iv(new $m(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return hv.Zc(e,this.firestore,null)},e}(Gy),uv=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new av(t)}return t.prototype.get=function(t){var e=this,n=_v(t);return this._delegate.get(n).then((function(t){return new gv(e._firestore,new xy(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))}))},t.prototype.set=function(t,e,n){var r=_v(t);return n?(Tm("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=_v(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(ai.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=_v(t);return this._delegate.delete(e),this},t}(),cv=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=_v(t);return n?(Tm("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=_v(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(ai.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=_v(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),lv=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Ay(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new mv(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new av(e),n),i.set(n,o)),o},t}();lv.eu=new WeakMap;var hv=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new av(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new Ou(_u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Dm(n._delegate,r,new rc(e)))},t.Zc=function(e,n,r){return new t(n,new Dm(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new wv(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new wv(this.firestore,Mm(this._delegate,t))}catch(t){throw fv(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(vi.h)(t))instanceof Dm&&Fm(this._delegate,t)},t.prototype.set=function(t,e){e=Tm("DocumentReference.set",e);try{return function(t,e,n){t=km(t,Dm);var r=km(t.firestore,Hm),i=Qy(t._converter,e,n);return Zy(r,[oy(iy(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,bl.none())])}(this._delegate,t,e)}catch(t){throw fv(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Xy(this._delegate,t):Xy.apply(void 0,Object(ai.f)([this._delegate,t,e],n))}catch(t){throw fv(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Zy(km((t=this._delegate).firestore,Hm),[new Dl(t._key,bl.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=dv(e),i=pv(e,(function(e){return new gv(t.firestore,new xy(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))}));return Yy(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=km(t,Dm);var e=km(t.firestore,Hm),n=zm(e),r=new Jy(e);return function(t,e){var n=this,r=new hf;return t.asyncQueue.enqueueAndForget((function(){return Object(ai.b)(n,void 0,void 0,(function(){var n;return Object(ai.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(ai.b)(this,void 0,void 0,(function(){var r,i;return Object(ai.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=ju(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Ou(_u.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=tg(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,lm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new xy(e,r,t._key,n,new Iy(null!==n&&n.hasLocalMutations,!0),t._converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=km(t,Dm);var e=km(t.firestore,Hm);return pm(zm(e),t._key,{source:"server"}).then((function(n){return tv(e,t,n)}))}(this._delegate):function(t){t=km(t,Dm);var e=km(t.firestore,Hm);return pm(zm(e),t._key).then((function(n){return tv(e,t,n)}))}(this._delegate)).then((function(t){return new gv(e.firestore,new xy(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?lv.tu(this.firestore,e):null))},t}();function fv(t,e,n){return t.message=t.message.replace(e,n),t}function dv(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Bm(r))return r}return{}}function pv(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Bm(t[0])?t[0]:Bm(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var gv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new hv(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Ry(this._delegate,t._delegate)},t}(),mv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ai.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(gv),yv=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new av(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Py(this._delegate,function(t,e,n){var r=e,i=Cy("where",t);return new Ly(i,r,n)}(e,n,r)))}catch(e){throw fv(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Py(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Cy("orderBy",t);return new My(r,n)}(e,n)))}catch(e){throw fv(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Py(this._delegate,function(t){return jm("limit",t),new Vy("limit",t,"F")}(e)))}catch(e){throw fv(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Py(this._delegate,function(t){return jm("limitToLast",t),new Vy("limitToLast",t,"L")}(e)))}catch(e){throw fv(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Py(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fy("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw fv(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Py(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fy("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw fv(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Py(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Uy("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw fv(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Py(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Uy("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw fv(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Um(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=km(t,Pm);var e=km(t.firestore,Hm),n=zm(e),r=new Jy(e);return function(t,e){var n=this,r=new hf;return t.asyncQueue.enqueueAndForget((function(){return Object(ai.b)(n,void 0,void 0,(function(){var n;return Object(ai.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(ai.b)(this,void 0,void 0,(function(){var r,i,o,s,a;return Object(ai.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Ud(t,e,!0)];case 1:return a=u.sent(),r=new mg(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=tg(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,lm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new ky(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=km(t,Pm);var e=km(t.firestore,Hm),n=zm(e),r=new Jy(e);return gm(n,t._query,{source:"server"}).then((function(n){return new ky(e,r,t,n)}))}(this._delegate):function(t){t=km(t,Pm);var e=km(t.firestore,Hm),n=zm(e),r=new Jy(e);return Ny(t._query),gm(n,t._query).then((function(n){return new ky(e,r,t,n)}))}(this._delegate)).then((function(t){return new bv(e.firestore,new ky(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=dv(e),i=pv(e,(function(e){return new bv(t.firestore,new ky(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return Yy(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?lv.tu(this.firestore,e):null))},t}(),vv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new mv(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),bv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new yv(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new mv(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new vv(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new mv(n._firestore,r))}))},t.prototype.isEqual=function(t){return Ry(this._delegate,t._delegate)},t}(),wv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(ai.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new hv(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new hv(this.firestore,void 0===t?Vm(this._delegate):Vm(this._delegate,t))}catch(t){throw fv(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=km(t.firestore,Hm),r=Vm(t),i=Qy(t._converter,e);return Zy(n,[oy(iy(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,bl.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new hv(e.firestore,t)}))},e.prototype.isEqual=function(t){return Fm(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?lv.tu(this.firestore,t):null))},e}(yv);function _v(t){return km(t,Dm)}var Ov,Ev=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Wm.bind.apply(Wm,Object(ai.f)([void 0],t)))}return t.documentId=function(){return new t(Gu.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(vi.h)(t))instanceof Wm&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Sv=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new uy("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new sy("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new cy("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ly("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new hy("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Tv=n("/6Yf"),Cv={Firestore:sv,GeoPoint:Xm,Timestamp:Mu,Blob:iv,Transaction:uv,WriteBatch:cv,DocumentReference:hv,DocumentSnapshot:gv,Query:yv,QueryDocumentSnapshot:mv,QuerySnapshot:bv,CollectionReference:wv,FieldPath:Ev,FieldValue:Sv,setLogLevel:function(t){Eu.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Tv.a("firestore",(function(t){return function(t,e){return new sv(t,new Hm(t,e),new ov)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Cv)))})(Ov=yi.a),Ov.registerVersion("@firebase/firestore","2.2.5"),n("VRyK"),n("qgXg"),n("Ylt2"),n("tf+s");const Iv=new r.q("angularfire2.auth.use-emulator");function xv(t,e){return function(t,e=ui.b){return new Tt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Av(t,e){return xv(t,e).pipe(Object(Dt.a)(t=>({payload:t,type:"query"})))}function kv(t,e){return Av(t,e).pipe(se(void 0),ci(),Object(Dt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function jv(t,e,n){return kv(t,n).pipe(ae((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Rv(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Rv(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Rv(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new fi(void 0,void 0)),Object(Dt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Rv(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Nv(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Dv{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=kv(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Dt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(se(void 0),ci(),Mt(([t,e])=>e.length>0||!t),Object(Dt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ae((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Nv(t);return jv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Av(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Dt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(gt.a)(this.query.get(t)).pipe(Object(pi.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Pv(this.ref.doc(t),this.afs)}}class Pv{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=qv(n,e);return new Dv(r,i,this.afs)}snapshotChanges(){return xv(this.ref,this.afs.schedulers.outsideAngular).pipe(se(void 0),ci(),Object(Dt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Dt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(gt.a)(this.ref.get(t)).pipe(Object(pi.b)(this.afs.schedulers.insideAngular))}}class Lv{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?kv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Dt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Mt(t=>t.length>0),this.afs.keepUnstableUntilFirst):kv(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ae((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Nv(t);return jv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Av(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Dt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(gt.a)(this.query.get(t)).pipe(Object(pi.b)(this.afs.schedulers.insideAngular))}}const Mv=new r.q("angularfire2.enableFirestorePersistence"),Vv=new r.q("angularfire2.firestore.persistenceSettings"),Fv=new r.q("angularfire2.firestore.settings"),Uv=new r.q("angularfire2.firestore.use-emulator");function qv(t,e=(t=>t)){return{query:e(t),ref:t}}let Bv=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new gi.d(o),this.keepUnstableUntilFirst=Object(gi.h)(this.schedulers);const c=Object(gi.g)(t,o,e);!mi.a.auth&&u&&Object(gi.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(gi.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!function(t){return"server"===t}(i)){const e=()=>{try{return Object(gt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(Ov){return"undefined"!=typeof console&&console.warn(Ov),Object(pt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(pt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=qv(n,e),o=this.schedulers.ngZone.run(()=>r);return new Dv(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Lv(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Pv(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(gi.c),r.Qb(gi.b,8),r.Qb(Mv,8),r.Qb(Fv,8),r.Qb(r.B),r.Qb(r.z),r.Qb(Vv,8),r.Qb(Uv,8),r.Qb(Iv,8))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Qb)(gi.c),Object(r.Qb)(gi.b,8),Object(r.Qb)(Mv,8),Object(r.Qb)(Fv,8),Object(r.Qb)(r.B),Object(r.Qb)(r.z),Object(r.Qb)(Vv,8),Object(r.Qb)(Uv,8),Object(r.Qb)(Iv,8))},token:t,providedIn:"any"}),t})(),Hv=(()=>{class t{constructor(t){this.AngularFirestore=t}getDoc(t){return this.AngularFirestore.collection(t).valueChanges()}setDoc(t,e){return this.AngularFirestore.collection(t).add(e)}getList(t){return new Promise((e,n)=>{this.AngularFirestore.collection(t).valueChanges().subscribe(t=>e(t),n)})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Bv))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function zv(t,e){if(1&t){const t=r.Nb();r.Mb(0,"div",6),r.Mb(1,"button",7),r.Tb("click",(function(){r.Yb(t);const e=r.Vb().$implicit;return r.Vb().seleccion(e.id)})),r.cc(2,"Detalle"),r.Lb(),r.Lb()}}function Gv(t,e){if(1&t&&(r.Mb(0,"div",1),r.Mb(1,"div",2),r.Mb(2,"div",3),r.cc(3),r.Lb(),r.Mb(4,"div",4),r.cc(5),r.Lb(),r.Mb(6,"div"),r.cc(7),r.Lb(),r.bc(8,zv,3,0,"div",5),r.Lb(),r.Lb()),2&t){const t=e.$implicit,n=r.Vb();r.yb(3),r.ec(" ",t.id," "),r.yb(2),r.ec(" ",t.nombre," "),r.yb(1),r.Ab(n.flag?"col-3":"col-6"),r.yb(1),r.ec(" ",t.fecha," "),r.yb(1),r.Wb("ngIf",n.flag)}}let Qv=(()=>{class t{constructor(){this.flag=!1,this.select=new r.n}ngOnInit(){}seleccion(t){this.select.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-tabla-pelicula"]],inputs:{pelicula:"pelicula",flag:"flag"},outputs:{select:"select"},decls:1,vars:1,consts:[["class","container",4,"ngFor","ngForOf"],[1,"container"],[1,"row",2,"padding","0.5em"],[1,"col-1"],[1,"col-4"],["class","col-3-sm",4,"ngIf"],[1,"col-3-sm"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,e){1&t&&r.bc(0,Gv,9,6,"div",0),2&t&&r.Wb("ngForOf",e.pelicula)},directives:[k,R],styles:[""]}),t})();function Kv(t,e){if(1&t&&(r.Mb(0,"div",1),r.Kb(1,"img",2),r.Mb(2,"h5"),r.cc(3),r.Lb(),r.Mb(4,"h5"),r.cc(5),r.Lb(),r.Mb(6,"h5"),r.cc(7),r.Lb(),r.Mb(8,"h5"),r.cc(9),r.Lb(),r.Mb(10,"h5"),r.cc(11),r.Lb(),r.Mb(12,"h5"),r.cc(13),r.Lb(),r.Lb()),2&t){const t=r.Vb();r.yb(1),r.Wb("src",t.pelicula.imagen,r.Zb)("alt",t.pelicula.nombre),r.yb(2),r.ec("id: ",t.pelicula.id,""),r.yb(2),r.ec("Nombre: ",t.pelicula.nombre,""),r.yb(2),r.ec("Tipo: ",t.pelicula.fecha,""),r.yb(2),r.ec("Fecha de estreno: ",t.pelicula.fechaEstreno,""),r.yb(2),r.ec("Cantidad de publico: ",t.pelicula.publico,""),r.yb(2),r.dc(t.pelicula.descripcion)}}let Wv=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-detalle-pelicula"]],inputs:{pelicula:"pelicula"},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[3,"src","alt"]],template:function(t,e){1&t&&r.bc(0,Kv,14,8,"div",0),2&t&&r.Wb("ngIf",null!=e.pelicula)},directives:[R],styles:["img[_ngcontent-%COMP%]{width:300px;height:auto;padding-bottom:10px}"]}),t})(),$v=(()=>{class t{constructor(t){this.StoreService=t,this.peliculaSeleccionada=null}ngOnInit(){this.StoreService.getDoc("Peliculas").subscribe(t=>this.peliculas=t)}seleccionPelicula(t){return Object(ai.b)(this,void 0,void 0,(function*(){try{const e=yield this.StoreService.getList("Peliculas");this.peliculaSeleccionada=e.filter(e=>e.id==t)[0]}catch(e){console.log(e)}}))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Hv))},t.\u0275cmp=r.Db({type:t,selectors:[["app-busquedaspeliculas"]],decls:10,vars:2,consts:[["role","main"],[1,"container",2,"margin-top","100px"],[1,"row"],[1,"col-md-8"],["flag","true",3,"pelicula","select"],[1,"col-md-4"],[3,"pelicula","peliculaChange"]],template:function(t,e){1&t&&(r.Mb(0,"main",0),r.Mb(1,"div",1),r.Mb(2,"h1"),r.cc(3,"Listado de peliculas"),r.Lb(),r.Mb(4,"div",2),r.Mb(5,"div",3),r.Mb(6,"app-tabla-pelicula",4),r.Tb("select",(function(t){return e.seleccionPelicula(t)})),r.Lb(),r.Lb(),r.Mb(7,"div",5),r.Mb(8,"app-detalle-pelicula",6),r.Tb("peliculaChange",(function(t){return e.peliculaSeleccionada=t})),r.Lb(),r.Lb(),r.Lb(),r.Kb(9,"hr"),r.Lb(),r.Lb()),2&t&&(r.yb(6),r.Wb("pelicula",e.peliculas),r.yb(2),r.Wb("pelicula",e.peliculaSeleccionada))},directives:[Qv,Wv],styles:[""]}),t})();var Jv=n("XoHu");function Xv(t,e){return new Tt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(gt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Yv=new r.q("NgValueAccessor"),Zv={provide:Yv,useExisting:Object(r.T)(()=>tb),multi:!0};let tb=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Tb("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([Zv])]}),t})();const eb={provide:Yv,useExisting:Object(r.T)(()=>rb),multi:!0},nb=new r.q("CompositionEventMode");let rb=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l),r.Jb(nb,8))},t.\u0275dir=r.Eb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Tb("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.xb([eb])]}),t})(),ib=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t}),t})(),ob=(()=>{class t extends ib{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return sb(e||t)},t.\u0275dir=r.Eb({type:t,features:[r.vb]}),t})();const sb=r.Ob(ob);class ab extends ib{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){}get asyncValidator(){}}class ub{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let cb=(()=>{class t extends ub{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(ab,2))},t.\u0275dir=r.Eb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Bb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),lb=(()=>{class t extends ub{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(ob,2))},t.\u0275dir=r.Eb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Bb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();function hb(t){return null==t||0===t.length}function fb(t){return null!=t&&"number"==typeof t.length}const db=new r.q("NgValidators"),pb=new r.q("NgAsyncValidators"),gb=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class mb{static min(t){return e=>{if(hb(e.value)||hb(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(hb(e.value)||hb(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return hb(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return hb(t.value)||gb.test(t.value)?null:{email:!0}}static minLength(t){return e=>hb(e.value)||!fb(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>fb(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return mb.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(hb(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(yb);return 0==e.length?null:function(t){return bb(wb(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(yb);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(wt.a)(e))return Xv(e,null);if(Object(Jv.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Xv(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Xv(t=1===t.length&&Object(wt.a)(t[0])?t[0]:t,null).pipe(Object(Dt.a)(t=>e(...t)))}return Xv(t,null)}(wb(t,e).map(vb)).pipe(Object(Dt.a)(bb))}}}function yb(t){return null!=t}function vb(t){const e=Object(r.qb)(t)?Object(gt.a)(t):t;return Object(r.pb)(e),e}function bb(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function wb(t,e){return e.map(e=>e(t))}function _b(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const Ob={provide:Yv,useExisting:Object(r.T)(()=>Eb),multi:!0};let Eb=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Tb("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([Ob])]}),t})();const Sb={provide:Yv,useExisting:Object(r.T)(()=>Cb),multi:!0};let Tb=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Cb=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(ab),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l),r.Jb(Tb),r.Jb(r.r))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Tb("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([Sb])]}),t})();const Ib={provide:Yv,useExisting:Object(r.T)(()=>xb),multi:!0};let xb=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Tb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([Ib])]}),t})();const Ab={provide:Yv,useExisting:Object(r.T)(()=>jb),multi:!0};function kb(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let jb=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=kb(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Tb("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.xb([Ab])]}),t})(),Rb=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(kb(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.l),r.Jb(r.D),r.Jb(jb,9))},t.\u0275dir=r.Eb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const Nb={provide:Yv,useExisting:Object(r.T)(()=>Pb),multi:!0};function Db(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Pb=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Tb("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.xb([Nb])]}),t})(),Lb=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Db(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Db(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.l),r.Jb(r.D),r.Jb(Pb,9))},t.\u0275dir=r.Eb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function Mb(t,e){t.validator=mb.compose([t.validator,e.validator]),t.asyncValidator=mb.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Vb(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Vb(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Vb(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Fb(t,e){t.validator=mb.compose([t.validator,e.validator]),t.asyncValidator=mb.composeAsync([t.asyncValidator,e.asyncValidator])}function Ub(t){return null!=t?mb.compose(_b(t)):null}function qb(t){return null!=t?mb.composeAsync(_b(t)):null}const Bb=[tb,xb,Eb,jb,Pb,Cb];function Hb(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function zb(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Gb="VALID",Qb="INVALID",Kb="PENDING",Wb="DISABLED";function $b(t){return(Zb(t)?t.validators:t)||null}function Jb(t){return Array.isArray(t)?Ub(t):t||null}function Xb(t,e){return(Zb(e)?e.asyncValidators:t)||null}function Yb(t){return Array.isArray(t)?qb(t):t||null}function Zb(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class tw{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Jb(this._rawValidators),this._composedAsyncValidatorFn=Yb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Gb}get invalid(){return this.status===Qb}get pending(){return this.status==Kb}get disabled(){return this.status===Wb}get enabled(){return this.status!==Wb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Jb(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Yb(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Kb,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Wb,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Gb,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Gb&&this.status!==Kb||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wb:Gb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Kb,this._hasOwnPendingAsyncValidator=!0;const e=vb(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof nw?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof rw&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?Wb:this.errors?Qb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kb)?Kb:this._anyControlsHaveStatus(Qb)?Qb:Gb}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Zb(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class ew extends tw{constructor(t=null,e,n){super($b(e),Xb(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class nw extends tw{constructor(t,e,n){super($b(e),Xb(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof ew?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class rw extends tw{constructor(t,e,n){super($b(e),Xb(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ew?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const iw={provide:ob,useExisting:Object(r.T)(()=>sw)},ow=(()=>Promise.resolve(null))();let sw=(()=>{class t extends ob{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new nw({},Ub(t),qb(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ow.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Mb(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ow.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),zb(this._directives,t)})}addFormGroup(t){ow.then(()=>{const e=this._findContainer(t.path),n=new nw({});Fb(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ow.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){ow.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Hb(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(db,10),r.Jb(pb,10))},t.\u0275dir=r.Eb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Tb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([iw]),r.vb]}),t})(),aw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const uw=new r.q("NgModelWithFormControlWarning"),cw={provide:ob,useExisting:Object(r.T)(()=>lw)};let lw=(()=>{class t extends ob{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Mb(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){zb(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);Fb(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Fb(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,Hb(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&Mb(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=Ub(this._validators);this.form.validator=mb.compose([this.form.validator,t]);const e=qb(this._asyncValidators);this.form.asyncValidator=mb.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(db,10),r.Jb(pb,10))},t.\u0275dir=r.Eb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Tb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([cw]),r.vb,r.wb]}),t})();const hw={provide:ab,useExisting:Object(r.T)(()=>fw)};let fw=(()=>{class t extends ab{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===rb?n=t:(e=t,Bb.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(e){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(e,this.viewModel)&&(function(t,e,n,i){Object(r.U)()&&"never"!==i&&((null!==i&&"once"!==i||e._ngModelWarningSentOnce)&&("always"!==i||n._ngModelWarningSent)||(e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}(0,t,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return t=null==this.name?this.name:this.name.toString(),[...this._parent.path,t];var t}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Ub(this._rawValidators)}get asyncValidator(){return qb(this._rawAsyncValidators)}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(ob,13),r.Jb(db,10),r.Jb(pb,10),r.Jb(Yv,10),r.Jb(uw,8))},t.\u0275dir=r.Eb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.xb([hw]),r.vb,r.wb]}),t._ngModelWarningSentOnce=!1,t})(),dw=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)}}),t})(),pw=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new nw(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new ew(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new rw(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof ew||t instanceof nw||t instanceof rw?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),gw=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[Tb],imports:[dw]}),t})(),mw=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:uw,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[pw,Tb],imports:[dw]}),t})();class yw{}class vw{}class bw{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof bw?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new bw;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof bw?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class ww{encodeKey(t){return _w(t)}encodeValue(t){return _w(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function _w(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Ow{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new ww,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ow({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Ew(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Sw(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Tw(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Cw{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new bw),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Ow,this.urlWithParams=e}serializeBody(){return null===this.body?null:Ew(this.body)||Sw(this.body)||Tw(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ow?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Tw(this.body)?null:Sw(this.body)?this.body.type||null:Ew(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ow?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new Cw(e,n,i,{params:u,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var Iw=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class xw{constructor(t,e=200,n="OK"){this.headers=t.headers||new bw,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Aw extends xw{constructor(t={}){super(t),this.type=Iw.ResponseHeader}clone(t={}){return new Aw({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class kw extends xw{constructor(t={}){super(t),this.type=Iw.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new kw({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class jw extends xw{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Rw(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Nw=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Cw)r=t;else{let i=void 0;i=n.headers instanceof bw?n.headers:new bw(n.headers);let o=void 0;n.params&&(o=n.params instanceof Ow?n.params:new Ow({fromObject:n.params})),r=new Cw(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(pt.a)(r).pipe(pe(t=>this.handler.handle(t)));if(t instanceof Cw||"events"===n.observe)return i;const o=i.pipe(Mt(t=>t instanceof kw));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(Dt.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(Dt.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(Dt.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(Dt.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Ow).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Rw(n,e))}post(t,e,n={}){return this.request("POST",t,Rw(n,e))}put(t,e,n={}){return this.request("PUT",t,Rw(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(yw))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class Dw{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Pw=new r.q("HTTP_INTERCEPTORS");let Lw=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const Mw=/^\)\]\}',?\n/;class Vw{}let Fw=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Uw=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Tt.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new bw(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Aw({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(Mw,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new kw({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new jw({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new jw({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:Iw.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:Iw.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:Iw.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Vw))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const qw=new r.q("XSRF_COOKIE_NAME"),Bw=new r.q("XSRF_HEADER_NAME");class Hw{}let zw=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=x(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(s),r.Qb(r.B),r.Qb(qw))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Gw=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Hw),r.Qb(Bw))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Qw=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Pw,[]);this.chain=t.reduceRight((t,e)=>new Dw(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(vw),r.Qb(r.r))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Kw=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Gw,useClass:Lw}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:qw,useValue:e.cookieName}:[],e.headerName?{provide:Bw,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[Gw,{provide:Pw,useExisting:Gw,multi:!0},{provide:Hw,useClass:zw},{provide:qw,useValue:"XSRF-TOKEN"},{provide:Bw,useValue:"X-XSRF-TOKEN"}]}),t})(),Ww=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[Nw,{provide:yw,useClass:Qw},Uw,{provide:vw,useExisting:Uw},Fw,{provide:Vw,useExisting:Fw}],imports:[[Kw.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),$w=(()=>{class t{constructor(t){this.HttpClient=t}getPaises(){return new Promise((t,e)=>{this.HttpClient.get("https://restcountries.eu/rest/v2/all").subscribe(e=>{t(e.slice(0,100))},e)})}getDetalle(t){return new Promise((e,n)=>{this.HttpClient.get("https://restcountries.eu/rest/v2/name/"+t).subscribe(t=>{e(t.slice(0,100))},n)})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Nw))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Jw(t,e){if(1&t){const t=r.Nb();r.Mb(0,"div",2),r.Mb(1,"div",3),r.Tb("click",(function(){r.Yb(t);const n=e.$implicit;return r.Vb().seleccion(n.name)})),r.Mb(2,"div",4),r.Kb(3,"img",5),r.Lb(),r.Mb(4,"div",4),r.Mb(5,"h5"),r.cc(6),r.Lb(),r.Lb(),r.Kb(7,"hr"),r.Lb(),r.Lb()}if(2&t){const t=e.$implicit;r.yb(3),r.Wb("src",t.flag,r.Zb),r.yb(3),r.dc(t.name)}}let Xw=(()=>{class t{constructor(t){this.PaisesService=t,this.select=new r.n}ngOnInit(){return Object(ai.b)(this,void 0,void 0,(function*(){try{this.pais=yield this.PaisesService.getPaises()}catch(t){console.log(t)}}))}seleccion(t){this.select.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb($w))},t.\u0275cmp=r.Db({type:t,selectors:[["app-tabla-paises"]],outputs:{select:"select"},decls:2,vars:1,consts:[[1,"content"],["class","container",4,"ngFor","ngForOf"],[1,"container"],[1,"row",2,"padding","0.5em",3,"click"],[1,"col"],[3,"src"]],template:function(t,e){1&t&&(r.Mb(0,"div",0),r.bc(1,Jw,8,2,"div",1),r.Lb()),2&t&&(r.yb(1),r.Wb("ngForOf",e.pais))},directives:[k],styles:["img[_ngcontent-%COMP%]{width:50px}.content[_ngcontent-%COMP%]{width:300px;overflow:scroll;height:320px}"]}),t})();function Yw(t,e){1&t&&(r.Mb(0,"small",23),r.cc(1,"El nombre es requerido"),r.Lb())}function Zw(t,e){1&t&&(r.Mb(0,"small",23),r.cc(1,"El apellido es requerido"),r.Lb())}function t_(t,e){1&t&&(r.Mb(0,"small",23),r.cc(1,"El contacto es requerido"),r.Lb())}function e_(t,e){1&t&&(r.Mb(0,"small",23),r.cc(1,"La edad es requerida"),r.Lb())}function n_(t,e){1&t&&(r.Mb(0,"small",23),r.cc(1,"El pais es requerido"),r.Lb())}let r_=(()=>{class t{constructor(t,e){this.fb=t,this.storage=e}ngOnInit(){this.forma=this.fb.group({nombre:["",mb.required],apellido:["",mb.required],edad:["",[mb.required,mb.min(18),mb.max(99)]],correo:["",[mb.required,mb.email]],pais:["",mb.required]})}seleccion(t){this.forma.get("pais").setValue(t)}aceptar(){return Object(ai.b)(this,void 0,void 0,(function*(){if(this.forma.valid)try{const t=yield this.storage.getList("Actores");console.log(t),t.forEach(t=>{if(t.correo===this.forma.get("correo").value)throw"Este email ya esta tomado..."}),yield this.storage.setDoc("Actores",this.forma.value),this.forma.reset(),window.alert("Encuesta enviada correctamente, gracias por participar!")}catch(t){window.alert(t)}else window.alert("Por favor, complete correctamente los campos antes de enviar el formulario.")}))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(pw),r.Jb(Hv))},t.\u0275cmp=r.Db({type:t,selectors:[["app-alta-actores"]],decls:41,vars:6,consts:[[1,"container",2,"margin-top","4em"],[1,"row","g-5"],[1,"col-md-5","col-lg-4","order-md-last"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-primary"],[3,"select"],[1,"col-md-7","col-lg-8"],[1,"mb-3"],[3,"formGroup","ngSubmit"],[1,"row","g-3"],[1,"col-sm-6"],["for","firstName",1,"form-label"],["type","text","placeholder","Inserte nombre","formControlName","nombre",1,"form-control"],["class","invalid",4,"ngIf"],[1,"form-label"],["type","text","placeholder","Inserte apellido","formControlName","apellido",1,"form-control"],[1,"col-12"],["for","email",1,"form-label"],["type","email","id","email","placeholder","contacto@contacto.com","formControlName","correo",1,"form-control"],["type","number","min","1","max","99","formControlName","edad",1,"form-control"],["type","text","placeholder","Seleccione un pais","formControlName","pais","disabled","",1,"form-control"],[1,"my-4"],["type","submit",1,"w-100","btn","btn-primary","btn-lg"],[1,"invalid"]],template:function(t,e){1&t&&(r.Mb(0,"div",0),r.Mb(1,"main"),r.Mb(2,"div",1),r.Mb(3,"div",2),r.Mb(4,"h4",3),r.Mb(5,"span",4),r.cc(6,"Lista de paises"),r.Lb(),r.Lb(),r.Mb(7,"app-tabla-paises",5),r.Tb("select",(function(t){return e.seleccion(t)})),r.Lb(),r.Lb(),r.Mb(8,"div",6),r.Mb(9,"h4",7),r.cc(10,"Alta actor"),r.Lb(),r.Mb(11,"form",8),r.Tb("ngSubmit",(function(){return e.aceptar()})),r.Mb(12,"div",9),r.Mb(13,"div",10),r.Mb(14,"label",11),r.cc(15,"Nombre"),r.Lb(),r.Kb(16,"input",12),r.bc(17,Yw,2,0,"small",13),r.Lb(),r.Mb(18,"div",10),r.Mb(19,"label",14),r.cc(20,"Apellido"),r.Lb(),r.Kb(21,"input",15),r.bc(22,Zw,2,0,"small",13),r.Lb(),r.Mb(23,"div",16),r.Mb(24,"label",17),r.cc(25,"Correo"),r.Lb(),r.Kb(26,"input",18),r.bc(27,t_,2,0,"small",13),r.Lb(),r.Mb(28,"div",10),r.Mb(29,"label",11),r.cc(30,"Edad"),r.Lb(),r.Kb(31,"input",19),r.bc(32,e_,2,0,"small",13),r.Lb(),r.Mb(33,"div",10),r.Mb(34,"label",14),r.cc(35,"Pais"),r.Lb(),r.Kb(36,"input",20),r.bc(37,n_,2,0,"small",13),r.Lb(),r.Lb(),r.Kb(38,"hr",21),r.Mb(39,"button",22),r.cc(40,"Crear"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb()),2&t&&(r.yb(11),r.Wb("formGroup",e.forma),r.yb(6),r.Wb("ngIf",e.forma.get("nombre").invalid&&e.forma.get("nombre").touched),r.yb(5),r.Wb("ngIf",e.forma.get("apellido").invalid&&e.forma.get("apellido").touched),r.yb(5),r.Wb("ngIf",e.forma.get("correo").invalid&&e.forma.get("correo").touched),r.yb(5),r.Wb("ngIf",e.forma.get("edad").invalid&&e.forma.get("edad").touched),r.yb(5),r.Wb("ngIf",e.forma.get("pais").invalid&&e.forma.get("pais").touched))},directives:[Xw,aw,lb,lw,rb,cb,fw,R,Eb],styles:["small[_ngcontent-%COMP%]{color:red}"]}),t})();class i_{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new o_(t,this.dueTime,this.scheduler))}}class o_ extends _t.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(s_,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function s_(t){t.debouncedNext()}var a_="firebasestorage.googleapis.com",u_=function(t){function e(n,r){var i=t.call(this,c_(n),"Firebase Storage: "+r+" ("+c_(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return Object(ai.c)(e,t),e.prototype._codeEquals=function(t){return c_(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(vi.c);function c_(t){return"storage/"+t}function l_(){return new u_("unknown","An unknown error occurred, please check the error payload for server response.")}function h_(){return new u_("canceled","User canceled the upload/download.")}function f_(){return new u_("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function d_(t){return new u_("invalid-argument",t)}function p_(){return new u_("app-deleted","The Firebase app was deleted.")}function g_(t){return new u_("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function m_(t,e){return new u_("invalid-format","String does not match format '"+t+"': "+e)}function y_(t){throw new u_("internal-error","Internal error: "+t)}var v_={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},b_=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function w_(t,e){switch(t){case v_.RAW:return new b_(__(e));case v_.BASE64:case v_.BASE64URL:return new b_(O_(t,e));case v_.DATA_URL:return new b_((n=new E_(e)).base64?O_(v_.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(Ov){throw m_(v_.DATA_URL,"Malformed data URL.")}return __(e)}(n.rest),new E_(e).contentType)}var n;throw l_()}function __(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function O_(t,e){switch(t){case v_.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw m_(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case v_.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw m_(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(Ov){throw m_(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var E_=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw m_(v_.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),S_={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function T_(t){switch(t){case"running":case"pausing":case"canceling":return S_.RUNNING;case"paused":return S_.PAUSED;case"success":return S_.SUCCESS;case"canceled":return S_.CANCELED;case"error":default:return S_.ERROR}}var C_=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),I_=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=C_.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=C_.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=C_.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw y_("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw y_("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw y_("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Ov){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw y_("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),x_=function(){function t(){}return t.prototype.createXhrIo=function(){return new I_},t}(),A_=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(Ov){return new t(e,"")}if(""===r.path)return r;throw new u_("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)",o=new RegExp("^gs://"+i+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}for(var a=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://"+(n===a_?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:s}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(e);if(h){var f=h[l.indices.path];f||(f=""),r=new t(h[l.indices.bucket],f),l.postModify(r);break}}if(null==r)throw function(t){return new u_("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),k_=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function j_(t){return"string"==typeof t||t instanceof String}function R_(t){return N_()&&t instanceof Blob}function N_(){return"undefined"!=typeof Blob}function D_(t,e,n,r){if(r<e)throw d_("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw d_("Invalid value for '"+t+"'. Expected "+n+" or less.")}function P_(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function L_(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var M_=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(Ov){o(Ov)}else null!==s?((r=l_()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?p_():h_():new u_("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new V_(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new V_(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===C_.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new V_(s,n))}else{var a=n.getErrorCode()===C_.ABORT;e(!1,new V_(!1,null,a))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())}),e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(ai.f)([null,t],e));else{var r;u()||s?l.call.apply(l,Object(ai.f)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout((function(){s=!0,p(!0)}),r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),V_=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function F_(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function U_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=F_();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(N_())return new Blob(t);throw new u_("unsupported-environment","This browser doesn't seem to support creating Blobs")}var q_=function(){function t(t,e){var n=0,r="";R_(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(R_(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(N_()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(U_.apply(null,r))}var i=e.map((function(t){return j_(t)?w_(v_.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();function B_(t){var e,n;try{e=JSON.parse(t)}catch(Ov){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function H_(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function z_(t,e){return e}var G_=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||z_}}(),Q_=null;function K_(){if(Q_)return Q_;var t=[];t.push(new G_("bucket")),t.push(new G_("generation")),t.push(new G_("metageneration")),t.push(new G_("name","fullPath",!0));var e=new G_("name");e.xform=function(t,e){return function(t){return!j_(t)||t.length<2?t:H_(t)}(e)},t.push(e);var n=new G_("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new G_("timeCreated")),t.push(new G_("updated")),t.push(new G_("md5Hash",null,!0)),t.push(new G_("cacheControl",null,!0)),t.push(new G_("contentDisposition",null,!0)),t.push(new G_("contentEncoding",null,!0)),t.push(new G_("contentLanguage",null,!0)),t.push(new G_("contentType",null,!0)),t.push(new G_("metadata","customMetadata",!0)),Q_=t}function W_(t,e,n){var r=B_(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new A_(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function $_(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var J_=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function X_(t){if(!t)throw l_()}function Y_(t,e){return function(n,r){var i=W_(t,r,e);return X_(null!==i),i}}function Z_(t){return function(e,n){var r;return(r=401===e.getStatus()?new u_("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new u_("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new u_("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function tO(t){var e=Z_(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new u_("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function eO(t,e,n){var r=P_(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new J_(r,"GET",Y_(t,n),i);return o.errorHandler=tO(e),o}function nO(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var rO=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function iO(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(Ov){X_(!1)}return X_(!!n&&-1!==(e||["active"]).indexOf(n)),n}var oO=262144,sO=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function aO(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var uO=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=K_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage._getAuthToken().then((function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=nO(e,r,i),a={name:s.fullPath},u=P_(o,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=$_(s,n),h=new J_(u,"POST",(function(t){var e;iO(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(Ov){X_(!1)}return X_(j_(e)),e}),t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=Z_(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n){var r=function(t,e,n,r){var i=new J_(n,"POST",(function(t){var e=iO(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Ov){X_(!1)}n||X_(!1);var i=Number(n);return X_(!isNaN(i)),new rO(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=Z_(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage._makeRequest(r,n);t._request=i,i.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=oO*this._chunkMultiplier,n=new rO(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var u=new rO(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new u_("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw f_();var p=new J_(n,"POST",(function(t,n){var i,s=iO(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?Y_(e,o)(t,n):null,new rO(a,c,"final"===s,i)}),e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=a||null,p.errorHandler=Z_(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(Ov){return t._error=Ov,void t._transition("error")}var s=t._ref.storage._makeRequest(o,i);t._request=s,s.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){oO*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e){var n=eO(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=nO(e,r,i),c=$_(u,n),l=q_.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw f_();var h={name:u.fullPath},f=P_(o,t.host),d=t.maxUploadRetryTime,p=new J_(f,"POST",Y_(t,n),d);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=Z_(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=h_(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=T_(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new sO(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(T_(this._state)){case S_.SUCCESS:aO(this._resolve.bind(null,this.snapshot))();break;case S_.CANCELED:case S_.ERROR:aO(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(T_(this._state)){case S_.RUNNING:case S_.PAUSED:t.next&&aO(t.next.bind(t,this.snapshot))();break;case S_.SUCCESS:t.complete&&aO(t.complete.bind(t))();break;case S_.CANCELED:case S_.ERROR:t.error&&aO(t.error.bind(t,this._error))();break;default:t.error&&aO(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),cO=function(){function t(t,e){this._service=t,this._location=e instanceof A_?e:A_.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new A_(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return H_(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new A_(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw g_(t)},t}();function lO(t,e){return Object(ai.b)(this,void 0,void 0,(function(){var n,r,i;return Object(ai.d)(this,(function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&D_("options.maxResults",1,1e3,e.maxResults),[4,t.storage._getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=P_(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,u=new J_(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=B_(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new A_(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t._makeStorageReference(new A_(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return X_(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=Z_(e),u}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage._makeRequest(i,n).getPromise()]}}))}))}function hO(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new A_(t._location.bucket,n);return new cO(t.storage,r)}function fO(t){return/^[A-Za-z]+:\/\//.test(t)}function dO(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:A_.makeFromBucketSpec(n,t)}var pO=function(){function t(t,e,n,r,i){this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=a_,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?A_.makeFromBucketSpec(r,this._host):dO(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?A_.makeFromBucketSpec(this._url,t):dO(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){D_("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){D_("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(ai.b)(this,void 0,void 0,(function(){var t,e;return Object(ai.d)(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new cO(this,t)},t.prototype._makeRequest=function(t,e){var n=this;if(this._deleted)return new k_(p_());var r=function(t,e,n,r,i){var o=L_(t.urlParams),s=t.url+o,a=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(a,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(a,i),new M_(s,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},t}();function gO(t,e){return function(t,e){if(e&&fO(e)){if(t instanceof pO)return new cO(t,e);throw d_("To use ref(service, url), the first argument must be a Storage instance.")}return function t(e,n){if(e instanceof pO){var r=e;if(null==r._bucket)throw new u_("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new cO(r,r._bucket);return null!=n?t(i,n):i}if(void 0!==n){if(n.includes(".."))throw d_('`path` param cannot contain ".."');return hO(e,n)}return e}(t,e)}(t=Object(vi.h)(t),e)}var mO,yO,vO=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),bO=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new vO(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new vO(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new vO(t,i,i._ref))}:{next:e.next?function(t){return e.next(new vO(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),wO=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new _O(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new _O(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),_O=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return hO(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new bO(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new uO(t,new q_(e),n)}(t=Object(vi.h)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=v_.RAW),this._throwIfRoot("putString");var r=w_(e,t),i=Object(ai.a)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new bO(new uO(this._delegate,new q_(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,function(t){var e={prefixes:[],items:[]};return function t(e,n,r){return Object(ai.b)(this,void 0,void 0,(function(){var i,o,s;return Object(ai.d)(this,(function(a){switch(a.label){case 0:return[4,lO(e,{pageToken:r})];case 1:return i=a.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(s=n.items).push.apply(s,i.items),null==i.nextPageToken?[3,3]:[4,t(e,n,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}(t,e).then((function(){return e}))}(t=Object(vi.h)(t))).then((function(t){return new wO(t,e.storage)}))},t.prototype.list=function(t){var e=this;return function(t,e){return lO(t=Object(vi.h)(t),e)}(this._delegate,t||void 0).then((function(t){return new wO(t,e.storage)}))},t.prototype.getMetadata=function(){return t=this._delegate,function(t){return Object(ai.b)(this,void 0,void 0,(function(){var e,n;return Object(ai.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=eO(t.storage,t._location,K_()),[2,t.storage._makeRequest(n,e).getPromise()]}}))}))}(t=Object(vi.h)(t));var t},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return Object(ai.b)(this,void 0,void 0,(function(){var n,r;return Object(ai.d)(this,(function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage._getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=P_(e.fullServerUrl(),t.host),o=$_(n,r),s=t.maxOperationRetryTime,a=new J_(i,"PATCH",Y_(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=tO(e),a}(t.storage,t._location,e,K_()),[2,t.storage._makeRequest(r,n).getPromise()]}}))}))}(t=Object(vi.h)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,function(t){return Object(ai.b)(this,void 0,void 0,(function(){var e,n;return Object(ai.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=P_(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new J_(r,"GET",function(t,e){return function(n,r){var i=W_(t,r,e);return X_(null!==i),function(t,e,n){var r=B_(e);if(null===r)return null;if(!j_(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(e){var r=t.fullPath;return P_("/b/"+o(t.bucket)+"/o/"+o(r),n)+L_({alt:"media",token:e})}))[0]}(i,r,t.host)}}(t,n),i);return o.errorHandler=tO(e),o}(t.storage,t._location,K_()),[2,t.storage._makeRequest(n,e).getPromise().then((function(t){if(null===t)throw new u_("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}(t=Object(vi.h)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,function(t){return Object(ai.b)(this,void 0,void 0,(function(){var e,n;return Object(ai.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=P_(e.fullServerUrl(),t.host),r=new J_(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=tO(e),r}(t.storage,t._location),[2,t.storage._makeRequest(n,e).getPromise()]}}))}))}(t=Object(vi.h)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw g_(t)},t}(),OO=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(fO(t))throw d_("ref() expected a child path but got a URL, use refFromURL instead.");return new _O(gO(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!fO(t))throw d_("refFromURL() expected a full URL but got a child path, use ref() instead.");try{A_.makeFromUrl(t,this._delegate.host)}catch(Ov){throw d_("refFromUrl() expected a valid full URL but got an invalid one.")}return new _O(gO(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){t.host="http://"+e+":"+n}(this._delegate,t,e)},t}();function EO(t){const e=function(t){return new Tt.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=ui.a){return n=>n.lift(new i_(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(Dt.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function SO(t,e,n){return{getDownloadURL:()=>Object(pt.a)(void 0).pipe(Object(pi.b)(e.outsideAngular),Zt(()=>t.getDownloadURL()),n),getMetadata:()=>Object(pt.a)(void 0).pipe(Object(pi.b)(e.outsideAngular),Zt(()=>t.getMetadata()),n),delete:()=>Object(gt.a)(t.delete()),child:r=>SO(t.child(r),e,n),updateMetadata:e=>Object(gt.a)(t.updateMetadata(e)),put:(e,n)=>EO(t.put(e,n)),putString:(e,n,r)=>EO(t.putString(e,n,r)),listAll:()=>Object(gt.a)(t.listAll())}}yO={TaskState:S_,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:v_,Storage:pO,Reference:_O},(mO=yi.a).INTERNAL.registerComponent(new Tv.a("storage",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal");return new OO(r,new pO(r,i,new x_,n,yi.a.SDK_VERSION))}),"PUBLIC").setServiceProps(yO).setMultipleInstances(!0)),mO.registerVersion("@firebase/storage","0.5.1");const TO=new r.q("angularfire2.storageBucket"),CO=new r.q("angularfire2.storage.maxUploadRetryTime"),IO=new r.q("angularfire2.storage.maxOperationRetryTime");let xO=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new gi.d(i),this.keepUnstableUntilFirst=Object(gi.h)(this.schedulers);const a=Object(gi.g)(t,i,e);this.storage=Object(gi.f)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),s&&t.setMaxOperationRetryTime(s),t},[o,s])}ref(t){return SO(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return SO(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return SO(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(gi.c),r.Qb(gi.b,8),r.Qb(TO,8),r.Qb(r.B),r.Qb(r.z),r.Qb(CO,8),r.Qb(IO,8))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Qb)(gi.c),Object(r.Qb)(gi.b,8),Object(r.Qb)(TO,8),Object(r.Qb)(r.B),Object(r.Qb)(r.z),Object(r.Qb)(CO,8),Object(r.Qb)(IO,8))},token:t,providedIn:"any"}),t})(),AO=(()=>{class t{constructor(t){this.file=t}storeFile(t,e){return Object(ai.b)(this,void 0,void 0,(function*(){return new Promise((n,r)=>Object(ai.b)(this,void 0,void 0,(function*(){try{const r=yield this.file.upload(t,e),i=yield r.ref.getDownloadURL();n(i)}catch(i){r(i)}})))}))}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(xO))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function kO(t,e){if(1&t){const t=r.Nb();r.Mb(0,"div",1),r.Mb(1,"div",2),r.Mb(2,"div",3),r.cc(3),r.Lb(),r.Mb(4,"div",3),r.cc(5),r.Lb(),r.Mb(6,"div",3),r.cc(7),r.Lb(),r.Mb(8,"div",3),r.Mb(9,"button",4),r.Tb("click",(function(){r.Yb(t);const n=e.$implicit;return r.Vb().seleccion(n.correo,n.pais)})),r.cc(10),r.Lb(),r.Lb(),r.Lb(),r.Lb()}if(2&t){const t=e.$implicit,n=r.Vb();r.yb(3),r.ec(" ",t.nombre," "),r.yb(2),r.ec(" ",t.apellido," "),r.yb(2),r.ec(" ",t.pais," "),r.yb(3),r.dc(n.flag?"Detalle":"Agregar")}}let jO=(()=>{class t{constructor(){this.flag=!1,this.select=new r.n}ngOnInit(){}seleccion(t,e){this.select.emit(this.flag?{id:t,pais:e}:t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-tabla-actor"]],inputs:{actores:"actores",flag:"flag"},outputs:{select:"select"},decls:2,vars:3,consts:[["class","container",4,"ngFor","ngForOf"],[1,"container"],[1,"row",2,"padding","0.5em"],[1,"col-3"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,e){1&t&&(r.Mb(0,"div"),r.bc(1,kO,11,4,"div",0),r.Lb()),2&t&&(r.Ab(e.flag?"":"content"),r.yb(1),r.Wb("ngForOf",e.actores))},directives:[k],styles:["img[_ngcontent-%COMP%]{width:50px}.content[_ngcontent-%COMP%]{width:30em;overflow:scroll;height:320px}"]}),t})();function RO(t,e){1&t&&(r.Mb(0,"small",30),r.cc(1,"El nombre es requerido"),r.Lb())}function NO(t,e){1&t&&(r.Mb(0,"small",30),r.cc(1,"La fecha de estreno es requerida"),r.Lb())}function DO(t,e){1&t&&(r.Mb(0,"small",30),r.cc(1,"La descripcion es requerido"),r.Lb())}function PO(t,e){1&t&&(r.Mb(0,"small",30),r.cc(1,"La cantidad de publico es requerido"),r.Lb())}function LO(t,e){1&t&&(r.Mb(0,"small",30),r.cc(1,"Tipo es requerido"),r.Lb())}function MO(t,e){1&t&&(r.Mb(0,"small",30),r.cc(1,"La imagen de portada es requerida"),r.Lb())}function VO(t,e){1&t&&(r.Mb(0,"small",30),r.cc(1,"Actores es requerido"),r.Lb())}let FO=(()=>{class t{constructor(t,e,n){this.fb=t,this.storage=e,this.file=n}ngOnInit(){this.storage.getDoc("Actores").subscribe(t=>{this.actores=t}),this.forma=this.fb.group({nombre:["",mb.required],fecha:["",mb.required],descripcion:["",mb.required],publico:["",mb.required],tipo:["",mb.required],imagen:["",[mb.required]],actor:["",mb.required]})}seleccion(t){console.log(t),this.forma.get("actor").setValue(t)}upload(t,e){e.setValue(t.target.files[0])}aceptar(){return Object(ai.b)(this,void 0,void 0,(function*(){if(console.log(this.forma),this.forma.valid){const e=this.forma.value;try{const t=yield this.file.storeFile("peliculas/"+e.nombre,this.forma.get("imagen").value);let n=yield this.storage.getList("IdPeliculas");e.imagen=t,e.id=n[0].id,console.log(e),yield this.storage.setDoc("Peliculas",e),yield this.storage.setDoc("IdPeliculas",e.id++),window.alert("Se a creado una nueva pelicula!!!")}catch(t){window.alert(t)}}else window.alert("Por favor, complete correctamente los campos antes de enviar el formulario.")}))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(pw),r.Jb(Hv),r.Jb(AO))},t.\u0275cmp=r.Db({type:t,selectors:[["app-pelicula-alta"]],decls:61,vars:9,consts:[[1,"container",2,"margin-top","4em"],[1,"row","g-5"],[1,"col-md-5","col-lg-4","order-md-last"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-primary"],[3,"actores","select"],[1,"col-md-7","col-lg-8"],[1,"mb-3"],[3,"formGroup","ngSubmit"],[1,"row","g-3"],[1,"col-sm-6"],["for","firstName",1,"form-label"],["type","text","placeholder","Inserte nombre","formControlName","nombre",1,"form-control"],["class","invalid",4,"ngIf"],[1,"form-label"],["type","date","placeholder","Inserte fecha de estreno","formControlName","fecha",1,"form-control"],[1,"col-12"],["for","descripcion",1,"form-label"],["type","text","id","descripcion","placeholder","La historia trata de...","formControlName","descripcion",1,"form-control"],["type","number","formControlName","publico",1,"form-control"],["formControlName","tipo",1,"form-control"],["value","","selected",""],["value","terror"],["value","amor"],["value","accion"],["value","otro"],["type","file",1,"form-control",3,"change"],["type","text","placeholder","Seleccione actores","formControlName","actor","disabled","",1,"form-control"],[1,"my-4"],["type","submit",1,"w-100","btn","btn-primary","btn-lg"],[1,"invalid"]],template:function(t,e){1&t&&(r.Mb(0,"div",0),r.Mb(1,"main"),r.Mb(2,"div",1),r.Mb(3,"div",2),r.Mb(4,"h4",3),r.Mb(5,"span",4),r.cc(6,"Lista de actores"),r.Lb(),r.Lb(),r.Mb(7,"app-tabla-actor",5),r.Tb("select",(function(t){return e.seleccion(t)})),r.Lb(),r.Lb(),r.Mb(8,"div",6),r.Mb(9,"h4",7),r.cc(10,"Alta pelicula"),r.Lb(),r.Mb(11,"form",8),r.Tb("ngSubmit",(function(){return e.aceptar()})),r.Mb(12,"div",9),r.Mb(13,"div",10),r.Mb(14,"label",11),r.cc(15,"Nombre"),r.Lb(),r.Kb(16,"input",12),r.bc(17,RO,2,0,"small",13),r.Lb(),r.Mb(18,"div",10),r.Mb(19,"label",14),r.cc(20,"Fecha de estreno"),r.Lb(),r.Kb(21,"input",15),r.bc(22,NO,2,0,"small",13),r.Lb(),r.Mb(23,"div",16),r.Mb(24,"label",17),r.cc(25,"Descripcion"),r.Lb(),r.Kb(26,"input",18),r.bc(27,DO,2,0,"small",13),r.Lb(),r.Mb(28,"div",10),r.Mb(29,"label",11),r.cc(30,"Cantidad de publico"),r.Lb(),r.Kb(31,"input",19),r.bc(32,PO,2,0,"small",13),r.Lb(),r.Mb(33,"div",10),r.Mb(34,"label",14),r.cc(35,"Tipo"),r.Lb(),r.Mb(36,"select",20),r.Mb(37,"option",21),r.cc(38,"Seleccione un tipo"),r.Lb(),r.Mb(39,"option",22),r.cc(40,"Terror"),r.Lb(),r.Mb(41,"option",23),r.cc(42,"Amor"),r.Lb(),r.Mb(43,"option",24),r.cc(44,"Accion"),r.Lb(),r.Mb(45,"option",25),r.cc(46,"Otro"),r.Lb(),r.Lb(),r.bc(47,LO,2,0,"small",13),r.Lb(),r.Mb(48,"div",10),r.Mb(49,"label",11),r.cc(50,"Imagen de portada"),r.Lb(),r.Mb(51,"input",26),r.Tb("change",(function(t){return e.upload(t,e.forma.get("imagen"))})),r.Lb(),r.bc(52,MO,2,0,"small",13),r.Lb(),r.Mb(53,"div",10),r.Mb(54,"label",14),r.cc(55,"Actor"),r.Lb(),r.Kb(56,"input",27),r.bc(57,VO,2,0,"small",13),r.Lb(),r.Lb(),r.Kb(58,"hr",28),r.Mb(59,"button",29),r.cc(60,"Crear"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb()),2&t&&(r.yb(7),r.Wb("actores",e.actores),r.yb(4),r.Wb("formGroup",e.forma),r.yb(6),r.Wb("ngIf",e.forma.get("nombre").invalid&&e.forma.get("nombre").touched),r.yb(5),r.Wb("ngIf",e.forma.get("fecha").invalid&&e.forma.get("fecha").touched),r.yb(5),r.Wb("ngIf",e.forma.get("descripcion").invalid&&e.forma.get("descripcion").touched),r.yb(5),r.Wb("ngIf",e.forma.get("publico").invalid&&e.forma.get("publico").touched),r.yb(15),r.Wb("ngIf",e.forma.get("tipo").invalid&&e.forma.get("tipo").touched),r.yb(5),r.Wb("ngIf",e.forma.get("imagen").invalid&&e.forma.get("imagen").touched),r.yb(5),r.Wb("ngIf",e.forma.get("actor").invalid&&e.forma.get("actor").touched))},directives:[jO,aw,lb,lw,rb,cb,fw,R,Eb,jb,Rb,Lb],styles:["small[_ngcontent-%COMP%]{color:red}"]}),t})();function UO(t,e){if(1&t&&(r.Mb(0,"div",1),r.Kb(1,"img",2),r.Mb(2,"h5"),r.cc(3),r.Lb(),r.Mb(4,"h5"),r.cc(5),r.Lb(),r.Mb(6,"h5"),r.cc(7),r.Lb(),r.Mb(8,"h5"),r.cc(9),r.Lb(),r.Lb()),2&t){const t=r.Vb();r.yb(1),r.Wb("src",t.pais.flag,r.Zb)("alt",t.pais.name),r.yb(2),r.ec("Nombre: ",t.pais.name,""),r.yb(2),r.ec("Region: ",t.pais.region,""),r.yb(2),r.ec("Capital: ",t.pais.capital,""),r.yb(2),r.ec("Poblacion: ",t.pais.population,"")}}let qO=(()=>{class t{constructor(){this.pais=null}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-detalle-pais"]],inputs:{pais:"pais"},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[3,"src","alt"]],template:function(t,e){1&t&&r.bc(0,UO,10,6,"div",0),2&t&&r.Wb("ngIf",null!=e.pais)},directives:[R],styles:["img[_ngcontent-%COMP%]{width:50px}"]}),t})();function BO(t,e){if(1&t&&(r.Mb(0,"div",1),r.Mb(1,"h5"),r.cc(2),r.Lb(),r.Mb(3,"h5"),r.cc(4),r.Lb(),r.Mb(5,"h5"),r.cc(6),r.Lb(),r.Mb(7,"h5"),r.cc(8),r.Lb(),r.Mb(9,"h5"),r.cc(10),r.Lb(),r.Lb()),2&t){const t=r.Vb();r.yb(2),r.ec("Nombre: ",t.actor.nombre,""),r.yb(2),r.ec("Apellido: ",t.actor.apellido,""),r.yb(2),r.ec("Correo: ",t.actor.correo,""),r.yb(2),r.ec("Edad: ",t.actor.edad,""),r.yb(2),r.ec("Pais: ",t.actor.pais,"")}}let HO=(()=>{class t{constructor(){this.actor=null}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-detalle-actor"]],inputs:{actor:"actor"},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"]],template:function(t,e){1&t&&r.bc(0,BO,11,5,"div",0),2&t&&r.Wb("ngIf",null!=e.actor)},directives:[R],styles:[""]}),t})();const zO=[{path:"bienvenido",component:si},{path:"busqueda",component:$v},{path:"AltaActores",component:r_},{path:"PeliculaAlta",component:FO},{path:"ActorPelicula",component:(()=>{class t{constructor(t,e){this.StoreService=t,this.PaisesService=e}ngOnInit(){this.StoreService.getDoc("Actores").subscribe(t=>this.actores=t)}seleccion(t){return Object(ai.b)(this,void 0,void 0,(function*(){try{const e=yield this.StoreService.getList("Peliculas"),n=yield this.PaisesService.getDetalle(t.pais);this.pais=n[0],console.log(this.pais),this.peliculas=e.filter(e=>e.actor==t.id),this.actor=this.actores.filter(e=>e.correo==t.id)[0]}catch(e){}}))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Hv),r.Jb($w))},t.\u0275cmp=r.Db({type:t,selectors:[["app-actor-pelicula"]],decls:19,vars:4,consts:[[1,"jumbotron"],[1,"container"],[1,"display-3"],["flag","true",3,"actores","select"],[1,"row"],[1,"col-md-4"],[3,"pelicula"],[3,"pais"],[3,"actor"]],template:function(t,e){1&t&&(r.Mb(0,"div",0),r.Mb(1,"div",1),r.Mb(2,"h1",2),r.cc(3,"Listado de Actores"),r.Lb(),r.Mb(4,"app-tabla-actor",3),r.Tb("select",(function(t){return e.seleccion(t)})),r.Lb(),r.Lb(),r.Lb(),r.Mb(5,"div",1),r.Mb(6,"div",4),r.Mb(7,"div",5),r.Mb(8,"h2"),r.cc(9,"Peliculas del actor"),r.Lb(),r.Kb(10,"app-tabla-pelicula",6),r.Lb(),r.Mb(11,"div",5),r.Mb(12,"h2"),r.cc(13,"Pais del actor"),r.Lb(),r.Kb(14,"app-detalle-pais",7),r.Lb(),r.Mb(15,"div",5),r.Mb(16,"h2"),r.cc(17,"Detalle del actor"),r.Lb(),r.Kb(18,"app-detalle-actor",8),r.Lb(),r.Lb(),r.Lb()),2&t&&(r.yb(4),r.Wb("actores",e.actores),r.yb(6),r.Wb("pelicula",e.peliculas),r.yb(4),r.Wb("pais",e.pais),r.yb(4),r.Wb("actor",e.actor))},directives:[jO,Qv,qO,HO],styles:[""]}),t})()},{path:"",pathMatch:"full",redirectTo:"bienvenido"}];let GO=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[Xr.forRoot(zO)],Xr]}),t})(),QO=(()=>{class t{constructor(){this.title="pruebaPacial"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-root"]],decls:25,vars:0,consts:[[1,"navbar","navbar-expand-md","navbar-dark","fixed-top","bg-dark"],["routerLink","/bienvenido",1,"navbar-brand",2,"margin-left","30px"],["type","button","data-toggle","collapse","data-target","#navbarsExampleDefault","aria-controls","navbarsExampleDefault","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExampleDefault",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["routerLink","/busqueda",1,"nav-link"],["routerLink","/AltaActores",1,"nav-link"],["routerLink","/PeliculaAlta",1,"nav-link"],["routerLink","/ActorPelicula",1,"nav-link"],[1,"form-inline","my-2","my-lg-0"],["id","sticky-footer",1,"py-1","bg-dark","text-white-50","fixed-bottom"],[1,"container","text-center"]],template:function(t,e){1&t&&(r.Mb(0,"nav",0),r.Mb(1,"a",1),r.cc(2,"Parcial"),r.Lb(),r.Mb(3,"button",2),r.Kb(4,"span",3),r.Lb(),r.Mb(5,"div",4),r.Mb(6,"ul",5),r.Mb(7,"li",6),r.Mb(8,"a",7),r.cc(9,"Listado Peliculas"),r.Lb(),r.Lb(),r.Mb(10,"li",6),r.Mb(11,"a",8),r.cc(12,"Alta Actores"),r.Lb(),r.Lb(),r.Mb(13,"li",6),r.Mb(14,"a",9),r.cc(15,"Alta Peliculas"),r.Lb(),r.Lb(),r.Mb(16,"li",6),r.Mb(17,"a",10),r.cc(18,"Actor-Pelicula"),r.Lb(),r.Lb(),r.Lb(),r.Kb(19,"form",11),r.Lb(),r.Lb(),r.Kb(20,"router-outlet"),r.Mb(21,"footer",12),r.Mb(22,"div",13),r.Mb(23,"small"),r.cc(24,"Tomas Giordano 2021"),r.Lb(),r.Lb(),r.Lb())},directives:[Fr,aw,lb,sw,qr],styles:[""]}),t})(),KO=(()=>{class t{}return t.\u0275mod=r.Hb({type:t,bootstrap:[QO]}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[Ww],imports:[[dt,gw,mw,GO,Ww,gi.a.initializeApp({apiKey:"AIzaSyBk22tmWg4lhT4R9ZrA9a6qiJ1Cuy_cBzI",authDomain:"flatz-973e4.firebaseapp.com",databaseURL:"https://flatz-973e4.firebaseio.com",projectId:"flatz-973e4",storageBucket:"flatz-973e4.appspot.com",messagingSenderId:"153201490798",appId:"1:153201490798:web:1b567292190cfb627d5f7f",measurementId:"G-JM6N70YSQZ"})]]}),t})();Object(r.S)(),ht().bootstrapModule(KO).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u}));var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(o.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);